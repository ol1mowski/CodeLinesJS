var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,r=(t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,o=(e,t)=>{for(var s in t||(t={}))i.call(t,s)&&r(e,s,t[s]);if(a)for(var s of a(t))n.call(t,s)&&r(e,s,t[s]);return e},l=(e,a)=>t(e,s(a)),c=(e,t,s)=>new Promise(((a,i)=>{var n=e=>{try{o(s.next(e))}catch(t){i(t)}},r=e=>{try{o(s.throw(e))}catch(t){i(t)}},o=e=>e.done?a(e.value):Promise.resolve(e.value).then(n,r);o((s=s.apply(e,t)).next())}));import{r as d,X as m,Y as x,j as u,H as p,o as h,y as j,Z as g,x as y,P as b,_ as v,$ as f,u as N,a0 as w,a1 as k,a2 as S,a3 as z,m as C,z as L,C as T,a4 as P,L as E,a5 as A,a6 as O,p as $,O as R,q as D,c as G,a7 as _,t as F,K as B,h as M,a8 as I,a9 as U,aa as W,ab as H,ac as J,ad as q,ae as V,af as K,ag as Z,ah as Q,ai as X,aj as Y,v as ee,d as te,N as se,l as ae,ak as ie,e as ne,g as re,al as oe,am as le,an as ce,ao as de,f as me,ap as xe,aq as ue,ar as pe,as as he,at as je,au as ge,av as ye,aw as be,ax as ve,ay as fe,az as Ne,aA as we,aB as ke,E as Se,M as ze,aC as Ce}from"./vendor-react-rKoYWmoA.js";import{u as Le,A as Te,_ as Pe}from"./app-auth-C7PXR3ZM.js";import{m as Ee,A as Ae,a as Oe}from"./vendor-framer-motion-B3f1AHtz.js";import{u as $e}from"./app-community--Tcbi7ZO.js";import{f as Re,p as De,z as Ge,t as _e}from"./vendor-other-vtObmCDt.js";import{L as Fe,e as Be,f as Me,c as Ie,B as Ue}from"./app-components-DEez8atS.js";import{R as We,L as He,C as Je,X as qe,Y as Ve,T as Ke,b as Ze}from"./vendor-charts-B4o3stiW.js";import{l as Qe}from"./vendor-monaco-DcUJAjOu.js";const Xe={activeView:"community"},Ye=(e,t)=>"SET_ACTIVE_VIEW"===t.type?l(o({},e),{activeView:t.payload}):e,et=e=>c(void 0,null,(function*(){yield e.prefetchQuery({queryKey:["ranking"],queryFn:()=>c(void 0,null,(function*(){const{token:e}=Le(),t=yield fetch(`${Te}ranking`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch ranking");return t.json()}))})})),tt=d.memo((()=>{const e=m(),{state:{activeView:t},setActiveView:s}=(()=>{const[e,t]=d.useReducer(Ye,Xe);return{state:e,setActiveView:d.useCallback((e=>{t({type:"SET_ACTIVE_VIEW",payload:e})}),[])}})(),a=x();return d.useEffect((()=>{const a=e.pathname.split("community").pop()||"community";a!==t&&s(a)}),[e.pathname,t,s]),d.useEffect((()=>{"community"!==t&&"ranking"!==t||et(a)}),[t,a]),u.jsxs("div",{className:"p-8 w-full min-h-screen bg-dark/50 backdrop-blur-sm",children:[u.jsxs(p,{children:[u.jsx("title",{children:"Community | CodeLinesJS"}),u.jsx("meta",{name:"description",content:"Community CodeLinesJS - doÅ‚Ä…cz do nas i rozwijaj swoje umiejÄ™tnoÅ›ci w przyjaznym Å›rodowisku."})]}),u.jsx("div",{className:"max-w-7xl mx-auto",children:u.jsx("h1",{className:"text-3xl font-bold font-space text-js mb-8",children:"WkrÃ³tce"})})]})}));tt.displayName="CommunitySection";const st=Object.freeze(Object.defineProperty({__proto__:null,CommunitySection:tt},Symbol.toStringTag,{value:"Module"})),at={expanded:{width:"240px",transition:{type:"spring",stiffness:300,damping:30}},collapsed:{width:"100px",transition:{type:"spring",stiffness:300,damping:30}}},it={expanded:{opacity:1,x:0,transition:{type:"spring",stiffness:300,damping:30}},collapsed:{opacity:0,x:-10,transition:{duration:.2}}},nt=d.memo((({isExpanded:e})=>u.jsx("div",{className:"px-4 mb-8",children:u.jsxs(Ee.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 min-w-[40px] rounded-xl bg-js/20 flex items-center justify-center",children:u.jsx(h,{className:"text-xl text-js"})}),u.jsx(Ae,{mode:"wait",children:e&&u.jsx(Ee.span,{variants:it,initial:"collapsed",animate:"expanded",exit:"collapsed",className:"font-bold text-js font-space",children:"CodeLinesJS"})})]})})));nt.displayName="NavigationLogo";const rt=d.memo((({icon:e,label:t,isActive:s=!1,isExpanded:a,onClick:i,variant:n="default",id:r})=>u.jsxs(Ee.button,{onClick:i,"data-testid":`nav-button-${null==t?void 0:t.toLowerCase().replace(/\s/g,"-")}`,className:`\n      ${"code"===r&&"hidden lg:flex"}\n      w-full flex items-center gap-3 px-4 py-3 \n      rounded-lg transition-all duration-200\n      backdrop-blur-sm\n      ${"default"===n?s?"bg-js/20 border-l-2 border-js text-js":"text-gray-400 hover:text-js hover:bg-js/10":s?"bg-red-500/20 text-red-400":"text-red-400 hover:bg-red-500/10"}\n    `,whileHover:{scale:1.02,x:5},whileTap:{scale:.98},children:[u.jsx(Ee.span,{className:"text-xl min-w-[24px]",whileHover:{rotate:10},style:{color:"currentColor"},children:e}),u.jsx(Ae,{mode:"wait",children:a&&t&&u.jsx(Ee.span,{variants:it,initial:"collapsed",animate:"expanded",exit:"collapsed",className:"font-medium font-space whitespace-nowrap",style:{color:"currentColor"},children:t})})]})));rt.displayName="NavigationButton";const ot=d.memo((({title:e,items:t,isExpanded:s,activeItem:a,onItemClick:i,index:n,isLastSection:r})=>u.jsxs(Ee.div,{className:"space-y-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*n},children:[s&&u.jsx(Ee.h2,{variants:it,initial:"collapsed",animate:"expanded",exit:"collapsed",className:"text-xs font-bold text-js/60 uppercase tracking-wider px-3 mb-2",children:e}),t.map((e=>u.jsx(rt,{id:e.id,icon:e.icon,label:e.label,isActive:a===e.id,isExpanded:s,onClick:()=>i(e)},e.id))),!r&&u.jsx("div",{className:"mx-3 my-4",children:u.jsx("div",{className:"border-t border-js/5"})})]},e)));ot.displayName="NavigationSection";const lt=()=>{const e=m();return["/dashboard/community","/dashboard/community/ranking","/dashboard/community/groups","/dashboard/learn","/dashboard/play","/dashboard/play/regex-raider","/dashboard/play/async-quest","/dashboard/play/js-typo-hunter","/dashboard/play/scope-explorer","/dashboard/settings"].includes(e.pathname)||e.pathname.startsWith("/dashboard/learn/lesson/")},ct=[{id:"dashboard",label:"Dashboard",icon:u.jsx(j,{}),section:"main",path:"/dashboard"},{id:"stats",label:"Statystyki",icon:u.jsx(g,{}),section:"main",path:"/dashboard/stats"},{id:"play",label:"Graj",icon:u.jsx(y,{}),section:"game",path:"/dashboard/play"},{id:"learn",label:"Nauka",icon:u.jsx(b,{}),section:"game",path:"/dashboard/learn"},{id:"code",label:"Edytor",icon:u.jsx(h,{}),section:"game",path:"/dashboard/code"},{id:"settings",label:"Ustawienia",icon:u.jsx(v,{}),section:"social",path:"/dashboard/settings"},{id:"report",label:"ZgÅ‚oÅ› bÅ‚Ä…d",icon:u.jsx(f,{}),section:"social",path:"/dashboard/report"}],dt={main:"GÅ‚Ã³wne",game:"Nauka"},mt=()=>{const e=N(),{isExpanded:t,setIsExpanded:s,activeItem:a,setActiveItem:i}=(()=>{const[e,t]=d.useState(!1),[s,a]=d.useState("dashboard"),i=m();return d.useEffect((()=>{const e=i.pathname.split("/").pop()||"dashboard";a(e)}),[i]),d.useEffect((()=>{const e=()=>{window.innerWidth<768&&t(!1)};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[]),{isExpanded:e,setIsExpanded:t,activeItem:s,setActiveItem:a}})(),{logout:n}=Le(),r=lt(),o=$e(),l=d.useCallback((t=>{i(t.id),t.path&&e(t.path)}),[e,i,s]),c=d.useMemo((()=>Object.entries(ct.reduce(((e,t)=>(e[t.section]||(e[t.section]=[]),e[t.section].push(t),e)),{}))),[]);return u.jsx(u.Fragment,{children:u.jsxs(Ee.nav,{initial:"collapsed",animate:t?"expanded":"collapsed",variants:at,className:(r||o?"hidden md:flex":"")+" fixed left-0 top-0 bg-gradient-to-b from-dark via-dark-medium to-dark backdrop-blur-lg border-r border-js/10 flex flex-col py-6 z-40 shadow-xl shadow-black/10 h-full",children:[u.jsx(nt,{isExpanded:t}),u.jsx(Ee.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>s(!t),className:"absolute -right-3 top-8 w-6 h-6 bg-js rounded-full flex items-center justify-center hover:opacity-90 transition-all shadow-lg shadow-js/20",children:u.jsx(Ee.span,{animate:{rotate:t?180:0},className:"text-dark text-sm font-bold",initial:"collapsed",children:"â†’"})}),u.jsx("div",{className:"overflow-x-hidden flex-1 px-3 space-y-6",children:u.jsx(Ae,{mode:"sync",children:c.map((([e,s],i)=>u.jsx(ot,{title:dt[e],items:s,isExpanded:t,activeItem:a,onItemClick:l,index:i,isLastSection:i===c.length-1},e)))})}),u.jsx("div",{className:"pt-4 border-t border-js/10",children:u.jsx(rt,{id:"logout",icon:u.jsx(w,{}),label:"Wyloguj siÄ™",isExpanded:t,onClick:n,variant:"danger"})})]})})};mt.displayName="DashboardNavigation";const xt=d.memo((({username:e})=>u.jsx(Ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center gap-4",children:u.jsxs("div",{children:[u.jsxs("h2",{className:"text-js font-bold text-xl",children:["Witaj, ",e,"! ðŸ‘‹"]}),u.jsx("p",{className:"text-gray-400 text-sm",children:"MiÅ‚o CiÄ™ znÃ³w widzieÄ‡"})]})})));xt.displayName="WelcomeSection";const ut=()=>{const{token:e}=Le();return k({queryKey:["userProgress"],queryFn:()=>(e=>c(void 0,null,(function*(){if(!e)throw new Error("Brak autoryzacji");const t=yield fetch(`${Te}users/stats`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){if(401===t.status)throw new Error("Brak autoryzacji - zaloguj siÄ™ ponownie");const e=yield t.json();throw new Error(e.message||"BÅ‚Ä…d podczas pobierania danych")}return t.json()})))(e||""),enabled:!!e,staleTime:3e5,refetchInterval:6e4,retry:(e,t)=>e<2&&!t.message.includes("autoryzacji")})},pt={dropdown:{container:"\n      absolute right-0 top-12 w-80 bg-dark/95 rounded-xl \n      border border-js/10 shadow-xl backdrop-blur-sm z-[2147483647]\n    ",header:{wrapper:"flex justify-between items-center mb-4 p-4",title:"text-xl font-bold text-js",badge:"px-2 py-1 text-xs bg-js/20 text-js rounded-full"},content:{wrapper:"space-y-2 max-h-[400px] overflow-y-auto custom-scrollbar p-4",loading:"py-8 text-center text-gray-400",empty:"py-8 text-center text-gray-400",item:{wrapper:"\n          p-3 rounded-lg bg-dark/50 hover:bg-dark/70\n          border border-js/10 hover:border-js/20\n          cursor-pointer transition-all duration-200\n        ",content:"flex items-start gap-3",icon:"mt-1",text:{wrapper:"flex-1",message:"text-white",time:"text-sm text-gray-400 mt-1"}}}},button:{wrapper:"hidden xl:block relative",base:"\n      relative p-2 rounded-lg\n      hover:bg-js/5 transition-colors duration-200\n    ",active:"bg-dark/50",icon:{base:"w-5 h-5",active:"text-js",inactive:"text-gray-400"},badge:"\n      absolute -top-1 -right-1 bg-red-500 text-white \n      rounded-full min-w-[18px] h-[18px] text-xs \n      flex items-center justify-center px-1 font-medium\n    "}},ht=e=>{switch(e){case"challenge":return u.jsx(T,{className:"text-yellow-500"});case"achievement":return u.jsx(L,{className:"text-green-500"});case"social":return u.jsx(C,{className:"text-blue-500"});default:return u.jsx(z,{className:"text-gray-400"})}},jt=d.memo((({notification:e,onRead:t})=>{return u.jsx(Ee.div,{className:`\n      ${pt.dropdown.content.item.wrapper}\n      ${e.read?"opacity-60":""}\n    `,whileHover:{x:5},onClick:()=>!e.read&&t(e._id),children:u.jsxs("div",{className:pt.dropdown.content.item.content,children:[u.jsx("div",{className:pt.dropdown.content.item.icon,children:ht(e.type)}),u.jsxs("div",{className:pt.dropdown.content.item.text.wrapper,children:[u.jsx("p",{className:pt.dropdown.content.item.text.message,children:e.message}),u.jsx("span",{className:pt.dropdown.content.item.text.time,children:(s=e.createdAt,Re(new Date(s),"dd MMM, HH:mm",{locale:De}))})]})]})});var s}));jt.displayName="NotificationItem";const gt=d.memo((({unreadCount:e})=>u.jsxs("div",{className:pt.dropdown.header.wrapper,children:[u.jsx("h3",{className:pt.dropdown.header.title,children:"Powiadomienia"}),e>0&&u.jsxs("span",{className:pt.dropdown.header.badge,children:[e," nowe"]})]})));gt.displayName="NotificationsHeader";const yt=d.memo((({onClose:e})=>{var t,s;const{data:a,isLoading:i}=ut(),{markAsRead:n}=(()=>{const{token:e}=Le(),t=x();return{markAsRead:S({mutationFn:t=>c(void 0,null,(function*(){const s=yield fetch(`${Te}/dashboard/notifications/${t}/read`,{method:"PATCH",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!s.ok)throw new Error("Nie udaÅ‚o siÄ™ oznaczyÄ‡ jako przeczytane");return s.json()})),onSuccess:()=>{t.invalidateQueries({queryKey:["dashboard"]})}})}})();return d.useEffect((()=>{const t=t=>{"Escape"===t.key&&e()};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)}),[e]),u.jsxs(Ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:pt.dropdown.container,onClick:e=>e.stopPropagation(),children:[u.jsx(gt,{unreadCount:null!=(t=null==a?void 0:a.unreadCount)?t:0}),i?u.jsx("div",{className:pt.dropdown.content.loading,children:"Åadowanie powiadomieÅ„..."}):(null==(s=null==a?void 0:a.notifications)?void 0:s.length)?u.jsx("div",{className:pt.dropdown.content.wrapper,children:a.notifications.map((e=>u.jsx(jt,{notification:e,onRead:e=>n.mutate(e)},e._id)))}):u.jsx("div",{className:pt.dropdown.content.empty,children:"Brak nowych powiadomieÅ„"})]})}));yt.displayName="NotificationsDropdown";const bt=d.memo((()=>{var e;const[t,s]=d.useState(!1),{data:a}=ut(),i=null!=(e=null==a?void 0:a.unreadCount)?e:0,n=d.useCallback((()=>s(!1)),[]),r=d.useCallback((e=>{e.stopPropagation(),s((e=>!e))}),[]);return u.jsxs("div",{className:pt.button.wrapper,children:[u.jsxs(Ee.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:r,className:`${pt.button.base} ${t?pt.button.active:""}`,children:[u.jsx(z,{className:`\n          ${pt.button.icon.base}\n          ${t?pt.button.icon.active:pt.button.icon.inactive}\n        `}),u.jsx(Ae,{children:i>0&&u.jsx(Ee.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:pt.button.badge,children:i>9?"9+":i})})]}),u.jsx(Ae,{children:t&&u.jsx(yt,{onClose:n})})]})}));bt.displayName="NotificationsButton";const vt={container:"\n    w-[90%]\n    xl:w-full\n    flex justify-between items-center\n    xl:block\n    mt-5\n    pb-2\n    bg-dark/50 backdrop-blur-sm\n    border-b border-js/10 \n    fixed top-0\n    md:top-4 right-0\n    h-14\n    z-[0]\n    rounded-lg mx-4\n  ",content:"\n    h-full\n    ml-32\n    sm:ml-auto\n    flex justify-between items-center\n    max-w-[1000px]\n    mx-auto\n    relative\n  ",actions:"flex items-center gap-3 absolute right-6",gradients:{text:"bg-gradient-to-r from-js to-js/80 bg-clip-text text-transparent",hover:"hover:bg-js/5",base:"bg-gradient-to-br from-js/5 to-js/10"},borders:{base:"border-js/20",hover:"hover:border-js/30"},transitions:{base:"transition-all duration-200"},text:{heading:"text-lg font-bold text-js",primary:"text-white",secondary:"text-gray-400"}},ft=["userProfile"],Nt=()=>{const{token:e}=Le();return k({queryKey:ft,queryFn:()=>(e=>c(void 0,null,(function*(){const t=yield fetch(`${Te}users/profile`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Nie udaÅ‚o siÄ™ pobraÄ‡ danych uÅ¼ytkownika");return t.json()})))(e)})},wt=d.memo((()=>{const e=d.useMemo((()=>({container:{initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{duration:.3,ease:"easeOut"}}}})),[]),{data:t,isLoading:s}=Nt(),a=d.useMemo((()=>s?"Åadowanie...":(null==t?void 0:t.data.username)?null==t?void 0:t.data.username:"UÅ¼ytkowniku"),[null==t?void 0:t.data.username,s]);return u.jsx(Ee.nav,{variants:e.container,initial:"initial",animate:"animate",className:vt.container,children:u.jsxs("div",{className:vt.content,children:[u.jsx(xt,{username:a}),u.jsx("div",{className:vt.actions,children:u.jsx(bt,{})})]})})}));wt.displayName="TopNavigation";const kt=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const e=lt(),t=$e(),{logout:s}=Le();return u.jsxs("main",{className:"bg-gradient-to-b from-dark via-dark-medium to-dark backdrop-blur-lg flex min-h-screen",children:[u.jsx(P,{children:u.jsx("title",{children:"Dashboard | CodeLinesJS"})}),u.jsx(mt,{}),u.jsxs("div",{className:`flex-1 ${!e&&!t&&"ml-[100px]"} md:ml-[100px]`,children:[u.jsx(wt,{}),u.jsx("div",{className:"mt-20 p-6",children:u.jsxs("div",{className:(e||t?"flex":"")+" flex-col justify-center items-center gap-4 md:block",children:[(e||t)&&u.jsxs("div",{className:"flex flex-col gap-2 mb-4 md:hidden",children:[u.jsx(E,{to:"/dashboard",children:u.jsx("button",{className:"bg-js text-dark px-4 py-2 rounded-md w-full flex items-center justify-center",children:"WrÃ³Ä‡ do Home"})}),u.jsxs("button",{onClick:s,className:"bg-red-600 text-white px-4 py-2 rounded-md flex items-center justify-center gap-2",children:[u.jsx(w,{}),"Wyloguj siÄ™"]})]}),u.jsx(A,{})]})})]})]})}},Symbol.toStringTag,{value:"Module"})),St={text:{heading:"font-bold text-js"},grid:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",card:{base:"bg-dark/50 backdrop-blur-sm border border-js/10 shadow-xl",community:"\n      col-span-1 md:col-span-2 lg:col-span-1\n      order-2 lg:order-1\n    ",game:"\n      col-span-1 md:col-span-2 lg:col-span-1\n      order-1 lg:order-2\n    ",stats:"\n      col-span-1 md:col-span-2 lg:col-span-1\n      order-3\n    "}},zt="bg-dark/50 backdrop-blur-sm rounded-xl border border-js/10 p-6",Ct={wrapper:"flex justify-between items-center mb-6",title:"text-xl font-bold text-js flex items-center gap-2",icon:"w-5 h-5"},Lt={wrapper:"space-y-6",description:"text-gray-400 text-sm leading-relaxed",button:{wrapper:"flex justify-center",base:"px-6 py-3 bg-js text-dark font-medium rounded-lg transition-all duration-200",hover:"hover:bg-js/90 hover:shadow-lg hover:shadow-js/20",active:"active:scale-95"}},Tt=()=>d.useMemo((()=>({container:{hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}}},button:{hover:{scale:1.05},tap:{scale:.95}}})),[]),Pt=d.memo((()=>{const e=N(),t=Tt();return u.jsxs(Ee.div,{variants:t.container,initial:"hidden",animate:"show",className:zt,children:[u.jsx("div",{className:Ct.wrapper,children:u.jsxs("h2",{className:Ct.title,children:[u.jsx(b,{className:Ct.icon}),"Nauka"]})}),u.jsxs("div",{className:Lt.wrapper,children:[u.jsx("p",{className:Lt.description,children:"SprawdÅº najnowsze informacje i aktualnoÅ›ci zwiÄ…zane z naukÄ…."}),u.jsx("div",{className:Lt.button.wrapper,children:u.jsx(Ee.button,{onClick:()=>{e("/dashboard/learn")},whileHover:"hover",whileTap:"tap",variants:t.button,className:`\n              ${Lt.button.base}\n              ${Lt.button.hover}\n              ${Lt.button.active}\n            `,children:"SprawdÅº aktualnoÅ›ci"})})]})]})}));Pt.displayName="CommunityBlock";const Et=d.memo((()=>{const e=N(),t=Tt();return u.jsxs(Ee.div,{variants:t.container,initial:"hidden",animate:"show",className:zt,children:[u.jsx("div",{className:Ct.wrapper,children:u.jsxs("h2",{className:Ct.title,children:[u.jsx(y,{className:Ct.icon}),"Tryb Gry"]})}),u.jsxs("div",{className:Lt.wrapper,children:[u.jsx("p",{className:Lt.description,children:"Rozpocznij nowÄ… sesjÄ™ gry, rozwiÄ…zuj wyzwania i zdobywaj punkty. SprawdÅº swoje umiejÄ™tnoÅ›ci w praktyce!"}),u.jsx("div",{className:Lt.button.wrapper,children:u.jsx(Ee.button,{onClick:()=>{e("/dashboard/play")},whileHover:"hover",whileTap:"tap",variants:t.button,className:`\n              ${Lt.button.base}\n              ${Lt.button.hover}\n              ${Lt.button.active}\n            `,children:"Rozpocznij GrÄ™"})})]})]})}));Et.displayName="GameBlock";const At="bg-dark/50 backdrop-blur-sm rounded-xl border border-js/10 p-6",Ot={grid:"grid grid-cols-1 sm:grid-cols-2 gap-4",item:{wrapper:"flex items-center gap-4 p-4 bg-dark/30 rounded-lg",icon:"text-2xl text-js",content:{wrapper:"flex flex-col",label:"text-sm text-gray-400",value:"text-xl font-bold text-js"}}},$t="text-sm text-gray-400 mt-4",Rt=d.memo((({icon:e,label:t,value:s})=>u.jsxs("div",{className:Ot.item.wrapper,children:[u.jsx("div",{className:Ot.item.icon,children:e}),u.jsxs("div",{className:Ot.item.content.wrapper,children:[u.jsx("p",{className:Ot.item.content.label,children:t}),u.jsx("p",{className:Ot.item.content.value,children:s})]})]})));Rt.displayName="StatItem";const Dt=d.memo((({stats:e})=>{const t=d.useCallback((e=>{try{if(!e)return"Brak danych";const t=new Date(e);return isNaN(t.getTime())?"NieprawidÅ‚owa data":Re(t,"dd MMM, HH:mm",{locale:De})}catch(t){return"NieprawidÅ‚owa data"}}),[]);return u.jsxs("div",{className:At,children:[u.jsxs("div",{className:Ot.grid,children:[u.jsx(Rt,{icon:u.jsx(O,{}),label:"Poziom",value:e.level}),u.jsx(Rt,{icon:u.jsx($,{}),label:"Punkty",value:e.points}),u.jsx(Rt,{icon:u.jsx(R,{}),label:"Seria",value:`${e.streak} dni`})]}),u.jsxs("p",{className:$t,children:["Ostatnia aktywnoÅ›Ä‡: ",t(e.lastActive)]})]})}));Dt.displayName="StatsBlock";const Gt=d.memo((({type:e,message:t})=>u.jsx("div",{className:"p-8 w-full flex items-center justify-center min-h-[400px]",children:u.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},className:"text-xl "+("error"===e?"text-red-400":"text-gray-400"),children:t||("loading"===e?"Åadowanie danych...":"error"===e?"WystÄ…piÅ‚ bÅ‚Ä…d podczas Å‚adowania danych":"Brak danych do wyÅ›wietlenia")})})));Gt.displayName="DashboardState";const _t=d.memo((()=>{const{data:e,isLoading:t,error:s}=ut(),a=d.useMemo((()=>({container:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},item:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}}})),[]);return t?u.jsx(Fe,{}):s?u.jsx(Gt,{type:"error",message:s.message}):e?u.jsxs(Ee.div,{className:"p-1 md:p-12 w-full overflow-y-auto",variants:a.container,initial:"hidden",animate:"visible",children:[u.jsx(Ee.h1,{className:`${St.text.heading} text-3xl mb-12`,variants:a.item,children:"Dashboard"}),u.jsxs("div",{className:St.grid,children:[u.jsx(Ee.div,{variants:a.item,className:St.card.community,children:u.jsx(Pt,{})}),u.jsx(Ee.div,{variants:a.item,className:St.card.game,children:u.jsx(Et,{})}),u.jsx(Ee.div,{variants:a.item,className:St.card.stats,children:u.jsx(Dt,{stats:e.data})})]})]}):u.jsx(Gt,{type:"empty"})}));_t.displayName="DashboardContent";const Ft=Object.freeze(Object.defineProperty({__proto__:null,DashboardContent:_t},Symbol.toStringTag,{value:"Module"})),Bt=()=>{const{token:e,isAuthenticated:t}=Le(),{data:s,isLoading:a,error:i}=k({queryKey:["userProgress"],queryFn:()=>(e=>c(void 0,null,(function*(){var t,s;const a=yield fetch(`${Te}users/stats`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!a.ok){if(401===a.status)throw new Error("Brak autoryzacji");throw new Error("BÅ‚Ä…d podczas pobierania statystyk")}const i=yield a.json();return l(o({},i),{chartData:{daily:(null==(t=i.chartData)?void 0:t.daily)||[],categories:(null==(s=i.chartData)?void 0:s.categories)||[]}})})))(e),enabled:t&&!!e,staleTime:3e5,gcTime:18e5,retry:(e,t)=>"Brak autoryzacji"!==t.message&&e<3});return{stats:s,isLoading:a,error:i}},Mt={base:"bg-dark/50 backdrop-blur-sm rounded-xl border border-js/10 p-6",title:"text-xl font-bold text-js mb-6",content:"h-full"},It=d.memo((({level:e,experience:t,nextLevel:s})=>{const a=t/s*100;return u.jsxs("div",{className:Mt.base,children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:Mt.title,children:["Poziom ",e]}),u.jsxs("p",{className:"text-gray-400 text-sm",children:[t," / ",s," XP do nastÄ™pnego poziomu"]})]}),u.jsx("div",{className:"hidden w-16 h-16 rounded-full bg-js/20 md:flex items-center justify-center",children:u.jsx("span",{className:"text-2xl font-bold text-js",children:e})})]}),u.jsx("div",{className:"relative h-4 bg-dark/50 rounded-full overflow-hidden",children:u.jsx(Ee.div,{initial:{width:0},animate:{width:`${a}%`},transition:{duration:1,ease:"easeOut"},className:"absolute top-0 left-0 h-full bg-js/50"})})]})}));It.displayName="LevelProgress";const Ut={hidden:{opacity:0,y:20},show:{opacity:1,y:0}},Wt=d.memo((({icon:e,label:t,value:s,subValue:a})=>u.jsx(Ee.div,{variants:Ut,className:`${Mt.base} hover:border-js/30 transition-all p-3 md:p-4`,children:u.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[u.jsx("div",{className:"p-2 md:p-3 rounded-lg bg-js/10 shrink-0",children:u.jsx(e,{className:"w-5 h-5 md:w-6 md:h-6 text-js"})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"text-gray-400 text-xs md:text-sm mb-0.5 md:mb-1",children:t}),u.jsx("p",{className:"text-xl md:text-2xl font-bold font-space text-js truncate",children:s}),a&&u.jsx("p",{className:"text-xs md:text-sm text-gray-500 mt-0.5 md:mt-1",children:a})]})]})})));Wt.displayName="StatCard";const Ht={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},Jt={hidden:{opacity:0,y:20},show:{opacity:1,y:0}},qt=d.memo((({badge:e})=>{const t=e=>{try{const t=new Date(e);return isNaN(t.getTime())?"Data nieznana":t.toLocaleDateString("pl-PL",{year:"numeric",month:"short",day:"numeric"})}catch(t){return"Data nieznana"}};return u.jsxs(Ee.div,{variants:Jt,className:"min-w-[8rem] flex flex-col items-center p-4 bg-dark/30 rounded-lg border border-js/10 hover:border-js/30 transition-colors",children:[u.jsx("span",{className:"text-3xl mb-2",children:e.icon||"ðŸ†"}),u.jsx("h4",{className:"text-js font-medium text-sm text-center",children:e.name}),u.jsx("p",{className:"text-gray-400 text-xs mt-1",children:t(e.earnedAt)}),e.description&&u.jsx("p",{className:"text-gray-400 text-xs mt-1 text-center",children:e.description},`${e.id}-description`)]})}));qt.displayName="BadgeCard";const Vt=d.memo((()=>u.jsxs("div",{className:Mt.base,children:[u.jsx("h3",{className:Mt.title,children:"Odznaki"}),u.jsx("p",{className:"text-gray-400 text-center py-4",children:"Nie zdobyto jeszcze Å¼adnych odznak"})]})));Vt.displayName="EmptyBadges";const Kt=d.memo((({badges:e})=>(null==e?void 0:e.length)?u.jsxs("div",{className:Mt.base,children:[u.jsx("h3",{className:Mt.title,children:"Odznaki"}),u.jsx(Ee.div,{variants:Ht,initial:"hidden",animate:"show",className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:e.map((e=>u.jsx(qt,{badge:e},e.name)))})]}):u.jsx(Vt,{})));Kt.displayName="BadgesGrid";const Zt=d.memo((({message:e})=>u.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:u.jsx("p",{className:"text-red-500",children:e})})));Zt.displayName="ErrorState";const Qt={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},Xt=d.memo((({stats:e,isLoading:t,error:s})=>{const a=(e=>d.useMemo((()=>{var t;return e?[{id:"completed-lessons",icon:T,label:"UkoÅ„czone Lekcje",value:(null==(t=e.data.completedChallenges)?void 0:t.toString())||"0",gradient:"from-amber-500 to-orange-500"},{id:"current-streak",icon:D,label:"Aktualny Streak",value:`${e.data.streak||0} dni`,subValue:`Najlepszy: ${e.data.bestStreak||0} dni`,gradient:"from-red-500 to-pink-500"}]:[]}),[e]))(e);return t?u.jsx(Fe,{}):s?u.jsx(Zt,{message:`WystÄ…piÅ‚ bÅ‚Ä…d podczas Å‚adowania statystyk: ${s.message}`}):e?u.jsxs(Ee.div,{variants:Qt,initial:"hidden",animate:"show",className:"space-y-6",children:[u.jsx(It,{level:e.data.level,experience:e.data.points,nextLevel:e.data.pointsToNextLevel}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:a.map((e=>u.jsx(Wt,o({},e),e.id)))}),u.jsx(Kt,{badges:e.data.badges})]}):u.jsx("div",{className:"p-4 bg-dark/50 rounded-lg",children:u.jsx("p",{className:"text-gray-400",children:"Brak dostÄ™pnych statystyk"})})}));Xt.displayName="StatsOverview";const Yt=d.memo((({data:e})=>u.jsx(We,{width:"100%",height:300,children:u.jsxs(He,{data:e,margin:{top:5,right:20,bottom:5,left:0},children:[u.jsx(Je,{strokeDasharray:"3 3",stroke:"#2A2A2A"}),u.jsx(qe,{dataKey:"date",stroke:"#666",tickLine:!1,tick:{fill:"#666"},axisLine:{stroke:"#333"}}),u.jsx(Ve,{stroke:"#666",tickLine:!1,tick:{fill:"#666"},axisLine:{stroke:"#333"},label:{value:"Punkty",angle:-90,position:"insideLeft",fill:"#666"}}),u.jsx(Ke,{contentStyle:{background:"#1A1A1A",border:"1px solid #333",borderRadius:"4px",padding:"8px"},labelStyle:{color:"#666"},itemStyle:{color:"#F7DF1E"}}),u.jsx(Ze,{type:"monotone",dataKey:"points",stroke:"#F7DF1E",strokeWidth:2,dot:{fill:"#F7DF1E",strokeWidth:2},activeDot:{r:6,fill:"#F7DF1E"}})]})})));Yt.displayName="DailyChart";const es=d.memo((({data:e,isLoading:t})=>t?u.jsx(Fe,{}):e?u.jsx("div",{className:"hidden md:flex flex-col gap-6 h-full",children:u.jsxs("div",{className:"bg-dark/50 rounded-lg p-6 flex-1",children:[u.jsx("h3",{className:"text-xl font-bold text-js mb-6",children:"AktywnoÅ›Ä‡"}),u.jsx("div",{className:"h-[300px]",children:u.jsx(Yt,{data:e.daily})})]})}):null));es.displayName="StatsCharts";const ts=d.memo((()=>{var e;const{stats:t,isLoading:s,error:a}=Bt(),[i,n]=d.useState(!1),[r,o]=d.useState(null);return d.useEffect((()=>{(null==t?void 0:t.data.levelUp)&&(o({level:t.data.level,rewards:t.data.rewards}),n(!0))}),[t]),s?u.jsx(Fe,{}):a?u.jsx(Gt,{type:"error",message:"Nie udaÅ‚o siÄ™ zaÅ‚adowaÄ‡ statystyk. SprÃ³buj ponownie pÃ³Åºniej."}):t?u.jsxs(u.Fragment,{children:[u.jsxs(Ee.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col h-full p-6 gap-6",children:[u.jsxs(p,{children:[u.jsx("title",{children:"Statystyki i PostÄ™py | CodeLinesJS"}),u.jsx("meta",{name:"description",content:"Statystyki i PostÄ™py CodeLinesJS - doÅ‚Ä…cz do nas i rozwijaj swoje umiejÄ™tnoÅ›ci w przyjaznym Å›rodowisku."})]}),u.jsx(Ee.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},className:"flex items-center justify-between",children:u.jsx("h1",{className:"text-3xl font-bold font-space text-js",children:"Statystyki i PostÄ™py"})}),u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 flex-1",children:[u.jsx("div",{className:"flex flex-col gap-6",children:u.jsx(Xt,{stats:t,isLoading:s,error:a})}),u.jsx("div",{className:"flex flex-col gap-6 h-full",children:u.jsx(es,{data:null==(e=null==t?void 0:t.data)?void 0:e.chartData,isLoading:s})})]})]}),u.jsx(Be,{isVisible:i,onClose:()=>n(!1),level:(null==r?void 0:r.level)||0,rewards:null==r?void 0:r.rewards})]}):u.jsx(Gt,{type:"empty",message:"Brak dostÄ™pnych statystyk."})}));ts.displayName="StatsSection";const ss=Object.freeze(Object.defineProperty({__proto__:null,StatsSection:ts},Symbol.toStringTag,{value:"Module"})),as=d.memo((({message:e,onRetry:t})=>u.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[u.jsx(G,{className:"w-12 h-12 text-red-500 mb-4"}),u.jsx("h3",{className:"text-lg font-medium text-gray-200 mb-2",children:"WystÄ…piÅ‚ bÅ‚Ä…d"}),u.jsx("p",{className:"text-gray-400 mb-4",children:e}),t&&u.jsx("button",{onClick:t,className:"px-4 py-2 bg-js/10 text-js rounded-lg hover:bg-js/20 transition-colors",children:"SprÃ³buj ponownie"})]}))),is=[{id:"all",label:"Wszystkie"},{id:"beginner",label:"Podstawowe"},{id:"intermediate",label:"Åšrednie"},{id:"advanced",label:"Zaawansowane"}],ns=d.memo((({onFilterChange:e,className:t=""})=>{const[s,a]=_(),i=s.get("filter")||"all";d.useEffect((()=>{e(i)}),[i,e]);return u.jsx("div",{className:`flex gap-2 flex-wrap ${t}`,children:is.map((e=>{const t=i===e.id;return u.jsx(Ee.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{return t=e.id,void a("all"===t?{tab:"lessons"}:{filter:t,tab:"lessons"});var t},className:"w-fit px-3 py-1.5 rounded-lg text-sm font-medium transition-all\n              "+(t?"text-js bg-js/10 border border-js/20":"text-gray-400 hover:text-js/80 border border-transparent"),children:e.label},e.id)}))})}));ns.displayName="LessonsFilter";const rs=d.memo((({onFilterChange:e})=>u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-js mb-1",children:"DostÄ™pne lekcje"}),u.jsx("p",{className:"text-gray-400 text-sm",children:"Wybierz interesujÄ…cÄ… CiÄ™ lekcjÄ™ i rozpocznij naukÄ™"})]}),u.jsx(ns,{onFilterChange:e})]})));rs.displayName="LessonsHeader";const os={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}},ls=d.memo((({lesson:e})=>{const{title:t,description:s,duration:a,slug:i,isCompleted:n,isLocked:r,requiredLevel:o=1}=e,l=u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"flex justify-between items-start",children:u.jsxs("div",{className:"space-y-1 flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h3",{className:"text-lg font-semibold "+(r?"text-gray-500":"text-js"),children:t}),n&&u.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-js/10 text-js",children:[u.jsx(F,{className:"w-3 h-3 mr-1"}),"UkoÅ„czono"]})]}),u.jsx("p",{className:`text-sm ${r?"text-gray-600":"text-gray-400"} line-clamp-2`,children:s})]})}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsxs("span",{className:"flex items-center gap-1 "+(r?"text-gray-600":"text-gray-400"),children:[u.jsx(B,{className:"w-3.5 h-3.5"}),a," min"]}),r&&u.jsxs("span",{className:"flex items-center gap-1 text-gray-500",children:[u.jsx(M,{className:"w-3.5 h-3.5"}),"Poziom ",o]})]}),!r&&u.jsxs("div",{className:"flex items-center gap-2 text-js",children:[u.jsx("span",{children:n?"PowtÃ³rz":"Rozpocznij"}),u.jsx(I,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]});return u.jsx(Ee.div,{variants:os,className:"group relative "+(r?"opacity-75":""),children:r?u.jsx("div",{className:"block p-6 rounded-xl bg-dark-800 border border-gray-800 cursor-not-allowed",children:l}):u.jsx(E,{to:`/dashboard/learn/lesson/${i}`,className:"block p-6 rounded-xl bg-dark-800 border border-js/10 hover:border-js/20 transition-colors",children:l})})}));ls.displayName="LessonCard";const cs={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},ds=e=>{switch(e){case"beginner":return"podstawowym";case"intermediate":return"Å›rednim";case"advanced":return"zaawansowanym";default:return""}},ms=d.memo((({lessons:e,filter:t,userData:s})=>{const a=e.map((e=>l(o({},e),{isLocked:!!e.requiredLevel&&e.requiredLevel>s.userLevel})));return 0===a.length?u.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center py-12 text-center",children:[u.jsxs("div",{className:"relative mb-6",children:[u.jsx(U,{className:"w-20 h-20 text-gray-600 opacity-20"}),u.jsx("div",{className:"absolute -right-2 -bottom-2",children:u.jsx(W,{className:"w-8 h-8 text-gray-500"})})]}),u.jsx("h3",{className:"text-xl font-bold text-js mb-3",children:"all"===t?"Brak dostÄ™pnych lekcji":`Brak lekcji o poziomie ${ds(t)}`}),u.jsx("p",{className:"text-gray-400 text-sm max-w-md",children:"all"===t?"Aktualnie nie ma Å¼adnych dostÄ™pnych lekcji. SprawdÅº ponownie pÃ³Åºniej.":"W tej kategorii nie znaleziono Å¼adnych lekcji. Wybierz inny poziom trudnoÅ›ci."})]}):u.jsxs(Ee.div,{variants:cs,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[u.jsxs(p,{children:[u.jsx("title",{children:"Lekcje | CodeLinesJS"}),u.jsx("meta",{name:"description",content:"Lekcje JavaScript - doÅ‚Ä…cz do nas i rozwijaj swoje umiejÄ™tnoÅ›ci w przyjaznym Å›rodowisku."})]}),a.map((e=>u.jsx(ls,{lesson:e},e.slug)))]})}));ms.displayName="LessonsList";const xs=e=>c(void 0,[e],(function*({lessonId:e,pathId:t,token:s}){if(!s)throw new Error("No authentication token found");const a=yield fetch(`${Te}lessons/${e}/complete`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({pathId:t})});if(!a.ok){const e=yield a.text();throw new Error(e||"Failed to complete lesson")}return a.json()})),us=e=>{switch(e){case"beginner":return"podstawowym";case"intermediate":return"Å›rednim";case"advanced":return"zaawansowanym";default:return""}},ps=()=>{var e,t,s;const[a,i]=d.useState("all"),[n]=d.useState("javascript"),{token:r}=Le(),{data:o,isLoading:l,error:m,refetch:x}=k({queryKey:["lessons"],queryFn:()=>(e=>c(void 0,null,(function*(){if(!e)throw new Error("No authentication token found");const t=yield fetch(`${Te}lessons`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!t.ok){if(401===t.status)throw new Error("Unauthorized - please log in again");throw new Error("Failed to fetch lessons")}return yield t.json()})))(r||""),retry:2,staleTime:3e5,refetchOnWindowFocus:!0,enabled:!!r}),u=null!=(t=null==(e=null==o?void 0:o.lessons)?void 0:e[n])?t:[],p=null!=(s=null==o?void 0:o.stats)?s:{total:0,completed:0,progress:0},h=d.useMemo((()=>"all"===a?u:u.filter((e=>e.difficulty===a))),[u,a]),j=!u||0===u.length,g=!j&&0===h.length,y={currentFilter:a,label:us(a),isEmpty:j,hasNoLessonsForFilter:g,messages:{title:g?`Brak lekcji o poziomie ${us(a)}`:"Brak dostÄ™pnych lekcji",description:g?"W tej kategorii nie znaleziono Å¼adnych lekcji. Wybierz inny poziom trudnoÅ›ci lub wyÅ›wietl wszystkie lekcje.":"Aktualnie nie ma Å¼adnych dostÄ™pnych lekcji. SprawdÅº ponownie pÃ³Åºniej."}};return{filteredLessons:h,filter:a,setFilter:i,resetFilter:()=>i("all"),isLoading:l,error:m,refetch:x,isEmpty:j,hasNoLessonsForFilter:g,filterState:y,requiredLevel:null==o?void 0:o.requiredLevel,stats:p}},hs=d.memo((()=>{const{filteredLessons:e,filter:t,setFilter:s,isLoading:a,requiredLevel:i,error:n,refetch:r}=ps();return n?u.jsx(as,{message:"Nie udaÅ‚o siÄ™ pobraÄ‡ listy lekcji. SprÃ³buj ponownie pÃ³Åºniej.",onRetry:()=>r()}):a?u.jsx(Fe,{}):u.jsxs("div",{className:"space-y-6",children:[u.jsx(rs,{onFilterChange:s}),u.jsx(ms,{lessons:e,filter:t,userId:"current-user",userData:{userLevel:1,requiredLevel:i||1}})]})}));hs.displayName="Lessons";const js={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:200,damping:20}}},gs=d.memo((({resource:e,isRecommended:t})=>u.jsxs(Ee.div,{variants:js,whileHover:{scale:1.02},className:"group relative bg-dark-800/50 border border-js/10 rounded-xl p-5 hover:border-js/20 transition-colors",children:[t&&u.jsxs("div",{className:"absolute -top-2 -right-2 bg-js text-dark px-2 py-1 rounded-lg text-xs font-bold flex items-center gap-1",children:[u.jsx($,{className:"w-3 h-3"}),"Polecane"]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-js mb-1 line-clamp-1",children:e.title}),u.jsx("p",{className:"text-gray-400 text-sm line-clamp-2",children:e.description})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsx("span",{className:"px-2 py-0.5 rounded-md text-xs font-medium\n            "+("documentation"===e.type?"bg-blue-500/10 text-blue-400":"tutorial"===e.type?"bg-green-500/10 text-green-400":"bg-purple-500/10 text-purple-400"),children:"documentation"===e.type?"Dokumentacja":"tutorial"===e.type?"Tutorial":"ArtykuÅ‚"}),u.jsx("span",{className:"px-2 py-0.5 rounded-md text-xs font-medium\n            "+("beginner"===e.difficulty?"bg-green-500/10 text-green-400":"intermediate"===e.difficulty?"bg-yellow-500/10 text-yellow-400":"bg-red-500/10 text-red-400"),children:"beginner"===e.difficulty?"Podstawowy":"intermediate"===e.difficulty?"Åšredni":"Zaawansowany"})]}),u.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-js hover:text-js/80 transition-colors text-sm",children:["OtwÃ³rz materiaÅ‚",u.jsx(H,{className:"w-3 h-3"})]})]})]})));gs.displayName="ResourceCard";const ys={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},bs=d.memo((({title:e,subtitle:t,resources:s,isRecommended:a})=>u.jsxs("section",{children:[u.jsxs(p,{children:[u.jsx("title",{children:"Zasoby | CodeLinesJS"}),u.jsx("meta",{name:"description",content:"Zasoby JavaScript - doÅ‚Ä…cz do nas i rozwijaj swoje umiejÄ™tnoÅ›ci w przyjaznym Å›rodowisku."})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("h3",{className:"text-xl font-bold text-js mb-1",children:e}),u.jsx("p",{className:"text-gray-400 text-sm",children:t})]}),u.jsx(Ee.div,{variants:ys,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map((e=>u.jsx(gs,{resource:e,isRecommended:a},e.id)))})]})));bs.displayName="ResourceSection";const vs=()=>{const{token:e}=Le(),{data:t,isLoading:s,error:a,refetch:i}=k({queryKey:["resources"],queryFn:()=>(e=>c(void 0,null,(function*(){if(!e)throw new Error("No authentication token found");const t=yield fetch(`${Te}resources`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!t.ok){if(401===t.status)throw new Error("Unauthorized - please log in again");throw new Error("Failed to fetch resources")}return yield t.json()})))(e||""),retry:2,staleTime:3e5,enabled:!!e});return{recommendedResources:(null==t?void 0:t.resources.filter((e=>e.isRecommended)))||[],otherResources:(null==t?void 0:t.resources.filter((e=>!e.isRecommended)))||[],isLoading:s,error:a,refetch:i}},fs=d.memo((()=>{const{recommendedResources:e,otherResources:t,isLoading:s,error:a,refetch:i}=vs();return a?u.jsx("div",{className:"flex flex-col items-center justify-center py-12",children:u.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl",children:u.jsx(as,{message:"Nie udaÅ‚o siÄ™ pobraÄ‡ materiaÅ‚Ã³w. SprÃ³buj ponownie pÃ³Åºniej.",onRetry:()=>i()})})}):s?u.jsx("div",{className:"flex justify-center py-12",children:u.jsx(Fe,{})}):(null==e?void 0:e.length)||(null==t?void 0:t.length)?u.jsxs("div",{className:"space-y-8",children:[(null==e?void 0:e.length)>0&&u.jsx(bs,{title:"Polecane materiaÅ‚y",subtitle:"Wyselekcjonowane materiaÅ‚y, ktÃ³re pomogÄ… Ci w nauce",resources:e,isRecommended:!0}),(null==t?void 0:t.length)>0&&u.jsx(bs,{title:"Wszystkie materiaÅ‚y",subtitle:"PrzeglÄ…daj wszystkie dostÄ™pne materiaÅ‚y",resources:t})]}):u.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center py-12 text-center",children:[u.jsxs("div",{className:"relative mb-6",children:[u.jsx(J,{className:"w-20 h-20 text-gray-600 opacity-20"}),u.jsx("div",{className:"absolute -right-2 -bottom-2",children:u.jsx(W,{className:"w-8 h-8 text-gray-500"})})]}),u.jsx("h3",{className:"text-xl font-bold text-js mb-3",children:"Brak dostÄ™pnych materiaÅ‚Ã³w"}),u.jsx("p",{className:"text-gray-400 text-sm max-w-md",children:"Aktualnie nie ma Å¼adnych dostÄ™pnych materiaÅ‚Ã³w. SprawdÅº ponownie pÃ³Åºniej lub skontaktuj siÄ™ z administratorem."}),u.jsx(Ee.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>i(),className:"mt-6 px-4 py-2 bg-js/10 text-js border border-js/20 rounded-lg text-sm font-medium hover:bg-js/20 transition-colors",children:"OdÅ›wieÅ¼ materiaÅ‚y"})]})}));fs.displayName="Resources";const Ns=d.memo((({icon:e,title:t,label:s,value:a})=>u.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(e,{className:"w-5 h-5 text-js"}),u.jsx("h4",{className:"font-medium text-gray-200",children:t})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-gray-400",children:s}),u.jsx("span",{className:"text-js",children:a})]})]}))),ws=d.memo((({stats:e})=>u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsx(Ns,{icon:q,title:"PostÄ™p nauki",label:"UkoÅ„czone Å›cieÅ¼ki",value:`${e.completedPaths}/${e.totalPaths}`}),u.jsx(Ns,{icon:R,title:"Punkty XP",label:"Zdobyte punkty",value:`${e.totalPoints} XP`}),u.jsx(Ns,{icon:B,title:"W trakcie",label:"Aktywne Å›cieÅ¼ki",value:e.pathsInProgress})]}))),ks=()=>{const{token:e}=Le(),{data:t,isLoading:s,error:a,refetch:i}=k({queryKey:["learningPaths","userProgress"],queryFn:()=>(e=>c(void 0,null,(function*(){if(!e)throw new Error("No authentication token found");const t=yield fetch(`${Te}Learning-paths`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!t.ok){if(401===t.status)throw new Error("Unauthorized - please log in again");throw new Error("Failed to fetch learning paths")}return yield t.json()})))(e||""),staleTime:3e5,retry:2,refetchOnWindowFocus:!0,refetchOnReconnect:!0,enabled:!!e});return{paths:(null==t?void 0:t.paths)||[],userStats:null==t?void 0:t.userStats,isLoading:s,error:a,refetch:i,isEmpty:!(null==t?void 0:t.paths)||0===t.paths.length}},Ss=d.memo((()=>u.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[u.jsx("h3",{className:"text-xl font-bold text-js mb-2",children:"Brak dostÄ™pnych Å›cieÅ¼ek nauki"}),u.jsx("p",{className:"text-gray-400 text-sm",children:"Aktualnie nie ma Å¼adnych dostÄ™pnych Å›cieÅ¼ek nauki. SprawdÅº ponownie pÃ³Åºniej."})]}))),zs=d.memo((({title:e,isLocked:t,requiredLevel:s})=>u.jsxs("div",{className:"flex items-start justify-between gap-4",children:[u.jsx("h3",{className:"text-lg font-bold "+(t?"text-gray-400":"text-js"),children:e}),t&&u.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm",children:[u.jsx(M,{className:"w-4 h-4"}),u.jsxs("span",{children:["Poziom ",s]})]})]})));zs.displayName="PathHeader";const Cs=d.memo((({description:e,outcomes:t,requirements:s})=>u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-gray-400 text-sm",children:e}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h4",{className:"text-sm font-medium text-js",children:"Czego siÄ™ nauczysz:"}),u.jsx("ul",{className:"text-sm text-gray-400 list-disc list-inside space-y-1",children:t.map(((e,t)=>u.jsx("li",{children:e},t)))})]}),s.length>0&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("h4",{className:"text-sm font-medium text-js",children:"Wymagania:"}),u.jsx("ul",{className:"text-sm text-gray-400 list-disc list-inside space-y-1",children:s.map(((e,t)=>u.jsx("li",{children:e},t)))})]})]})));Cs.displayName="PathContent";const Ls=d.memo((({progress:e})=>u.jsxs("div",{children:[u.jsx("div",{className:"relative h-2 bg-dark rounded-full overflow-hidden",children:u.jsx(Ee.div,{initial:{width:0},animate:{width:`${e.percentage}%`},className:"absolute inset-y-0 left-0 bg-js rounded-full"})}),u.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mt-1",children:[u.jsxs("span",{children:[e.completed,"/",e.total," ukoÅ„czone"]}),u.jsxs("span",{children:[e.percentage,"%"]})]})]})));Ls.displayName="ProgressBar";const Ts=d.memo((({id:e,isLocked:t,estimatedTime:s,progress:a})=>u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("span",{className:"flex items-center gap-1 text-gray-400",children:[u.jsx(B,{className:"w-4 h-4"}),s," min"]}),!t&&u.jsx(E,{to:`/dashboard/learn?tab=lessons&pathId=${e}`,className:"text-js hover:text-js/80 transition-colors",children:u.jsx(I,{className:"w-4 h-4"})})]}),u.jsx(Ls,{progress:a})]})));Ts.displayName="PathFooter";const Ps=d.memo((({path:e})=>{const{safeData:t,cardStyles:s,hoverAnimation:a}=(e=>{const t=d.useMemo((()=>{var t,s,a,i;return{id:e.id,title:e.title||"Brak tytuÅ‚u",description:e.description||"Brak opisu",estimatedTime:e.estimatedTime||0,isLocked:e.isLocked,requiredLevel:e.requiredLevel,progress:{completed:Array.isArray(null==(t=e.progress)?void 0:t.completed)?e.progress.completed.length:Number(null==(s=e.progress)?void 0:s.completed)||0,total:Number(null==(a=e.progress)?void 0:a.total)||0,percentage:Number(null==(i=e.progress)?void 0:i.percentage)||0},outcomes:Array.isArray(e.outcomes)?e.outcomes.map((e=>String(e))):[],requirements:Array.isArray(e.requirements)?e.requirements.map((e=>String(e))):[]}}),[e]),s=d.useMemo((()=>`\n    bg-dark-800/50 border rounded-xl p-6 transition-all\n    ${t.isLocked?"border-gray-700/50 opacity-75":"border-js/10 hover:border-js/20"}\n  `),[t.isLocked]),a=d.useMemo((()=>t.isLocked?{}:{scale:1.02}),[t.isLocked]);return{safeData:t,cardStyles:s,hoverAnimation:a}})(e);return u.jsx(Ee.div,{whileHover:a,className:s,children:u.jsxs("div",{className:"space-y-4",children:[u.jsx(zs,{title:t.title,isLocked:t.isLocked,requiredLevel:t.requiredLevel}),u.jsx(Cs,{description:t.description,outcomes:t.outcomes,requirements:t.requirements}),u.jsx(Ts,{id:t.id,isLocked:t.isLocked,estimatedTime:t.estimatedTime,progress:t.progress})]})})}));Ps.displayName="PathCard";const Es=d.memo((()=>{const{paths:e,userStats:t,isLoading:s,error:a,refetch:i,isEmpty:n}=ks();return s?u.jsx(Fe,{}):a?u.jsx(as,{message:"Nie udaÅ‚o siÄ™ pobraÄ‡ Å›cieÅ¼ek nauki. SprÃ³buj ponownie pÃ³Åºniej.",onRetry:i}):n?u.jsx(Ss,{}):u.jsxs("div",{className:"space-y-8",children:[u.jsx(ws,{stats:t||{completedPaths:0,totalPaths:0,totalPoints:0,pathsInProgress:0,recentActivity:[]}}),u.jsxs("section",{children:[u.jsx("header",{className:"flex items-center justify-between mb-6",children:u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-js mb-1",children:"ÅšcieÅ¼ki nauki"}),u.jsx("p",{className:"text-gray-400 text-sm",children:"Wybierz Å›cieÅ¼kÄ™ nauki dopasowanÄ… do Twoich potrzeb"})]})}),u.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{staggerChildren:.1},className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.map((e=>u.jsx(Ps,{path:e},e.id)))})]})]})}));Es.displayName="LearningPaths";const As=[{id:"paths",label:"ÅšcieÅ¼ki nauki",icon:q},{id:"lessons",label:"Lekcje",icon:b},{id:"resources",label:"MateriaÅ‚y",icon:V}],Os=d.memo((({activeTab:e,onTabChange:t})=>u.jsx("div",{className:"flex gap-2 flex-wrap",children:As.map((s=>u.jsxs(Ee.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t(s.id),className:"relative flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all\n            "+(e===s.id?"text-js bg-js/10 border border-js/20":"text-gray-400 hover:text-js/80 border border-transparent"),children:[u.jsx(s.icon,{className:"w-4 h-4"}),s.label,e===s.id&&u.jsx(Ee.div,{layoutId:"activeTab",className:"absolute inset-0 bg-js/5 rounded-lg -z-10",transition:{type:"spring",bounce:.2,duration:.6}})]},s.id)))})));Os.displayName="LearnTabs";const $s=()=>{const[e,t]=d.useState((()=>localStorage.getItem("token")||sessionStorage.getItem("token"))),s=JSON.parse(localStorage.getItem("user")||sessionStorage.getItem("user")||"{}").id;return d.useEffect((()=>{const e=()=>{t(localStorage.getItem("token")||sessionStorage.getItem("token"))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)}),[]),{token:e,isAuthenticated:!!e,userId:s}},Rs=d.memo((()=>{const[e,t]=_(),{isAuthenticated:s}=$s(),a=e.get("tab")||"paths";return s?u.jsxs(Ee.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},initial:"hidden",animate:"visible",className:"min-h-screen bg-dark/50 backdrop-blur-sm",children:[u.jsxs(p,{children:[u.jsx("title",{children:"Nauka | CodeLinesJS"}),u.jsx("meta",{name:"description",content:"Nauka JavaScript - doÅ‚Ä…cz do nas i rozwijaj swoje umiejÄ™tnoÅ›ci w przyjaznym Å›rodowisku."})]}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx(Me,{title:"Nauka JavaScript",subtitle:"Wybierz swojÄ… Å›cieÅ¼kÄ™ nauki i rozpocznij przygodÄ™ z JS",className:"mb-8",titleClassName:"text-js drop-shadow-lg",subtitleClassName:"text-gray-400"}),u.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-xl p-6",children:[u.jsx(Os,{activeTab:a,onTabChange:e=>{t((t=>("paths"===e?(t.delete("tab"),t.delete("filter")):t.set("tab",e),t)))}}),u.jsxs(Ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3,type:"spring",stiffness:200,damping:20},className:"mt-8",children:["paths"===a&&u.jsx(Es,{}),"lessons"===a&&u.jsx(hs,{}),"resources"===a&&u.jsx(fs,{})]},a)]})]})]}):u.jsx("div",{className:"flex justify-center py-12",children:u.jsx(Fe,{})})}));Rs.displayName="LearnSection";const Ds=Object.freeze(Object.defineProperty({__proto__:null,LearnSection:Rs},Symbol.toStringTag,{value:"Module"})),Gs=e=>{const{userId:t,token:s}=$s(),a=x(),{refetch:i}=ks(),[n,r]=d.useState(0),{data:o,isLoading:l,error:m,refetch:u}=k({queryKey:["lesson",e],queryFn:()=>((e,t)=>c(void 0,null,(function*(){const s=yield fetch(`${Te}lessons/${e}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!s.ok){if(404===s.status)throw new Error("lesson_not_found");throw new Error("Failed to fetch lesson")}return s.json()})))(e,s),enabled:!!e,retry:!1}),p="lesson_not_found"===(null==m?void 0:m.message),h=S({mutationFn:xs,onSuccess:()=>{a.invalidateQueries({queryKey:["userProgress"]}),a.invalidateQueries({queryKey:["lessons"]}),a.invalidateQueries({queryKey:["lesson",e]}),i()}}),j=S({mutationFn:a=>((e,t,s,a)=>c(void 0,null,(function*(){const i=yield fetch(`${Te}users/${e}/lessons/${t}/progress`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(s)});if(!i.ok)throw new Error("Failed to update progress");return i.json()})))(t,e,a,s),onSuccess:()=>{a.invalidateQueries({queryKey:["userProgress"]})}});return{lesson:o,isLoading:l,error:m,isNotFound:p,activeSection:n,progress:null==o?void 0:o.progress,refetch:u,handleSectionChange:e=>{r(e)},handleSectionComplete:s=>c(void 0,null,(function*(){t&&e&&(yield j.mutateAsync({completedSections:[...(null==o?void 0:o.completedSections)||[],s],isCompleted:!1,points:0}))})),handleQuizComplete:s=>c(void 0,null,(function*(){t&&e&&(yield j.mutateAsync({completedSections:(null==o?void 0:o.completedSections)||[],isCompleted:!1,points:s}))})),handleLessonComplete:()=>c(void 0,null,(function*(){if(!e||!o)return Promise.reject(new Error("Brak wymaganych danych"));try{const e=yield h.mutateAsync({lessonId:o.id,pathId:o.pathId,token:s});return yield u(),yield i(),K.success("Lekcja ukoÅ„czona!",{duration:3e3,position:"bottom-right"}),e}catch(t){throw K.error("Nie udaÅ‚o siÄ™ ukoÅ„czyÄ‡ lekcji. SprÃ³buj ponownie.",{duration:4e3,position:"bottom-right"}),t}})),completeLessonMutation:h}},_s=d.memo((({children:e})=>u.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen bg-dark/50 backdrop-blur-sm py-8",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e})})));_s.displayName="LessonLayout";const Fs=d.memo((()=>u.jsxs(E,{to:"/dashboard/learn",className:"inline-flex items-center gap-2 text-js hover:text-js/80 transition-colors mb-6",children:[u.jsx(Z,{className:"w-4 h-4"}),"WrÃ³Ä‡ do listy lekcji"]})));Fs.displayName="BackToLessons";const Bs="beginner",Ms="intermediate",Is="advanced",Us={[Bs]:"bg-green-500/10 text-green-400",[Ms]:"bg-yellow-500/10 text-yellow-400",[Is]:"bg-red-500/10 text-red-400"},Ws=d.memo((({difficulty:e})=>u.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs font-medium ${Us[e]}`,children:"beginner"===e?"Podstawowy":"intermediate"===e?"Åšredni":"Zaawansowany"})));Ws.displayName="DifficultyBadge";const Hs=d.memo((({xp:e})=>u.jsxs("span",{className:"flex items-center gap-1 text-js bg-js/10 px-2.5 py-1 rounded-lg text-sm",children:[u.jsx($,{className:"w-4 h-4"}),e," XP"]})));Hs.displayName="XpBadge";const Js=d.memo((({title:e,duration:t,difficulty:s,xp:a})=>u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx(Ws,{difficulty:s}),u.jsx(Hs,{xp:a})]}),u.jsx("h1",{className:"text-3xl font-bold text-js mb-4",children:e}),u.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(B,{className:"w-4 h-4"}),t," min"]})})]}))),qs=Y,Vs=d.memo((({code:e,language:t,showLineNumbers:s=!0,className:a})=>u.jsxs("div",{className:`relative group ${a}`,children:[u.jsx("button",{onClick:()=>{navigator.clipboard.writeText(e)},className:"absolute right-2 top-2 p-2 rounded-lg bg-dark/50 text-gray-400 \r\n          opacity-0 group-hover:opacity-100 transition-opacity hover:text-js",title:"Kopiuj kod",children:u.jsx(Q,{className:"w-4 h-4"})}),u.jsx(qs,{language:t,style:X,showLineNumbers:s,wrapLines:!0,customStyle:{margin:0,borderRadius:"0.5rem",background:"transparent"},codeTagProps:{style:{fontFamily:"JetBrains Mono, monospace"}},children:e})]})));Vs.displayName="CodeBlock";const Ks=d.memo((({example:e,index:t})=>e.code?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h3",{className:"text-lg font-medium text-gray-200",children:["PrzykÅ‚ad ",t+1,":"]}),u.jsx(Vs,{code:e.code,language:e.language||"javascript",showLineNumbers:!0,className:"rounded-lg border border-js/10"}),e.explanation&&u.jsx("p",{className:"text-gray-400 text-sm",children:e.explanation})]}):u.jsx("div",{className:"p-4 bg-dark-800/50 rounded-lg border border-js/10",children:u.jsx("p",{className:"text-gray-400 text-sm text-center",children:"Ten przykÅ‚ad nie zawiera jeszcze kodu."})}))),Zs=d.memo((({section:e,index:t})=>u.jsxs("section",{className:"space-y-4",children:[u.jsxs("h2",{className:"text-xl font-bold text-js",children:[t+1,". ",e.title]}),u.jsx("div",{className:"prose prose-invert max-w-none",children:e.content}),u.jsx("div",{className:"space-y-8 mt-8",children:e.examples&&e.examples.length>0&&u.jsx("div",{className:"space-y-8 mt-8",children:e.examples.map(((e,t)=>u.jsx(Ks,{example:e,index:t},t)))})})]})));Zs.displayName="LessonSection";const Qs={perfect:{icon:T,label:"Perfekcyjnie!",color:"text-yellow-500"},excellent:{icon:O,label:"Åšwietnie!",color:"text-js"},good:{icon:$,label:"MogÅ‚o byÄ‡ lepiej!",color:"text-blue-500"}},Xs=d.memo((({correctAnswers:e,totalQuestions:t})=>{const s=e/t*100,a=(e=>100===e?Qs.perfect:e>=80?Qs.excellent:Qs.good)(s),i=a.icon;return u.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-dark-800/50 border border-js/10 rounded-lg p-6 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsxs("div",{className:"relative",children:[u.jsx(i,{className:`w-12 h-12 ${a.color}`}),u.jsx(Ee.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3},className:"absolute -right-2 -bottom-2",children:u.jsx($,{className:"w-6 h-6 text-yellow-500 animate-pulse"})})]})}),u.jsx("h3",{className:`text-xl font-bold ${a.color} mb-2`,children:a.label}),u.jsxs("p",{className:"text-gray-400 mb-4",children:["Poprawne odpowiedzi: ",e," z ",t]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(Ee.div,{initial:{width:0},animate:{width:"100%"},className:"h-2 bg-dark rounded-full overflow-hidden mx-auto",children:u.jsx(Ee.div,{initial:{width:0},animate:{width:`${s}%`},className:"h-full "+(100===s?"bg-yellow-500":"bg-js"),transition:{delay:.5,duration:.8}})}),u.jsxs("p",{className:"text-sm text-gray-400",children:[Math.round(s),"% poprawnych odpowiedzi"]})]})]})})),Ys=d.memo((({questions:e,onComplete:t})=>{const[s,a]=d.useState(0),[i,n]=d.useState(null),[r,o]=d.useState(0),[l,c]=d.useState(!1),[m,x]=d.useState(!1),p=s/e.length*100;return l?u.jsx(Xs,{correctAnswers:r,totalQuestions:e.length,earnedXP:Math.round(r/e.length*100)}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("span",{className:"text-sm text-gray-400",children:["Pytanie ",s+1," z ",e.length]}),u.jsx("span",{className:"text-js",children:"â€¢"})]}),u.jsxs("div",{className:"text-sm text-gray-400",children:[Math.round(p),"% ukoÅ„czone"]})]}),m&&u.jsx(Ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-dark-800/50 border border-js/10 rounded-lg text-gray-400 text-sm",children:e[s].explanation}),null!==i&&u.jsx(Ee.button,{initial:{opacity:0},animate:{opacity:1},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{s<e.length-1?(a((e=>e+1)),n(null),x(!1)):(t(r,e.length),c(!0))},className:"w-full py-3 bg-js/10 text-js rounded-lg hover:bg-js/20 transition-colors",children:s<e.length-1?"NastÄ™pne pytanie":"ZakoÅ„cz quiz"}),u.jsx("div",{className:"text-lg font-medium text-gray-200",children:e[s].question}),u.jsx("div",{className:"space-y-3",children:e[s].options.map(((t,a)=>u.jsx(Ee.button,{whileHover:{scale:1.02},whileTap:{scale:.98},disabled:null!==i,onClick:()=>{return n(t=a),x(!0),void(t===e[s].correctAnswer&&o((e=>e+1)));var t},className:"w-full p-4 rounded-lg border text-left transition-colors\n              "+(null===i?"border-js/10 hover:border-js/20":a===e[s].correctAnswer?"border-green-500 bg-green-500/10 text-green-400":i===a?"border-red-500 bg-red-500/10 text-red-400":"border-js/10 opacity-50"),children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{children:t}),null!==i&&(a===e[s].correctAnswer?u.jsx(F,{className:"w-4 h-4 text-green-400"}):i===a?u.jsx(ee,{className:"w-4 h-4 text-red-400"}):null)]})},a)))})]})}));Ys.displayName="LessonQuiz",Xs.displayName="QuizSummary";const ea=d.memo((({lesson:e,onQuizComplete:t})=>{if(!e)return null;const{sections:s=[]}=e.content;return u.jsx("div",{className:"w-[85vw] mb-32 md:w-auto md:mb-auto col-span-9 lesson-content overflow-y-auto max-h-[calc(100vh-200px)]",children:u.jsx(Ee.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"bg-dark-800/50 border border-js/10 rounded-xl p-6 md:p-8",children:u.jsxs("div",{className:"space-y-8",children:[u.jsx(Js,{title:e.title,duration:String(e.duration),difficulty:e.difficulty,xp:e.points}),u.jsxs("div",{className:"space-y-8",children:[s.map(((e,t)=>u.jsx(Zs,{section:e,index:t},t))),e.content.quiz&&u.jsx(Ys,{questions:e.content.quiz,onComplete:t})]})]})})})}));ea.displayName="LessonMainContent";const ta=d.memo((({isCompleted:e,onComplete:t})=>{const[s,a]=d.useState(0),[i,n]=d.useState(!1),r=Oe(0),o=N();d.useEffect((()=>{const e=document.querySelector(".lesson-content");if(!e)return;const t=()=>{const{scrollTop:t,scrollHeight:s,clientHeight:i}=e,n=t/(s-i)*100;a(Math.min(n,100)),r.set(Math.min(n,100))};return e.addEventListener("scroll",t),t(),()=>e.removeEventListener("scroll",t)}),[r]);const l=s>=98&&!e;return u.jsx("div",{className:"mb-5 fixed bottom-0 left-0 right-0 bg-dark-800/95 border-t border-js/10 backdrop-blur-sm",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1 mr-8",children:[u.jsx("div",{className:"relative h-2 bg-dark rounded-full overflow-hidden",children:u.jsx(Ee.div,{style:{width:`${s}%`},className:"absolute inset-y-0 left-0 bg-js rounded-full"})}),u.jsx("div",{className:"flex justify-between text-sm text-gray-400 mt-2",children:u.jsxs("span",{children:[Math.round(s),"% przeczytane"]})})]}),u.jsxs(Ee.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>c(void 0,null,(function*(){if(l&&!i)try{n(!0),yield t(),o("/dashboard/learn?tab=lessons")}catch(e){}finally{n(!1)}})),disabled:!l||i,className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-colors\n            "+(l&&!i?"bg-js/10 text-js hover:bg-js/20":"bg-gray-800/50 text-gray-500 cursor-not-allowed"),children:[u.jsx(F,{className:"w-4 h-4"}),i?"Zapisywanie...":l?"ZakoÅ„cz lekcjÄ™":"Przeczytaj caÅ‚Ä… lekcjÄ™"]})]})})}));ta.displayName="LessonProgress";const sa=d.memo((({lesson:e,activeSection:t,progress:s,onSectionComplete:a,onQuizComplete:i,onLessonComplete:n})=>{if(!e)return null;const r=(e.sections||[]).length;return u.jsx(u.Fragment,{children:u.jsxs(_s,{children:[u.jsx(Fs,{}),u.jsx("div",{className:"w-full flex items-center justify-center",children:u.jsx(ea,{lesson:e,onSectionComplete:a,onQuizComplete:i})}),u.jsx(ta,{currentSection:t,totalSections:r,progress:s,isCompleted:e.isCompleted||!1,onComplete:n})]})})}));sa.displayName="LessonContent";const aa=d.memo((()=>u.jsx("div",{className:"min-h-screen bg-dark/50 backdrop-blur-sm py-8",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-js mb-4",children:"Lekcja nie zostaÅ‚a znaleziona"}),u.jsxs(E,{to:"/dashboard/learn",className:"inline-flex items-center gap-2 text-js hover:text-js/80 transition-colors",children:[u.jsx(Z,{className:"w-4 h-4"}),"WrÃ³Ä‡ do listy lekcji"]})]})})})));aa.displayName="LessonNotFound";const ia=()=>{const{lessonSlug:e}=te();if(!e)return u.jsx(se,{to:"/dashboard/learn",replace:!0});const{lesson:t,isLoading:s,error:a,isNotFound:i,activeSection:n,progress:r,handleSectionComplete:o,handleQuizComplete:l,handleLessonComplete:c}=Gs(e);return s?u.jsx(na,{}):i?u.jsx(aa,{}):a?u.jsx(ra,{onRetry:()=>window.location.reload()}):t?u.jsxs(u.Fragment,{children:[u.jsxs(p,{children:[u.jsxs("title",{children:[t.title," | CodeLinesJS"]}),u.jsx("meta",{name:"description",content:t.description})]}),u.jsx(sa,{lesson:t,activeSection:n,progress:"number"==typeof r?r:0,onSectionComplete:o,onQuizComplete:l,onLessonComplete:c})]}):u.jsx(aa,{})},na=()=>u.jsx(_s,{children:u.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:u.jsx(Fe,{})})}),ra=({onRetry:e})=>u.jsx(_s,{children:u.jsx(as,{message:"Nie udaÅ‚o siÄ™ pobraÄ‡ lekcji. SprÃ³buj ponownie pÃ³Åºniej.",onRetry:e})});ia.displayName="LessonPage";const oa=Object.freeze(Object.defineProperty({__proto__:null,LessonPage:ia},Symbol.toStringTag,{value:"Module"})),la=[{id:"profile",label:"Profil",icon:ae},{id:"security",label:"BezpieczeÅ„stwo",icon:M},{id:"preferences",label:"Preferencje",icon:v},{id:"delete",label:"UsuÅ„ konto",icon:ie}],ca="bg-dark/30 backdrop-blur-sm rounded-xl border border-js/10 p-4 h-fit shadow-lg",da="flex flex-col gap-2",ma=e=>`\n    flex items-center gap-3 p-3 rounded-lg text-left\n    transition-colors duration-200\n    ${e?"bg-js/20 text-js":"text-gray-400 hover:text-js hover:bg-js/10"}\n  `,xa="w-5 h-5",ua=d.memo((({activeView:e,onViewChange:t})=>{const s=d.useCallback((e=>{t(e)}),[t]);return u.jsx("div",{className:ca,children:u.jsx("nav",{className:da,children:la.map((t=>u.jsxs(Ee.button,{whileHover:{x:4},whileTap:{scale:.98},onClick:()=>s(t.id),className:ma(e===t.id),children:[u.jsx(t.icon,{className:xa}),t.label]},t.id)))})})}));ua.displayName="SettingsSidebar";const pa=e=>({Authorization:`Bearer ${e}`,"Content-Type":"application/json"}),ha=["profile"],ja=()=>{var e;const t=x(),{token:s}=Le(),{data:a,isLoading:i,error:n}=k({queryKey:ha,queryFn:()=>(e=>c(void 0,null,(function*(){var t;const s=yield fetch(`${Te}settings/profile`,{headers:pa(e)});if(!s.ok)throw new Error("Failed to fetch profile");const a=yield s.json();return{username:a.username,email:a.email,profile:{bio:(null==(t=a.profile)?void 0:t.bio)||""}}})))(s||""),enabled:!!s,staleTime:3e5}),r=S({mutationFn:e=>((e,t)=>c(void 0,null,(function*(){const s=yield fetch(`${Te}settings/profile`,{method:"PUT",headers:pa(t),body:JSON.stringify(e)});if(!s.ok)throw new Error("Failed to update profile");return s.json()})))(e,s||""),onSuccess:e=>{t.setQueryData(ha,e),t.invalidateQueries({queryKey:ha})}});return{profile:a,bio:(null==(e=null==a?void 0:a.profile)?void 0:e.bio)||"",isLoading:i,error:n,updateProfile:r}},ga=Ge.object({username:Ge.string().min(3,"Nazwa uÅ¼ytkownika musi mieÄ‡ minimum 3 znaki").max(20,"Nazwa uÅ¼ytkownika moÅ¼e mieÄ‡ maksymalnie 20 znakÃ³w"),email:Ge.string().email("NieprawidÅ‚owy adres email"),profile:Ge.object({bio:Ge.string().max(160,"Bio moÅ¼e mieÄ‡ maksymalnie 160 znakÃ³w").optional(),avatar:Ge.string().optional()})}),ya=e=>{var t;const{updateProfile:s}=ja(),a=d.useCallback((e=>c(void 0,null,(function*(){var t;try{yield s.mutateAsync({username:e.username,email:e.email,profile:{bio:(null==(t=e.profile)?void 0:t.bio)||""}}),K.success("Profil zostaÅ‚ zaktualizowany")}catch(a){K.error("Nie udaÅ‚o siÄ™ zaktualizowaÄ‡ profilu")}}))),[s]),i={username:(null==e?void 0:e.username)||"",email:(null==e?void 0:e.email)||"",profile:{bio:(null==(t=null==e?void 0:e.profile)?void 0:t.bio)||""}},{form:n,onSubmit:r}=(({onSubmit:e,defaultValues:t})=>{var s,a;const i=ne({resolver:_e(ga),defaultValues:{username:(null==t?void 0:t.username)||"",email:(null==t?void 0:t.email)||"",profile:{bio:(null==(s=null==t?void 0:t.profile)?void 0:s.bio)||"",avatar:(null==(a=null==t?void 0:t.profile)?void 0:a.avatar)||""}}});return{form:i,onSubmit:i.handleSubmit((t=>c(void 0,null,(function*(){try{yield e(t)}catch(s){}}))))}})({onSubmit:a,defaultValues:i});return{form:n,onSubmit:r}},ba={form:"w-full max-w-2xl sm:ml-0 sm:mr-auto \n    space-y-8 px-4 sm:px-0",usernameContainer:"flex flex-col gap-4",container:"bg-dark/30 backdrop-blur-sm rounded-xl \n    p-4 sm:p-6 md:p-8 border border-js/10 \n    space-y-6 md:space-y-8",header:"flex flex-col md:flex-row gap-6 md:gap-8",infoSection:"w-full md:w-2/3 space-y-6",bioSection:"space-y-4",bioLabel:"block text-gray-400 \n    text-sm sm:text-base \n    font-medium",bioTextarea:"w-full px-4 py-3 rounded-lg \n    bg-dark/50 border border-js/10 \n    text-gray-300 placeholder-gray-500\n    focus:outline-none focus:ring-2 focus:ring-js/50\n    text-sm sm:text-base \n    min-h-[120px] max-h-[240px] \n    resize-y\n    transition-colors duration-200",error:"text-red-500 text-sm mt-1"},va=d.memo((({register:e,errors:t})=>{var s,a;return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:ba.usernameContainer,children:u.jsx(Ie,o({type:"text",label:"Nazwa uÅ¼ytkownika",placeholder:"WprowadÅº nazwÄ™ uÅ¼ytkownika",icon:u.jsx(ae,{}),error:null==(s=t.username)?void 0:s.message},e("username")))}),u.jsx(Ie,o({type:"email",label:"Email",placeholder:"WprowadÅº adres email",icon:u.jsx(re,{}),error:null==(a=t.email)?void 0:a.message},e("email")))]})}));va.displayName="UserInfoFields";const fa={container:"space-y-2",label:"block text-gray-400 text-sm",textarea:"w-full h-32 px-4 py-3 rounded-lg \n    bg-dark/50 border border-js/10\n    text-gray-300 placeholder-gray-500\n    focus:outline-none focus:ring-2 focus:ring-js/50\n    resize-none",error:"text-red-500 text-sm"},Na=d.memo((({register:e,errors:t,defaultValue:s})=>{var a;return u.jsxs("div",{className:fa.container,children:[u.jsx("label",{className:fa.label,children:"Bio"}),u.jsx("textarea",l(o({},e("profile.bio")),{className:fa.textarea,placeholder:s||"Napisz coÅ› o sobie..."})),(null==(a=t.profile)?void 0:a.bio)&&u.jsx("span",{className:fa.error,children:t.profile.bio.message})]})}));Na.displayName="BioField";const wa={container:"flex flex-col-reverse sm:flex-row justify-end gap-3 sm:gap-4\n    w-full sm:w-auto mt-6 sm:mt-8",cancelButton:"w-full sm:w-auto order-1 sm:order-none\n    px-4 sm:px-6 py-2.5 sm:py-3 rounded-lg\n    bg-dark/50 text-gray-400\n    border border-js/10 hover:border-js/30 hover:bg-dark/60\n    disabled:opacity-50 disabled:cursor-not-allowed\n    transition-colors duration-200 shadow-none\n    text-sm sm:text-base font-medium\n  ",submitButton:"w-full sm:w-auto\n    px-4 sm:px-6 py-2.5 sm:py-3 rounded-lg\n    bg-js text-dark\n    hover:bg-js/90\n    disabled:opacity-50 disabled:cursor-not-allowed\n    transition-colors duration-200\n    text-sm sm:text-base font-medium\n    flex items-center justify-center\n  "},ka=d.memo((({onCancel:e,isSubmitting:t,submitText:s="Zapisz zmiany",loadingText:a="Zapisywanie"})=>u.jsxs("div",{className:wa.container,children:[u.jsx(Ue,{type:"button",onClick:e,className:wa.cancelButton,disabled:t,children:"Anuluj zmiany"}),u.jsx(Ue,{type:"submit",disabled:t,className:wa.submitButton,children:t?u.jsxs("div",{className:"flex items-center justify-center gap-2 min-w-[100px]",children:[u.jsx("div",{className:"w-4 h-4 border-2 border-dark border-t-transparent rounded-full animate-spin"}),u.jsx("span",{className:"text-sm sm:text-base whitespace-nowrap",children:a})]}):u.jsx("span",{className:"text-sm sm:text-base whitespace-nowrap",children:s})})]})));ka.displayName="FormButtons";const Sa=d.memo((({handleCancel:e,register:t,errors:s,defaultBio:a,isSubmitting:i,isPending:n,onSubmit:r})=>u.jsxs(Ee.form,{onSubmit:r,className:ba.form,initial:{opacity:0},animate:{opacity:1},children:[u.jsx("div",{className:ba.container,children:u.jsx("div",{className:ba.header,children:u.jsxs("div",{className:ba.infoSection,children:[u.jsx(va,{register:t,errors:s}),u.jsx(Na,{register:t,errors:s,defaultValue:a})]})})}),u.jsx(ka,{onCancel:e,isSubmitting:i||n,submitText:"Zapisz profil",loadingText:"Zapisywanie"})]}))),za=d.memo((()=>{var e;const{profile:t,isLoading:s,updateProfile:a}=ja(),{form:i,onSubmit:n}=ya(t||null),r=x(),{register:o,formState:{errors:l,isSubmitting:m},reset:p,setValue:h}=i;d.useEffect((()=>{var e;t&&(h("username",t.username),h("email",t.email),h("profile.bio",(null==(e=t.profile)?void 0:e.bio)||""))}),[t,h]);const j=d.useCallback((()=>{try{t&&(p(t),K.success("Zmiany zostaÅ‚y anulowane"))}catch(e){K.error("Nie udaÅ‚o siÄ™ anulowaÄ‡ zmian")}}),[t,p]);return s?u.jsx(Fe,{}):u.jsx(Sa,{handleCancel:j,register:o,errors:l,defaultBio:null==(e=null==t?void 0:t.profile)?void 0:e.bio,isSubmitting:m,isPending:a.isPending,onSubmit:e=>c(void 0,null,(function*(){try{yield n(e),yield r.invalidateQueries({queryKey:["userProfile"]})}catch(t){K.error("WystÄ…piÅ‚ bÅ‚Ä…d podczas aktualizacji profilu")}}))})}));za.displayName="ProfileForm";const Ca=d.memo((({form:e,errors:t})=>{var s,a,i;const{register:n}=e;return u.jsxs("div",{className:"space-y-6",children:[u.jsx(Ie,o({type:"password",label:"Aktualne hasÅ‚o",placeholder:"WprowadÅº aktualne hasÅ‚o",icon:u.jsx(M,{}),error:null==(s=t.currentPassword)?void 0:s.message},n("currentPassword"))),u.jsx(Ie,o({type:"password",label:"Nowe hasÅ‚o",placeholder:"WprowadÅº nowe hasÅ‚o",icon:u.jsx(M,{}),error:null==(a=t.newPassword)?void 0:a.message},n("newPassword"))),u.jsx(Ie,o({type:"password",label:"PowtÃ³rz nowe hasÅ‚o",placeholder:"PowtÃ³rz nowe hasÅ‚o",icon:u.jsx(M,{}),error:null==(i=t.confirmPassword)?void 0:i.message},n("confirmPassword")))]})}));Ca.displayName="PasswordFields";const La=Ge.object({currentPassword:Ge.string().min(1,"Aktualne hasÅ‚o jest wymagane").min(8,"HasÅ‚o musi mieÄ‡ minimum 8 znakÃ³w"),newPassword:Ge.string().min(1,"Nowe hasÅ‚o jest wymagane").min(8,"Nowe hasÅ‚o musi mieÄ‡ minimum 8 znakÃ³w").regex(/[A-Z]/,"HasÅ‚o musi zawieraÄ‡ wielkÄ… literÄ™").regex(/[0-9]/,"HasÅ‚o musi zawieraÄ‡ cyfrÄ™"),confirmPassword:Ge.string().min(1,"Potwierdzenie hasÅ‚a jest wymagane")}).refine((e=>e.newPassword===e.confirmPassword),{message:"HasÅ‚a muszÄ… byÄ‡ takie same",path:["confirmPassword"]});class Ta extends Error{constructor(e,t){super(t),this.code=e,this.name="SecurityError"}}const Pa=({onSuccess:e,onError:t}={})=>{const{token:s}=Le(),a=ne({resolver:_e(La),mode:"onSubmit",reValidateMode:"onSubmit",defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),i=S({mutationFn:e=>((e,t)=>c(void 0,null,(function*(){const s=yield fetch(`${Te}settings/security/password`,{method:"PUT",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok){if("INVALID_CURRENT_PASSWORD"===(yield s.json()).code)throw new Ta("INVALID_CURRENT_PASSWORD","Aktualne hasÅ‚o jest nieprawidÅ‚owe");throw new Ta("UNKNOWN_ERROR","WystÄ…piÅ‚ bÅ‚Ä…d podczas zmiany hasÅ‚a")}})))({currentPassword:e.currentPassword,newPassword:e.newPassword},s||""),onSuccess:()=>{a.reset(),null==e||e()},onError:t});return{form:a,onSubmit:a.handleSubmit((e=>i.mutateAsync(e))),isUpdating:i.isPending}},Ea={initial:{opacity:0},animate:{opacity:1}},Aa=d.memo((()=>{const{handleSuccess:e,handleError:t,handleCancel:s,handleCancelError:a}={handleSuccess:d.useCallback((()=>{K.success("HasÅ‚o zostaÅ‚o zmienione")}),[]),handleError:d.useCallback((e=>{e instanceof Ta&&"INVALID_CURRENT_PASSWORD"===e.code?K.error("Aktualne hasÅ‚o jest nieprawidÅ‚owe"):K.error("WystÄ…piÅ‚ bÅ‚Ä…d podczas zmiany hasÅ‚a")}),[]),handleCancel:d.useCallback((()=>{K.success("Zmiany zostaÅ‚y anulowane")}),[]),handleCancelError:d.useCallback((()=>{K.error("Nie udaÅ‚o siÄ™ anulowaÄ‡ zmian")}),[])},{form:i,onSubmit:n,isUpdating:r}=Pa({onSuccess:()=>{e(),i.reset()},onError:t}),{formState:{errors:c,isSubmitting:m},reset:x}=i,p=d.useCallback((()=>{try{x(),s()}catch(e){a()}}),[x,s,a]);return u.jsxs(Ee.form,l(o({onSubmit:n,className:"w-full max-w-md sm:ml-0 sm:mr-auto space-y-8 px-4 sm:px-0"},Ea),{children:[u.jsx(Ca,{form:i,errors:c}),u.jsx(ka,{onCancel:p,isSubmitting:m||r,submitText:"ZmieÅ„ hasÅ‚o",loadingText:"Zmienianie hasÅ‚a"})]}))}));Aa.displayName="SecurityForm";const Oa=Ge.object({emailNotifications:Ge.boolean(),pushNotifications:Ge.boolean(),language:Ge.literal("pl")});class $a extends Error{constructor(e,t){super(t),this.code=e,this.name="PreferencesError"}}const Ra=()=>{const{token:e}=Le(),t=x(),{data:s,isLoading:a}=k({queryKey:["preferences"],queryFn:()=>(e=>c(void 0,null,(function*(){var t,s;const a=yield fetch(`${Te}settings/preferences`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!a.ok)throw new Error("Failed to fetch preferences");const i=yield a.json();return{emailNotifications:null!=(t=i.emailNotifications)&&t,pushNotifications:null!=(s=i.pushNotifications)&&s,language:"pl"}})))(e||""),enabled:!!e}),i=S({mutationFn:t=>((e,t)=>c(void 0,null,(function*(){const s=yield fetch(`${Te}settings/preferences`,{method:"PUT",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok){const e=yield s.json();if("VALIDATION_ERROR"===e.code)throw new $a("VALIDATION_ERROR","NieprawidÅ‚owe dane preferencji");if("SAVE_ERROR"===e.code)throw new $a("SAVE_ERROR","Nie udaÅ‚o siÄ™ zapisaÄ‡ preferencji");throw new $a("UNKNOWN_ERROR","WystÄ…piÅ‚ bÅ‚Ä…d podczas aktualizacji preferencji")}const a=yield s.json();return{emailNotifications:a.emailNotifications,pushNotifications:a.pushNotifications,language:"pl"}})))(t,e||""),onSuccess:()=>{t.invalidateQueries({queryKey:["preferences"]})}});return{preferences:s,isLoading:a,updatePreferences:i}},Da=()=>{const{preferences:e,isLoading:t,updatePreferences:s}=Ra(),{form:a,onSubmit:i}=(({onSubmit:e,defaultValues:t})=>{const s=ne({resolver:_e(Oa),defaultValues:t||{emailNotifications:!1,pushNotifications:!1,language:"pl"}}),a=s.handleSubmit((t=>c(void 0,null,(function*(){try{yield e(t)}catch(s){}}))));return{form:s,onSubmit:a}})({onSubmit:e=>c(void 0,null,(function*(){try{yield s.mutateAsync({emailNotifications:e.emailNotifications,pushNotifications:e.pushNotifications,language:"pl"}),K.success("Preferencje zostaÅ‚y zaktualizowane")}catch(t){K.error("Nie udaÅ‚o siÄ™ zaktualizowaÄ‡ preferencji")}}))}),{register:n,formState:{isSubmitting:r},setValue:o,watch:l}=a,m=l();d.useEffect((()=>{e&&(o("emailNotifications",e.emailNotifications),o("pushNotifications",e.pushNotifications),o("language","pl"))}),[e,o]);return{isLoading:t,register:n,formValues:m,isSubmitting:r,updatePreferences:s,handleCancel:()=>{try{e&&(o("emailNotifications",e.emailNotifications),o("pushNotifications",e.pushNotifications),o("language","pl"),K.success("Zmiany zostaÅ‚y anulowane"))}catch(t){K.error("Nie udaÅ‚o siÄ™ anulowaÄ‡ zmian")}},onSubmit:i,setValue:o}},Ga={section:"space-y-4",title:"text-lg sm:text-xl font-medium text-gray-200 flex items-center gap-2",icon:"text-js text-xl sm:text-2xl",optionsContainer:"space-y-4 ml-4 sm:ml-8",optionLabel:"flex items-start sm:items-center gap-3 hover:cursor-pointer group\n    transition-colors duration-200",checkbox:"w-5 h-5 rounded border-gray-600 bg-gray-700 text-js \n    focus:ring-js/50 mt-1 sm:mt-0",optionText:"group-hover:text-js transition-colors duration-200",optionTitle:"block text-gray-200 text-base sm:text-lg",optionDescription:"block text-sm text-gray-400 mt-1"},_a=d.memo((({register:e,values:t,onChange:s})=>u.jsxs("div",{className:Ga.section,children:[u.jsxs("h3",{className:Ga.title,children:[u.jsx(z,{className:Ga.icon}),"Powiadomienia"]}),u.jsx("div",{className:Ga.optionsContainer,children:u.jsxs("label",{className:Ga.optionLabel,children:[u.jsx("input",l(o({type:"checkbox"},e("emailNotifications")),{checked:t.emailNotifications,onChange:e=>s("emailNotifications",e.target.checked),className:Ga.checkbox})),u.jsxs("div",{className:Ga.optionText,children:[u.jsx("span",{className:Ga.optionTitle,children:"Powiadomienia email"}),u.jsx("span",{className:Ga.optionDescription,children:"Otrzymuj powiadomienia na email"})]})]})})]})));_a.displayName="NotificationsSection";const Fa={section:"space-y-4",title:"text-lg sm:text-xl font-medium text-gray-200 flex items-center gap-2",icon:"text-js text-xl sm:text-2xl",container:"ml-4 sm:ml-8",select:"w-full max-w-xs px-4 py-3 rounded-lg \n    bg-dark/50 border border-js/10 \n    text-gray-300 text-base sm:text-lg\n    focus:ring-2 focus:ring-js/50 focus:border-transparent \n    transition-colors"},Ba=d.memo((({register:e})=>u.jsxs("div",{className:Fa.section,children:[u.jsxs("h3",{className:Fa.title,children:[u.jsx(oe,{className:Fa.icon}),"JÄ™zyk"]}),u.jsx("div",{className:Fa.container,children:u.jsx("select",l(o({},e("language")),{className:Fa.select,children:u.jsx("option",{value:"pl",children:"Polski"})}))})]})));Ba.displayName="LanguageSection";const Ma=d.memo((({register:e,formValues:t,setValue:s,onSubmit:a,onCancel:i,isSubmitting:n,isPending:r})=>u.jsxs(Ee.form,{onSubmit:a,className:"w-full max-w-2xl sm:ml-0 sm:mr-auto space-y-8 px-4 sm:px-0",initial:{opacity:0},animate:{opacity:1},children:[u.jsxs("div",{className:"bg-dark/30 backdrop-blur-sm rounded-xl p-4 sm:p-6 md:p-8 border border-js/10 space-y-6",children:[u.jsx(_a,{register:e,values:t,onChange:(e,t)=>s(e,t)}),u.jsx("div",{className:"w-full h-px bg-js/10"}),u.jsx(Ba,{register:e})]}),u.jsx(ka,{onCancel:i,isSubmitting:n||r,submitText:"Zapisz preferencje",loadingText:"Zapisywanie"})]})));Ma.displayName="PreferencesFormContent";const Ia=d.memo((()=>{const{isLoading:e,register:t,formValues:s,isSubmitting:a,updatePreferences:i,handleCancel:n,onSubmit:r,setValue:o}=Da();return e?u.jsx(Fe,{}):u.jsx(Ma,{register:t,formValues:s,setValue:o,onSubmit:r,onCancel:n,isSubmitting:a,isPending:i.isPending})}));Ia.displayName="PreferencesForm";class Ua extends Error{constructor(e,t){super(t),this.code=e,this.name="AccountError"}}const Wa=Ge.object({password:Ge.string().min(1,"HasÅ‚o jest wymagane"),confirmation:Ge.string().refine((e=>"USUÅƒ KONTO"===e),{message:"Wpisz dokÅ‚adnie 'USUÅƒ KONTO' aby potwierdziÄ‡"})}),Ha=({onSuccess:e,onError:t}={})=>{const s=ne({resolver:_e(Wa)}),{token:a}=Le(),i=S({mutationFn:e=>((e,t)=>c(void 0,null,(function*(){const s=yield fetch(`${Te}settings/account`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok){const e=yield s.json();if("INVALID_PASSWORD"===e.code)throw new Ua("INVALID_PASSWORD","Podane hasÅ‚o jest nieprawidÅ‚owe");if("INVALID_CONFIRMATION"===e.code)throw new Ua("INVALID_CONFIRMATION","NieprawidÅ‚owe potwierdzenie");throw new Ua("UNKNOWN_ERROR","WystÄ…piÅ‚ bÅ‚Ä…d podczas usuwania konta")}})))(e,a||""),onSuccess:()=>{s.reset(),null==e||e(),window.location.href="/logowanie"},onError:t}),n=s.handleSubmit((e=>c(void 0,null,(function*(){yield i.mutateAsync(e)}))));return{form:s,onSubmit:n,isDeleting:i.isPending}},Ja=["Wszystkie twoje dane zostanÄ… usuniÄ™te","Stracisz dostÄ™p do wszystkich kursÃ³w","Twoje postÄ™py w nauce zostanÄ… utracone","Nie bÄ™dzie moÅ¼liwoÅ›ci przywrÃ³cenia konta"],qa={container:"\n    bg-red-500/10 border border-red-500/20 rounded-lg p-4 sm:p-6 mb-6\n    backdrop-blur-sm\n  ",content:"flex flex-col sm:flex-row items-start gap-4",icon:"text-red-500 text-xl sm:text-2xl mt-1 flex-shrink-0",title:"text-red-400 font-medium text-lg sm:text-xl mb-2",list:"\n    text-gray-400 space-y-2 list-disc list-inside\n    text-sm sm:text-base leading-relaxed\n  "},Va=d.memo((()=>u.jsx("div",{className:qa.container,children:u.jsxs("div",{className:qa.content,children:[u.jsx(G,{className:qa.icon,"data-testid":"warning-icon"}),u.jsxs("div",{children:[u.jsx("h3",{className:qa.title,children:"Usuwanie konta jest nieodwracalne"}),u.jsx("ul",{className:qa.list,children:Ja.map(((e,t)=>u.jsx("li",{children:e},t)))})]})]})})));Va.displayName="WarningBox";const Ka=d.memo((({onConfirm:e})=>u.jsxs(Ee.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full max-w-md sm:ml-0 sm:mr-auto px-4 sm:px-0",children:[u.jsx(Va,{}),u.jsx(Ue,{type:"button",onClick:e,className:"w-full px-6 py-3 rounded-lg bg-red-500/20 text-red-400 \r\n        hover:bg-red-500/30 transition-colors duration-200 shadow-none\r\n        text-base sm:text-lg font-medium",children:"ChcÄ™ usunÄ…Ä‡ konto"})]})));Ka.displayName="InitialWarning";const Za={form:"space-y-6",confirmationField:"space-y-2",label:"block text-gray-400 text-sm sm:text-base",hint:"text-sm text-gray-500",input:"w-full px-4 py-3 rounded-lg \n    bg-dark/50 border border-js/10 \n    text-gray-300 placeholder-gray-500\n    focus:outline-none focus:ring-2 focus:ring-js/50\n    text-base sm:text-lg\n  ",error:"text-red-500 text-sm",buttons:"flex flex-col sm:flex-row justify-end gap-3 sm:gap-4 mt-8",submitButton:"w-full sm:w-auto order-2 sm:order-1\n    px-4 sm:px-6 py-3 rounded-lg\n    bg-red-500/20 text-red-400 \n    hover:bg-red-500/30\n    transition-colors duration-200 shadow-none\n    text-sm sm:text-base font-medium\n    disabled:opacity-50 disabled:cursor-not-allowed\n    whitespace-nowrap\n  ",cancelButton:"w-full sm:w-auto order-1 sm:order-2\n    px-4 sm:px-6 py-3 rounded-lg\n    bg-dark/50 text-gray-400\n    border border-js/10\n    hover:text-js hover:border-js/30\n    hover:bg-dark/60\n    transition-colors duration-200 shadow-none\n    text-sm sm:text-base\n    disabled:opacity-50 disabled:cursor-not-allowed\n    whitespace-nowrap\n  "},Qa=d.memo((({register:e,errors:t,isSubmitting:s,onCancel:a,onSubmit:i})=>{var n;return u.jsxs(Ee.form,{initial:{opacity:0},animate:{opacity:1},className:Za.form,onSubmit:i,children:[u.jsx(Ie,o({id:"password",type:"password",label:"HasÅ‚o",placeholder:"WprowadÅº hasÅ‚o aby potwierdziÄ‡",icon:u.jsx(M,{}),error:null==(n=t.password)?void 0:n.message},e("password"))),u.jsxs("div",{className:Za.confirmationField,children:[u.jsx("label",{htmlFor:"confirmation",className:Za.label,children:"Potwierdzenie"}),u.jsx("p",{className:Za.hint,children:'Wpisz "USUÅƒ KONTO" aby potwierdziÄ‡'}),u.jsx("input",l(o({id:"confirmation",type:"text"},e("confirmation")),{className:Za.input})),t.confirmation&&u.jsx("p",{className:Za.error,children:t.confirmation.message})]}),u.jsxs("div",{className:Za.buttons,children:[u.jsx(Ue,{type:"submit",disabled:s,className:Za.submitButton,children:s?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 border-2 border-dark border-t-transparent rounded-full animate-spin"}),u.jsx("span",{children:"Usuwanie"})]}):"Definitywnie usuÅ„ konto"}),u.jsx(Ue,{type:"button",onClick:a,disabled:s,className:Za.cancelButton,children:"Anuluj"})]})]})}));Qa.displayName="ConfirmationForm";const Xa=d.memo((()=>{const{showConfirmation:e,handleShowConfirmation:t,handleHideConfirmation:s}=(()=>{const[e,t]=d.useState(!1);return{showConfirmation:e,handleShowConfirmation:d.useCallback((()=>{t(!0)}),[]),handleHideConfirmation:d.useCallback((()=>{t(!1)}),[])}})(),{form:a,onSubmit:i,isDeleting:n,handleCancel:r}=(e=>{const t=d.useCallback((()=>{K.success("Konto zostaÅ‚o usuniÄ™te")}),[]),s=d.useCallback((e=>{if(e instanceof Ua)switch(e.code){case"INVALID_PASSWORD":return void K.error("Podane hasÅ‚o jest nieprawidÅ‚owe");case"INVALID_CONFIRMATION":return void K.error("NieprawidÅ‚owe potwierdzenie")}K.error("Nie udaÅ‚o siÄ™ usunÄ…Ä‡ konta")}),[]),a=d.useCallback((()=>{try{e(),K.success("Operacja zostaÅ‚a anulowana")}catch(t){K.error("Nie udaÅ‚o siÄ™ anulowaÄ‡ operacji")}}),[e]),{form:i,onSubmit:n,isDeleting:r}=Ha({onSuccess:t,onError:s});return{form:i,onSubmit:n,isDeleting:r,handleCancel:a}})(s);return e?u.jsx(Qa,{register:a.register,errors:a.formState.errors,isSubmitting:n,onCancel:r,onSubmit:i}):u.jsx(Ka,{onConfirm:t})}));Xa.displayName="DeleteAccountForm";const Ya=d.memo((({activeView:e})=>u.jsx(Ae,{mode:"wait",children:u.jsxs(Ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"bg-dark/30 backdrop-blur-sm rounded-xl p-6 border border-js/10 shadow-lg",children:[u.jsxs("h2",{className:"text-2xl font-bold font-space text-js mb-6",children:["profile"===e&&"Edytuj Profil","security"===e&&"BezpieczeÅ„stwo","preferences"===e&&"Preferencje","delete"===e&&"UsuÅ„ Konto"]}),"profile"===e&&u.jsx(za,{}),"security"===e&&u.jsx(Aa,{}),"preferences"===e&&u.jsx(Ia,{}),"delete"===e&&u.jsx(Xa,{})]},e)})));Ya.displayName="SettingsContent";const ei=d.memo((()=>{const[e,t]=d.useState("profile");return u.jsxs(Ee.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col h-full p-6 gap-6",children:[u.jsxs(p,{children:[u.jsx("title",{children:"Ustawienia | CodeLinesJS"}),u.jsx("meta",{name:"description",content:"Ustawienia CodeLinesJS - doÅ‚Ä…cz do nas i rozwijaj swoje umiejÄ™tnoÅ›ci w przyjaznym Å›rodowisku."})]}),u.jsx(Ee.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},className:"flex items-center justify-between",children:u.jsx("h1",{className:"text-3xl font-bold font-space text-js",children:"Ustawienia"})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[u.jsx(ua,{activeView:e,onViewChange:t}),u.jsxs(p,{children:[u.jsxs("title",{children:[e.charAt(0).toUpperCase()+e.slice(1)," | CodeLinesJS"]}),u.jsx("meta",{name:"description",content:"Ustawienia CodeLinesJS - doÅ‚Ä…cz do nas i rozwijaj swoje umiejÄ™tnoÅ›ci w przyjaznym Å›rodowisku."})]}),u.jsx("div",{className:"lg:col-span-3",children:u.jsx(Ya,{activeView:e})})]})]})}));ei.displayName="SettingsSection";const ti=Object.freeze(Object.defineProperty({__proto__:null,SettingsSection:ei},Symbol.toStringTag,{value:"Module"})),si=d.memo((()=>u.jsx(Ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Ee.div,{whileHover:{scale:1.1,rotate:15},className:"p-3 rounded-xl bg-gradient-to-br from-js/20 to-js/20",children:u.jsx(y,{className:"w-8 h-8 text-js"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold font-space text-transparent bg-clip-text bg-gradient-to-r from-js to-js",children:"Gry JavaScript"}),u.jsx("p",{className:"text-gray-400 mt-1",children:"Ucz siÄ™ JavaScriptu poprzez zabawÄ™ i wyzwania"})]})]})})));si.displayName="GamesHeader";const ai=d.memo((()=>u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map((e=>u.jsxs(Ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1*e},className:"bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-xl border border-gray-700/50 overflow-hidden",children:[u.jsx("div",{className:"aspect-video bg-gray-800/50 animate-pulse"}),u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsx("div",{className:"h-6 bg-gray-800/50 rounded animate-pulse w-3/4"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"h-4 bg-gray-800/50 rounded animate-pulse"}),u.jsx("div",{className:"h-4 bg-gray-800/50 rounded animate-pulse w-4/5"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex gap-3",children:[u.jsx("div",{className:"h-4 w-16 bg-gray-800/50 rounded animate-pulse"}),u.jsx("div",{className:"h-4 w-16 bg-gray-800/50 rounded animate-pulse"})]}),u.jsx("div",{className:"h-8 w-24 bg-gray-800/50 rounded animate-pulse"})]})]})]},e)))})));ai.displayName="GamesListSkeleton";const ii=d.memo((({query:e})=>{const t=e?{title:"Brak wynikÃ³w wyszukiwania",description:`Nie znaleziono gier dla zapytania "${e}"`,icon:U}:{title:"Brak gier w tej kategorii",description:"SprÃ³buj wybraÄ‡ innÄ… kategoriÄ™ lub wrÃ³Ä‡ pÃ³Åºniej",icon:W};return u.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex flex-col items-center justify-center py-16",children:[u.jsx(Ee.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",bounce:.4},className:"w-20 h-20 mb-6 rounded-full bg-js/10 flex items-center justify-center",children:u.jsx(t.icon,{className:"w-10 h-10 text-js"})}),u.jsx(Ee.h3,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-2xl font-bold text-js mb-2 text-center",children:t.title}),u.jsx(Ee.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-gray-400 text-center max-w-md",children:t.description})]})}));ii.displayName="NoGamesFound";const ni=d.memo((({game:e})=>{const t=N(),s=!e.isLevelAvailable;return u.jsxs(Ee.div,{whileHover:{scale:s?1:1.02},className:"group bg-dark-800/50 border rounded-xl overflow-hidden transition-all "+(s?"border-gray-700/50 opacity-50 cursor-not-allowed":"border-js/10 hover:border-js/20"),children:[u.jsxs("div",{className:"relative aspect-video",children:[u.jsx("div",{className:"w-full h-full bg-gradient-to-br from-js/5 to-js/20 flex items-center justify-center",children:u.jsx("div",{className:"bg-js/10 px-4 py-2 rounded-lg border border-js/20",children:u.jsx("span",{className:"font-mono text-js/80 font-medium",children:e.slug})})}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-dark/90 to-transparent"}),s?u.jsx("div",{className:"absolute inset-0 m-auto w-12 h-12 bg-gray-700 text-gray-400 rounded-full flex items-center justify-center",children:u.jsx(M,{className:"w-5 h-5"})}):u.jsx(Ee.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{e.isLevelAvailable&&t(`/dashboard/play/${e.slug}`)},className:"absolute inset-0 m-auto w-12 h-12 bg-js text-dark rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx(le,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[u.jsx("h3",{className:"text-lg font-bold text-js line-clamp-1",children:e.title}),u.jsxs("span",{className:"flex items-center gap-1 text-js bg-js/10 px-2 py-0.5 rounded-lg text-sm",children:[u.jsx(T,{className:"w-3.5 h-3.5"}),e.rewardPoints]})]}),u.jsx("p",{className:"text-gray-400 text-sm mb-4 line-clamp-2",children:s?`DostÄ™pne od poziomu ${e.requiredLevel}`:e.description}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("div",{className:"flex items-center gap-4 text-gray-400",children:u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx($,{className:"w-4 h-4"}),e.rating.average.toFixed(1)]})}),u.jsx("span",{className:"px-2 py-0.5 rounded-md text-xs font-medium\n            "+("easy"===e.difficulty?"bg-green-500/10 text-green-400":"medium"===e.difficulty?"bg-yellow-500/10 text-yellow-400":"bg-red-500/10 text-red-400"),children:"easy"===e.difficulty?"Åatwy":"medium"===e.difficulty?"Åšredni":"Trudny"})]})]})]})}));ni.displayName="GameCard";const ri=()=>{const{token:e}=Le();return k({queryKey:["games"],queryFn:()=>(e=>c(void 0,null,(function*(){const t=yield fetch(`${Te}games`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Nie udaÅ‚o siÄ™ pobraÄ‡ gier");return t.json()})))(e||""),select:e=>({games:e.data.games,pagination:e.data.pagination}),staleTime:3e5})},oi=d.memo((({sortBy:e,searchQuery:t,selectedDifficulty:s})=>{const{data:a,isLoading:i,isError:n}=ri();if(i)return u.jsx(ai,{});if(n)return u.jsx("div",{className:"text-center py-8",children:u.jsx("p",{className:"text-red-400",children:"WystÄ…piÅ‚ bÅ‚Ä…d podczas Å‚adowania gier. SprÃ³buj ponownie pÃ³Åºniej."})});if(!(null==a?void 0:a.games))return null;const r=a.games.filter((e=>("all"===s||e.difficulty===s)&&(e.title.toLowerCase().includes(t.toLowerCase())||e.description.toLowerCase().includes(t.toLowerCase())))).sort(((t,s)=>{switch(e){case"newest":return new Date(s.createdAt).getTime()-new Date(t.createdAt).getTime();case"popular":return s.completions.count-t.completions.count;case"difficulty":return s.difficulty.localeCompare(t.difficulty);case"xp":return s.rewardPoints-t.rewardPoints;default:return 0}}));return r.length?u.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"w-full grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4 gap-4 sm:gap-6",children:r.map((e=>{const t={_id:e._id,id:e._id,slug:e.slug,isLevelAvailable:e.isLevelAvailable,title:e.title,description:e.description,difficulty:e.difficulty,category:"game",isCompleted:!1,rating:{average:0,count:0},completions:e.completions,completedCount:e.completions.count,thumbnailUrl:"",rewardPoints:e.rewardPoints,xpPoints:e.rewardPoints,requiredLevel:e.requiredLevel};return u.jsx(ni,{game:t},t._id)}))}):u.jsx(ii,{query:t})}));oi.displayName="GamesList";const li=[{id:"newest",label:"Najnowsze",icon:B},{id:"popular",label:"Popularne",icon:D},{id:"difficulty",label:"TrudnoÅ›Ä‡",icon:$},{id:"xp",label:"Punkty XP",icon:T}],ci=d.memo((({activeSortOption:e,onSortChange:t})=>u.jsxs("div",{className:"flex items-center gap-4 lg:ml-auto",children:[u.jsx("span",{className:"text-gray-400 text-sm",children:"Sortuj:"}),u.jsx("div",{className:"flex gap-2 flex-wrap",children:li.map((s=>{const a=s.icon;return u.jsxs(Ee.button,{onClick:()=>t(s.id),whileHover:{scale:1.02},whileTap:{scale:.98},className:`\n                flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium\n                transition-all duration-200\n                ${e===s.id?"text-js bg-js/10 border border-js/20":"text-gray-400 hover:text-js/80 border border-transparent"}\n              `,children:[u.jsx(a,{className:"w-4 h-4"}),s.label]},s.id)}))})]})));ci.displayName="GamesSorting";const di=d.memo((({value:e,onChange:t})=>{const s=d.useCallback((e=>{t(e.target.value)}),[t]);return u.jsxs(Ee.div,{initial:{opacity:0},animate:{opacity:1},className:"relative",children:[u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",value:e,onChange:s,placeholder:"Szukaj gry...",className:"\r\n            w-full pl-10 pr-4 py-1.5 \r\n            bg-dark border border-js/10\r\n            rounded-lg text-sm text-gray-200\r\n            focus:outline-none focus:border-js/30\r\n            transition-colors duration-200\r\n          "}),u.jsx(U,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-js/50"})]}),u.jsx(Ee.div,{initial:!1,animate:{width:e?"100%":"0%",opacity:e?1:0},className:"absolute bottom-0 left-0 h-0.5 bg-js/20 rounded-full"})]})}));di.displayName="GamesSearch";const mi=[{value:"all",label:"Wszystkie"},{value:"easy",label:"Åatwe",color:"text-emerald-400"},{value:"medium",label:"Åšrednie",color:"text-indigo-400"},{value:"hard",label:"Trudne",color:"text-rose-400"}],xi=d.memo((({selectedDifficulty:e,onDifficultyChange:t})=>u.jsxs(Ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center gap-4 flex-wrap",children:[u.jsx("span",{className:"text-gray-400 text-sm",children:"Poziom:"}),u.jsx("div",{className:"flex gap-3 flex-wrap",children:mi.map((s=>u.jsxs(Ee.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(s.value),className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm transition-all relative\n              "+(e===s.value?`text-${s.color||"gray-200"}`:"text-gray-400 hover:text-gray-300"),children:[e===s.value&&u.jsx(Ee.div,{layoutId:"difficulty-background",className:`absolute inset-0 bg-gray-800/50 border rounded-lg -z-10 border-${s.color||"gray-400"}`,transition:{type:"spring",bounce:.2,duration:.6}}),u.jsx(Ae,{mode:"wait",children:u.jsx(Ee.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{duration:.2},children:e===s.value?u.jsx(ce,{className:`w-3 h-3 ${s.color||"text-gray-400"}`}):u.jsx(de,{className:"w-3 h-3"})},e===s.value?"circle":"circle-outline")}),s.label]},s.value)))})]})));xi.displayName="GamesDifficulty";const ui=d.memo((()=>{const[e,t]=d.useState("newest"),[s,a]=d.useState(""),[i,n]=d.useState("all");return u.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"w-full m-0 min-h-screen bg-dark/50 backdrop-blur-sm",children:[u.jsxs(P,{children:[u.jsx("title",{children:"Gry | CodeLinesJS"}),u.jsx("meta",{name:"description",content:"Games CodeLinesJS - doÅ‚Ä…cz do nas i rozwijaj swoje umiejÄ™tnoÅ›ci w przyjaznym Å›rodowisku."})]}),u.jsxs("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx(si,{}),u.jsxs("div",{className:"mt-8 bg-dark-800/50 border border-js/10 rounded-xl p-4 sm:p-6",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsx("div",{className:"w-full sm:w-72",children:u.jsx(di,{value:s,onChange:a})}),u.jsx(ci,{activeSortOption:e,onSortChange:t})]}),u.jsx("div",{className:"mt-4",children:u.jsx(xi,{selectedDifficulty:i,onDifficultyChange:n})})]}),u.jsx("div",{className:"mt-6",children:u.jsx(oi,{sortBy:e,searchQuery:s,selectedDifficulty:i})})]})]})]})}));ui.displayName="GamesSection";const pi=Object.freeze(Object.defineProperty({__proto__:null,GamesSection:ui},Symbol.toStringTag,{value:"Module"})),hi=d.memo((({title:e})=>u.jsx("div",{className:"flex items-center justify-between",children:u.jsx("h1",{className:"text-2xl font-bold text-js",children:e})}))),ji=d.createContext(null),gi=({children:e})=>{const[t,s]=d.useState(null),[a,i]=d.useState(!1),[n,r]=d.useState(null),o=d.useCallback((e=>c(void 0,null,(function*(){i(!0),r(null);const{token:t}=Le();try{const a=yield fetch(`${Te}/games`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!a.ok)throw new Error("Nie udaÅ‚o siÄ™ pobraÄ‡ zawartoÅ›ci gry");const i=(yield a.json()).data.games.find((t=>t.slug===e));if(!i)throw new Error("Nie znaleziono gry");s({title:i.title,description:i.description,difficulty:i.difficulty,rating:i.rating,completions:i.completions,rewardPoints:i.rewardPoints,gameData:i.gameData,estimatedTime:i.estimatedTime,isCompleted:i.isCompleted})}catch(a){r(a instanceof Error?a.message:"WystÄ…piÅ‚ nieznany bÅ‚Ä…d")}finally{i(!1)}}))),[]);return u.jsx(ji.Provider,{value:{gameContent:t,isLoading:a,error:n,fetchGameContent:o},children:e})},yi={"scope-explorer":d.lazy((()=>Pe((()=>Promise.resolve().then((()=>ln))),void 0))),"js-typo-hunter":d.lazy((()=>Pe((()=>Promise.resolve().then((()=>yn))),void 0))),"async-quest":d.lazy((()=>Pe((()=>Promise.resolve().then((()=>En))),void 0))),"regex-raider":d.lazy((()=>Pe((()=>Promise.resolve().then((()=>Bn))),void 0))),"js-quiz":d.lazy((()=>Pe((()=>Promise.resolve().then((()=>tr))),void 0)))},bi=d.memo((()=>{const{slug:e}=te();if(!e||!yi[e])return u.jsx("div",{className:"w-full h-full flex items-center justify-center",children:u.jsx("div",{className:"text-gray-400",children:"Gra nie zostaÅ‚a znaleziona"})});const t=yi[e];return u.jsxs(gi,{children:[u.jsxs(P,{children:[u.jsxs("title",{children:[" ",e," | CodeLinesJS"]}),u.jsx("meta",{name:"description",content:"Gra CodeLinesJS - doÅ‚Ä…cz do nas i rozwijaj swoje umiejÄ™tnoÅ›ci w przyjaznym Å›rodowisku."})]}),u.jsx("div",{className:"w-full h-full",children:u.jsx(d.Suspense,{fallback:u.jsx("div",{children:"Åadowanie gry..."}),children:u.jsx(t,{})})})]})}));bi.displayName="GameplayArea";const vi=d.memo((({game:e})=>{const t=N();return u.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen bg-dark-800 flex items-center justify-center",children:u.jsxs("div",{className:"max-w-7xl w-full mx-auto px-4 py-6",children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsxs(Ee.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{t("/dashboard/play")},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-js/10 text-js hover:bg-js/20 transition-colors",children:[u.jsx(me,{className:"w-4 h-4"}),u.jsx("span",{children:"PowrÃ³t do menu"})]})}),u.jsx(hi,{title:e.title}),u.jsx("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-12 gap-6",children:u.jsx("div",{className:"lg:col-span-12",children:u.jsx(bi,{})})})]})})}));vi.displayName="GameplaySection";const fi=d.memo((()=>{const{slug:e}=te(),{data:t}=ri();if(!(null==t?void 0:t.games))return null;const s=t.games.find((t=>t.slug===e));return s?u.jsx(vi,{game:s}):u.jsx(se,{to:"/dashboard/play",replace:!0})}));fi.displayName="GameplayRouter";const Ni=Object.freeze(Object.defineProperty({__proto__:null,GameplayRouter:fi},Symbol.toStringTag,{value:"Module"})),wi=({code:e,onChange:t,onMount:s,isEditorReady:a})=>u.jsxs("div",{className:"h-[calc(100%-4rem)] rounded overflow-hidden relative",children:[!a&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-dark/50",children:u.jsx(xe,{className:"w-8 h-8 text-js animate-spin"})}),u.jsx(ue,{theme:"vs-dark",language:"javascript",height:"100%",defaultLanguage:"javascript",value:e,onChange:t,onMount:s})]}),ki=d.memo((({output:e,onClear:t,isExecuting:s})=>u.jsxs("div",{className:"h-[calc(100%-4rem)] bg-[#1e1e1e] rounded-lg overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-dark/30 border-b border-js/10",children:[u.jsx("span",{className:"text-sm text-gray-400",children:s?"Wykonywanie...":"Gotowe"}),u.jsx("button",{onClick:t,className:"p-1.5 text-gray-400 hover:text-js transition-colors",title:"WyczyÅ›Ä‡ konsolÄ™",children:u.jsx(ie,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"flex-1 p-4 font-mono text-sm overflow-auto",children:e.map(((e,t)=>u.jsx(Ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-gray-300 mb-1",children:e},t)))})]})));ki.displayName="ConsoleOutput";const Si=({output:e,isExecuting:t,onClear:s,onRun:a})=>u.jsxs("div",{className:"bg-dark/50 rounded-lg p-4 border border-js/10",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-xl font-bold text-js",children:"Konsola"}),u.jsx("button",{onClick:a,disabled:t,className:"px-4 py-2 bg-js text-dark font-medium rounded hover:bg-js/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Wykonywanie...":"Uruchom"})]}),u.jsx(ki,{output:e,onClear:s,isExecuting:t})]}),zi="code_history",Ci=d.memo((({history:e,onSelect:t,onClear:s})=>u.jsxs("div",{className:"absolute top-full right-0 mt-2 w-64 bg-dark/95 rounded-lg border border-js/10 shadow-xl",children:[u.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-js/10",children:[u.jsxs("div",{className:"flex items-center gap-2 text-js",children:[u.jsx(pe,{className:"w-4 h-4"}),u.jsx("span",{className:"font-medium",children:"Historia"})]}),e.length>0&&u.jsx("button",{onClick:s,className:"p-1.5 text-gray-400 hover:text-js transition-colors",title:"WyczyÅ›Ä‡ historiÄ™",children:u.jsx(ie,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"max-h-64 overflow-y-auto",children:0===e.length?u.jsx("div",{className:"p-3 text-sm text-gray-400",children:"Brak historii"}):e.map(((e,s)=>u.jsxs(Ee.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*s},onClick:()=>t(e.code),className:"w-full p-3 text-left hover:bg-js/10 transition-colors border-b border-js/5 last:border-0",children:[u.jsx("div",{className:"text-sm text-gray-300 truncate",children:e.code.split("\n")[0]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:new Date(e.timestamp).toLocaleString()})]},e.timestamp)))})]})));Ci.displayName="CodeHistory";const Li=d.memo((()=>{const{output:e,isExecuting:t,executeCode:s,clearConsole:a}=(()=>{const[e,t]=d.useState([]),[s,a]=d.useState(!1),i=d.useCallback((()=>{t([])}),[]);return{output:e,isExecuting:s,executeCode:d.useCallback((e=>{a(!0);const s=[],i=console.log;return new Promise(((n,r)=>{const o=setTimeout((()=>{r(new Error("Przekroczono limit czasu wykonania"))}),3e3);try{console.log=(...e)=>{s.push(e.map((e=>"object"==typeof e?JSON.stringify(e,null,2):String(e))).join(" "))},c(void 0,null,(function*(){try{new Function("console",`\n              "use strict";\n              ${e}\n            `)(console),t(s),clearTimeout(o),n()}catch(a){t([`BÅ‚Ä…d: ${a instanceof Error?a.message:"Nieznany bÅ‚Ä…d"}`]),r(a)}}))}finally{console.log=i,a(!1)}}))}),[]),clearConsole:i}})(),{history:i,addToHistory:n,clearHistory:r}=(()=>{const[e,t]=d.useState((()=>{const e=localStorage.getItem(zi);return e?JSON.parse(e):[]}));return{history:e,addToHistory:d.useCallback((e=>{t((t=>{const s=[{code:e,timestamp:Date.now()},...t.filter((t=>t.code!==e))].slice(0,10);return localStorage.setItem(zi,JSON.stringify(s)),s}))}),[]),clearHistory:d.useCallback((()=>{localStorage.removeItem(zi),t([])}),[])}})(),{code:o,isEditorReady:l,handleEditorDidMount:m,handleEditorChange:x}=(e=>{const t=d.useRef(null),[s,a]=d.useState(e),[i,n]=d.useState(!1),r=d.useCallback((e=>{e&&a(e)}),[]);return d.useEffect((()=>{Qe.init().then((e=>{e.languages.typescript.javascriptDefaults.setDiagnosticsOptions({noSemanticValidation:!1,noSyntaxValidation:!1})}))}),[]),{code:s,isEditorReady:i,handleEditorDidMount:e=>{t.current=e,n(!0)},handleEditorChange:r}})('// Witaj w edytorze CodeLinesJS!\n// Napisz swÃ³j kod JavaScript tutaj\n\nfunction przywitajSie(imie) {\n  return `CzeÅ›Ä‡, ${imie}!`;\n}\n\nconsole.log(przywitajSie("Programisto"));'),{saveToFile:h}={saveToFile:d.useCallback((e=>{const t=new Blob([e],{type:"text/javascript"}),s=URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download=`code_${(new Date).toISOString().slice(0,10)}.js`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s)}),[])},[j,g]=d.useState(!1),y=d.useCallback((()=>c(void 0,null,(function*(){yield s(o),n(o)}))),[o,s,n]);return u.jsxs(Ee.div,{initial:{opacity:0},animate:{opacity:1},className:"h-full p-6",children:[u.jsxs(p,{children:[u.jsx("title",{children:"Edytor Kodu | CodeLinesJS"}),u.jsx("meta",{name:"description",content:"Edytor kodu JavaScript - doÅ‚Ä…cz do nas i rozwijaj swoje umiejÄ™tnoÅ›ci w przyjaznym Å›rodowisku."})]}),u.jsxs("div",{className:"relative flex items-center justify-between mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold font-space text-js",children:"Edytor Kodu JavaScript"}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("button",{onClick:()=>h(o),disabled:!l,className:"px-4 py-2 text-sm text-js border border-js/20 rounded hover:bg-js/10 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(he,{className:"w-4 h-4 mr-2 inline-block"}),"Zapisz do Pliku"]}),u.jsx("button",{onClick:()=>g((e=>!e)),className:"p-2 text-gray-400 hover:text-js transition-colors",title:"Historia kodu",children:u.jsx(pe,{className:"w-5 h-5"})}),j&&u.jsx(Ci,{history:i,onSelect:()=>{g(!1)},onClear:r})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-[calc(100vh-12rem)]",children:[u.jsx(wi,{code:o,onChange:x,onMount:()=>m(null),isEditorReady:l}),u.jsx(Si,{output:e,isExecuting:t,onClear:a,onRun:y})]})]})}));Li.displayName="CodeEditor";const Ti=Object.freeze(Object.defineProperty({__proto__:null,CodeEditor:Li},Symbol.toStringTag,{value:"Module"})),Pi=d.memo((()=>u.jsx("div",{className:"absolute inset-0",children:u.jsxs("div",{className:"absolute inset-0",children:[u.jsx("div",{className:"absolute top-0 right-0 w-full h-full bg-[#1a1a1a] opacity-90"}),u.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-[#f7df1e] rounded-full blur-[150px] opacity-20"}),u.jsx("div",{className:"absolute -bottom-40 -right-40 w-96 h-96 bg-[#f7df1e] rounded-full blur-[150px] opacity-20"}),u.jsx("div",{className:"absolute top-1/4 left-1/4 w-32 h-32 bg-[#f7df1e] rounded-full blur-[100px] opacity-10"}),u.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-32 h-32 bg-[#f7df1e] rounded-full blur-[100px] opacity-10"})]})})));Pi.displayName="PageBackground";const Ei=d.memo((({title:e="ZgÅ‚oÅ› bÅ‚Ä…d lub sugestiÄ™",description:t="ZnalazÅ‚eÅ› bÅ‚Ä…d w aplikacji lub masz pomysÅ‚ na nowÄ… funkcjÄ™? Daj nam znaÄ‡! Twoje opinie pomagajÄ… nam ulepszaÄ‡ CodeLinesJS."})=>u.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center max-w-2xl mx-auto",children:[u.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-js mb-4",children:e}),u.jsx("p",{className:"text-gray-400 text-lg",children:t})]})));Ei.displayName="PageHeader";const Ai=()=>{const{token:e}=Le(),[t,s]=d.useState(!1),[a,i]=d.useState(!1),[n,r]=d.useState(null),[m,x]=d.useState({title:"",description:"",category:"bug",email:""}),[u,p]=d.useState({});return{formData:m,errors:u,isSubmitting:t,submitSuccess:a,submitError:n,handleChange:e=>{const{name:t,value:s}=e.target;x((e=>l(o({},e),{[t]:s})))},handleSubmit:t=>c(void 0,null,(function*(){if(t.preventDefault(),(()=>{const e={};return m.title.trim()?m.title.length<5&&(e.title="TytuÅ‚ musi mieÄ‡ co najmniej 5 znakÃ³w"):e.title="TytuÅ‚ jest wymagany",m.description.trim()?m.description.length<20&&(e.description="Opis musi mieÄ‡ co najmniej 20 znakÃ³w"):e.description="Opis jest wymagany",m.category||(e.category="Kategoria jest wymagana"),m.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m.email)||(e.email="Podaj prawidÅ‚owy adres email"):e.email="Email jest wymagany",p(e),0===Object.keys(e).length})()){s(!0),r(null);try{yield((e,t)=>c(void 0,null,(function*(){const s=yield fetch(`${Te}reports`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(t)});if(!s.ok)throw new Error("Nie udaÅ‚o siÄ™ wysÅ‚aÄ‡ zgÅ‚oszenia");return s.json()})))(e||"",m),i(!0),x({title:"",description:"",category:"bug",email:""}),p({})}catch(a){r(a instanceof Error?a.message:"WystÄ…piÅ‚ nieznany bÅ‚Ä…d")}finally{s(!1)}}})),resetSuccess:()=>{i(!1)}}},Oi=d.memo((({id:e,name:t,label:s,type:a="text",value:i,onChange:n,error:r,placeholder:o,options:l,rows:c=5})=>{const d=`w-full bg-dark/50 border ${r?"border-red-500":"border-js/20"} rounded-lg p-3 text-white focus:border-js focus:outline-none`;return u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:e,className:"block text-gray-300 mb-1",children:s}),"textarea"===a?u.jsx("textarea",{id:e,name:t,value:i,onChange:n,rows:c,className:d,placeholder:o}):"select"===a?u.jsx("select",{id:e,name:t,value:i,onChange:n,className:d,children:null==l?void 0:l.map((e=>u.jsx("option",{value:e.value,children:e.label},e.value)))}):u.jsx("input",{type:a,id:e,name:t,value:i,onChange:n,className:d,placeholder:o}),r&&u.jsx("p",{className:"text-red-500 text-sm mt-1",children:r})]})}));Oi.displayName="FormField";const $i=d.memo((({isSubmitting:e,label:t="WyÅ›lij zgÅ‚oszenie",loadingLabel:s="WysyÅ‚anie..."})=>u.jsx(Ee.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:e,className:"w-full bg-js text-dark font-medium py-3 rounded-lg flex items-center justify-center gap-2 hover:bg-js/90 transition-colors disabled:opacity-70 disabled:cursor-not-allowed",children:e?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"animate-spin h-5 w-5 border-2 border-dark border-t-transparent rounded-full"}),u.jsx("span",{children:s})]}):u.jsxs(u.Fragment,{children:[u.jsx(je,{}),u.jsx("span",{children:t})]})})));$i.displayName="SubmitButton";const Ri=d.memo((({onReset:e,title:t="DziÄ™kujemy za zgÅ‚oszenie!",message:s="Twoje zgÅ‚oszenie zostaÅ‚o przyjÄ™te. Odpowiemy najszybciej jak to moÅ¼liwe.",buttonLabel:a="ZgÅ‚oÅ› kolejny bÅ‚Ä…d"})=>u.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-green-500/20 border border-green-500/30 rounded-lg p-4 text-center",children:[u.jsx("p",{className:"text-green-400 font-medium mb-2",children:t}),u.jsx("p",{className:"text-gray-400",children:s}),u.jsx("button",{onClick:e,className:"mt-4 bg-js text-dark font-medium px-4 py-2 rounded-lg hover:bg-js/90 transition-colors",children:a})]})));Ri.displayName="SuccessMessage";const Di=d.memo((({message:e})=>u.jsx("div",{className:"mb-4 bg-red-500/20 border border-red-500/30 rounded-lg p-3",children:u.jsx("p",{className:"text-red-400",children:e})})));Di.displayName="ErrorMessage";const Gi=d.memo((({title:e="ZgÅ‚oÅ› bÅ‚Ä…d"})=>u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"p-3 rounded-lg bg-js/10",children:u.jsx(f,{className:"w-6 h-6 text-js"})}),u.jsx("h2",{className:"text-2xl font-bold text-js",children:e})]})));Gi.displayName="FormHeader";const _i=[{value:"bug",label:"BÅ‚Ä…d w aplikacji"},{value:"feature",label:"Propozycja funkcji"},{value:"content",label:"Problem z treÅ›ciÄ…"},{value:"other",label:"Inne"}],Fi=d.memo((()=>{const{formData:e,errors:t,isSubmitting:s,submitSuccess:a,submitError:i,handleChange:n,handleSubmit:r,resetSuccess:o}=Ai();return u.jsxs("div",{className:"w-full max-w-3xl mx-auto bg-dark-800/50 border border-js/10 rounded-xl p-6 md:p-8",children:[u.jsx(Gi,{}),a?u.jsx(Ri,{onReset:o}):u.jsxs("form",{onSubmit:r,children:[u.jsx(Oi,{id:"title",name:"title",label:"TytuÅ‚",value:e.title,onChange:n,error:t.title,placeholder:"KrÃ³tki opis problemu"}),u.jsx(Oi,{id:"category",name:"category",label:"Kategoria",type:"select",value:e.category,onChange:n,error:t.category,options:_i}),u.jsx(Oi,{id:"description",name:"description",label:"SzczegÃ³Å‚owy opis",type:"textarea",value:e.description,onChange:n,error:t.description,placeholder:"Opisz dokÅ‚adnie napotkany problem, podaj kroki do jego odtworzenia"}),u.jsx(Oi,{id:"email",name:"email",label:"Email kontaktowy",type:"email",value:e.email,onChange:n,error:t.email,placeholder:"TwÃ³j adres email"}),i&&u.jsx(Di,{message:i}),u.jsx($i,{isSubmitting:s})]})]})}));Fi.displayName="ReportForm";const Bi=d.memo((({email:e="kontakt@codelinesjs.pl"})=>u.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center max-w-2xl mx-auto",children:[u.jsx("h3",{className:"text-xl font-bold text-js mb-3",children:"Inne sposoby kontaktu"}),u.jsxs("p",{className:"text-gray-400",children:["MoÅ¼esz rÃ³wnieÅ¼ skontaktowaÄ‡ siÄ™ z nami bezpoÅ›rednio przez email:"," ",u.jsx("a",{href:`mailto:${e}`,className:"text-js hover:underline",children:e})]})]})));Bi.displayName="ContactSection";const Mi=d.memo((()=>{const e=d.useMemo((()=>({container:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},item:{hidden:{opacity:0,y:20},show:{opacity:1,y:0}}})),[]);return u.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-b from-dark via-dark-medium to-dark py-16 md:py-24 relative overflow-hidden",children:[u.jsx(Pi,{}),u.jsxs(p,{children:[u.jsx("title",{children:"ZgÅ‚oÅ› BÅ‚Ä…d | CodeLinesJS"}),u.jsx("meta",{name:"description",content:"ZgÅ‚oÅ› bÅ‚Ä…d w CodeLinesJS - doÅ‚Ä…cz do nas i rozwijaj swoje umiejÄ™tnoÅ›ci w przyjaznym Å›rodowisku."})]}),u.jsx("div",{className:"container mx-auto px-4 relative z-10",children:u.jsxs(Ee.div,{variants:e.container,initial:"hidden",animate:"show",className:"flex flex-col items-center gap-12",children:[u.jsx(Ee.div,{variants:e.item,children:u.jsx(Ei,{})}),u.jsx(Ee.div,{variants:e.item,className:"w-full",children:u.jsx(Fi,{})}),u.jsx(Ee.div,{variants:e.item,children:u.jsx(Bi,{})})]})})]})}));Mi.displayName="ReportBugPage";const Ii=Object.freeze(Object.defineProperty({__proto__:null,ReportBugPage:Mi},Symbol.toStringTag,{value:"Module"})),Ui=d.memo((({category:e,stats:t})=>{const s=(()=>{switch(e){case"scope":return h;case"closure":return ye;case"hoisting":return ge}})(),a=t.correct/t.total*100;return u.jsxs("div",{className:"flex items-center gap-3 p-2 bg-dark-800/50 rounded-lg",children:[u.jsx("div",{className:"p-2 rounded-lg bg-js/10",children:u.jsx(s,{className:"w-4 h-4 text-js"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("span",{className:"text-sm text-gray-400",children:(()=>{switch(e){case"scope":return"Zakres zmiennych";case"closure":return"DomkniÄ™cia";case"hoisting":return"Hoisting"}})()}),u.jsxs("span",{className:"text-xs text-gray-500",children:[t.correct,"/",t.total]})]}),u.jsx("div",{className:"h-1 bg-dark-900 rounded-full overflow-hidden",children:u.jsx(Ee.div,{initial:{width:0},animate:{width:`${a}%`},className:"h-full bg-js",transition:{duration:.3}})})]})]})}));Ui.displayName="CategoryProgress";const Wi=d.memo((({stats:e,isGameOver:t,finalTime:s})=>{const a=e=>`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`,i=t?s:e.timeElapsed;return u.jsxs("div",{className:"space-y-4",children:[u.jsxs(Ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[u.jsx(h,{className:"w-5 h-5 text-js"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-gray-400",children:"Poziom"}),u.jsxs("div",{className:"text-lg font-bold text-js",children:[e.currentLevel,"/",e.totalLevels]})]})]}),u.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[u.jsx($,{className:"w-5 h-5 text-js"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-gray-400",children:"Punkty"}),u.jsx("div",{className:"text-lg font-bold text-js",children:e.score}),u.jsxs("div",{className:"text-xs text-gray-500",children:["Poprawne: ",e.correctAnswers,"/",e.totalLevels]})]})]}),u.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[u.jsx(B,{className:"w-5 h-5 text-js"}),u.jsxs("div",{className:"w-full",children:[u.jsx("div",{className:"text-sm text-gray-400",children:"Czas"}),u.jsx("div",{className:"text-lg font-bold text-js flex flex-wrap w-full",children:u.jsxs("span",{className:"block w-full break-words",children:[a(i),"/",a(e.maxTime)]})})]})]})]}),u.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-2",children:[u.jsx(Ui,{category:"scope",stats:e.categoryStats.scope}),u.jsx(Ui,{category:"closure",stats:e.categoryStats.closure}),u.jsx(Ui,{category:"hoisting",stats:e.categoryStats.hoisting})]})]})}));Wi.displayName="ScopeExplorerStats";const Hi=d.memo((({gameContent:e,onStart:t})=>u.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-2xl mx-auto p-6 bg-dark-800/50 border border-js/10 rounded-lg",children:[u.jsx("h2",{className:"text-2xl font-bold text-js mb-4 text-center",children:e.title}),u.jsx("div",{className:"mb-6 text-gray-400 text-center",children:e.description}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[u.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg text-center",children:[u.jsx("div",{className:"text-sm text-gray-400",children:"Poziom trudnoÅ›ci"}),u.jsx("div",{className:"text-lg font-bold text-js capitalize",children:e.difficulty})]}),u.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg text-center",children:[u.jsx("div",{className:"text-sm text-gray-400",children:"Punkty do zdobycia"}),u.jsxs("div",{className:"text-lg font-bold text-js flex items-center justify-center gap-1",children:[u.jsx($,{className:"w-4 h-4"}),e.rewardPoints]})]}),u.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg text-center",children:[u.jsx("div",{className:"text-sm text-gray-400",children:"Szacowany czas"}),u.jsxs("div",{className:"text-lg font-bold text-js",children:[e.estimatedTime," min"]})]})]}),u.jsxs("button",{onClick:t,className:"w-full px-6 py-4 rounded-lg bg-js text-dark font-medium hover:bg-js/90 transition-colors flex items-center justify-center gap-2",children:[u.jsx(le,{className:"w-4 h-4"}),u.jsx("span",{children:"Rozpocznij grÄ™"})]})]})));Hi.displayName="GameIntro";const Ji=({maxTime:e,onTimeEnd:t,isPaused:s})=>{const[a,i]=d.useState(0),[n,r]=d.useState(!1),o=d.useCallback((()=>{r(!0)}),[]),l=d.useCallback((()=>{r(!1)}),[]),c=d.useCallback((()=>{i(0),r(!1)}),[]);return d.useEffect((()=>{let a;return n&&!s&&(a=window.setInterval((()=>{i((s=>{const a=s+1;return a>=e?(l(),t(),e):a}))}),1e3)),()=>{a&&window.clearInterval(a)}}),[n,s,e,t,l]),{timeElapsed:a,resetTimer:c,startTimer:o,stopTimer:l,isRunning:n}},qi=d.memo((({isLoading:e,error:t,children:s})=>e?u.jsx("div",{className:"w-full h-64 flex items-center justify-center",children:u.jsxs(Ee.div,{className:"text-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[u.jsx(Ee.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"text-js text-4xl mx-auto mb-4",children:u.jsx(xe,{})}),u.jsx("div",{className:"text-xl font-medium text-gray-100 mb-2",children:"Åadowanie gry..."})]})}):t?u.jsx("div",{className:"w-full h-64 flex items-center justify-center",children:u.jsxs(Ee.div,{className:"text-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[u.jsx("div",{className:"text-red-500 text-4xl mx-auto mb-4",children:u.jsx(G,{})}),u.jsx("div",{className:"text-xl font-medium text-gray-100 mb-2",children:"WystÄ…piÅ‚ bÅ‚Ä…d"}),u.jsx("div",{className:"text-gray-400",children:t.message})]})}):u.jsx(u.Fragment,{children:s})));qi.displayName="LoadingErrorContainer";const Vi=e=>{switch(e){case"scope":return"Zakres zmiennych";case"closure":return"DomkniÄ™cia";case"hoisting":return"Hoisting"}},Ki=e=>{switch(e){case"easy":return"text-green-400 bg-green-500/10";case"medium":return"text-yellow-400 bg-yellow-500/10";case"hard":return"text-red-400 bg-red-500/10"}},Zi=e=>{switch(e){case"easy":return"Åatwy";case"medium":return"Åšredni";case"hard":return"Trudny"}},Qi=({onEscape:e,onEnter:t,onNumber1:s,onNumber2:a,onNumber3:i,onNumber4:n,disabled:r=!1})=>{const o=d.useCallback((o=>{if(!r)switch(o.key){case"Escape":null==e||e();break;case"Enter":null==t||t();break;case"1":null==s||s();break;case"2":null==a||a();break;case"3":null==i||i();break;case"4":null==n||n()}}),[e,t,s,a,i,n,r]);d.useEffect((()=>(window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o))),[o])},Xi=d.memo((({currentLevel:e,totalLevels:t})=>{const s=(e-1)/t*100;return u.jsx("div",{className:"w-full bg-dark-800/50 h-1 rounded-full overflow-hidden",children:u.jsx(Ee.div,{initial:{width:0},animate:{width:`${s}%`},className:"h-full bg-js",transition:{duration:.3}})})}));Xi.displayName="ScopeExplorerProgress";const Yi=ve,en=d.memo((({currentChallenge:e,onScoreUpdate:t,onLevelComplete:s,currentLevel:a,totalLevels:i,onGameOver:n})=>{const[r,o]=d.useState(null),[l,c]=d.useState(!1),[m,x]=d.useState(null),[p,j]=d.useState(!1),g=d.useCallback((a=>{o(a);const i=a===e.correct;x(i),c(!0),i?(t(e.points||10,e.category),setTimeout((()=>{s(),o(null),c(!1),x(null),j(!1)}),1500)):setTimeout((()=>{n()}),2e3)}),[e,t,s,n]),y=d.useCallback((t=>{!l&&t<e.options.length&&g(e.options[t])}),[l,e.options,g]);Qi({onNumber1:()=>y(0),onNumber2:()=>y(1),onNumber3:()=>y(2),disabled:l});const b=(e=>{switch(e){case"scope":return h;case"closure":return ye;case"hoisting":return ge}})(e.category);return u.jsxs(Ee.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},className:"w-full space-y-6",children:[u.jsx(Xi,{currentLevel:a,totalLevels:i}),u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-lg bg-js/10",children:u.jsx(b,{className:"w-4 h-4 text-js"})}),u.jsx("div",{className:"text-sm text-gray-400",children:Vi(e.category)})]}),u.jsx("div",{className:`px-3 py-1 rounded-lg text-sm ${Ki(e.difficulty)}`,children:Zi(e.difficulty)})]}),u.jsx("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg overflow-hidden",children:u.jsx(Yi,{language:"javascript",style:be,customStyle:{padding:"1.5rem",borderRadius:"0.5rem",fontSize:"1.1rem",background:"transparent"},children:e.code})}),u.jsx("div",{className:"grid grid-cols-3 gap-4",children:e.options.map(((e,t)=>u.jsxs(Ee.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>g(e),disabled:l,className:`\n              w-full break-words\n              relative p-4 rounded-lg font-mono text-lg transition-colors\n              ${r===e?m?"bg-green-500/20 border-green-500/30 text-green-400":"bg-red-500/20 border-red-500/30 text-red-400":"bg-dark-800/50 border border-js/10 text-gray-300 hover:border-js/30"}\n            `,children:[u.jsx("span",{className:"absolute top-2 left-2 text-xs text-gray-500",children:t+1}),e]},e)))}),u.jsx("div",{className:"text-sm text-gray-500 text-center",children:"UÅ¼yj klawiszy numerycznych (1-3) aby wybraÄ‡ odpowiedÅº"}),l&&u.jsx(Ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-lg "+(m?"bg-green-500/20 border border-green-500/30":"bg-red-500/20 border border-red-500/30"),children:u.jsxs("p",{className:"text-sm "+(m?"text-green-400":"text-red-400"),children:[m?"Åšwietnie! ":"SprÃ³buj jeszcze raz. ",e.explanation]})}),p&&!m&&u.jsx(Ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-js/10 border border-js/20 rounded-lg",children:u.jsxs("p",{className:"text-sm text-js",children:[u.jsx("span",{className:"font-medium",children:"PodpowiedÅº:"})," ZwrÃ³Ä‡ uwagÄ™ na zakres zmiennych i ich dostÄ™pnoÅ›Ä‡ w rÃ³Å¼nych kontekstach."]})})]},a)}));en.displayName="ScopeExplorerGame";const tn=()=>{const{token:e}=Le(),t=x(),s=S({mutationFn:t=>c(void 0,null,(function*(){return((e,t)=>c(void 0,null,(function*(){try{const s=yield fetch(`${Te}progress/points`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({points:t})});if(!s.ok)throw new Error("Nie udaÅ‚o siÄ™ zaktualizowaÄ‡ punktÃ³w");return yield s.json()}catch(s){throw s}})))(e||"",t)})),onSuccess:()=>{t.invalidateQueries({queryKey:["userProgress"]})}});return{updatePoints:s.mutate,isUpdating:s.isPending,error:s.error}},sn=d.memo((({score:e,timeElapsed:t,challenges:s,correctAnswers:a,categoryStats:i,onRestart:n})=>{const{updatePoints:r}=tn();d.useEffect((()=>{r(e)}),[e,r]);return u.jsxs(Ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"p-6 bg-dark-800/50 border border-js/10 rounded-lg",children:[u.jsx("h2",{className:"text-2xl font-bold text-js mb-6 text-center",children:a===s.length?"Gratulacje!":"Koniec gry!"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[u.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[u.jsx($,{className:"w-5 h-5 text-js"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-gray-400",children:"Wynik koÅ„cowy"}),u.jsxs("div",{className:"text-lg font-bold text-js",children:[e," punktÃ³w"]}),u.jsxs("div",{className:"text-xs text-gray-500",children:["Poprawne odpowiedzi: ",a,"/",s.length]})]})]}),u.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[u.jsx(B,{className:"w-5 h-5 text-js"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-gray-400",children:"Czas ukoÅ„czenia"}),u.jsx("div",{className:"text-lg font-bold text-js",children:(o=t,`${Math.floor(o/60)}:${(o%60).toString().padStart(2,"0")}`)})]})]})]}),u.jsxs("div",{className:"space-y-4 mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-js",children:"Statystyki kategorii:"}),Object.entries(i).map((([e,t])=>{const s=(e=>{switch(e){case"scope":default:return h;case"closure":return ye;case"hoisting":return ge}})(e);return u.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-900/50 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-lg bg-js/10",children:u.jsx(s,{className:"w-4 h-4 text-js"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-js",children:"scope"===e?"Zakres zmiennych":"closure"===e?"DomkniÄ™cia":"Hoisting"}),u.jsxs("div",{className:"text-xs text-gray-400",children:["UkoÅ„czone zadania: ",t.correct,"/",t.total]})]})]}),u.jsxs("div",{className:"text-sm font-medium text-js",children:[t.points," pkt"]})]},e)}))]}),u.jsx("button",{onClick:n,className:"w-full px-6 py-3 rounded-lg bg-js text-dark font-medium hover:bg-js/90 transition-colors",children:"Zagraj ponownie"})]});var o}));sn.displayName="ScopeExplorerSummary";const an=()=>({containerAnimation:d.useMemo((()=>({initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}})),[]),gameAnimation:d.useMemo((()=>({initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.3}})),[]),summaryAnimation:d.useMemo((()=>({initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3}})),[])}),nn=d.memo((({isGameOver:e,gameStats:t,currentChallenge:s,finalTime:a,challenges:i,onScoreUpdate:n,onLevelComplete:r,onGameOver:o,onRestart:l})=>{const{gameAnimation:c,summaryAnimation:d}=an();return s||e?u.jsx(Ae,{mode:"wait",children:u.jsx("div",{className:"flex-1 overflow-y-auto py-6",children:e?u.jsx(Ee.div,{initial:d.initial,animate:d.animate,exit:d.exit,transition:d.transition,children:u.jsx(sn,{score:t.score,timeElapsed:a,challenges:i||[],correctAnswers:t.correctAnswers,categoryStats:t.categoryStats,onRestart:l})},"game-over"):u.jsx(Ee.div,{initial:c.initial,animate:c.animate,exit:c.exit,transition:c.transition,className:"w-full",children:u.jsx(en,{currentChallenge:s,onScoreUpdate:n,onLevelComplete:r,currentLevel:t.currentLevel,totalLevels:t.totalLevels,onGameOver:o})},`level-${t.currentLevel}`)})}):null}));nn.displayName="GameContent";const rn=({title:e,description:t,gameName:s="Regex Raider"}={})=>({pageTitle:d.useMemo((()=>e||`${s} | CodeLinesJS`),[e,s]),pageDescription:d.useMemo((()=>t||`${s} CodeLinesJS - doÅ‚Ä…cz do nas i rozwijaj swoje umiejÄ™tnoÅ›ci w przyjaznym Å›rodowisku.`),[t,s])}),on=d.memo((({isPaused:e=!1})=>{const{gameContent:t,isLoading:s,error:a}=(()=>{const{data:e,isLoading:t,error:s}=ri();return{gameContent:d.useMemo((()=>null==e?void 0:e.games.find((e=>"scope-explorer"===e.slug))),[null==e?void 0:e.games]),isLoading:t,error:s}})(),{containerAnimation:i}=an(),{pageTitle:n,pageDescription:r}=rn(),{isGameStarted:c,isGameOver:m,finalTime:x,gameStats:p,currentChallenge:h,handleScoreUpdate:j,handleLevelComplete:g,handleRestart:y,handleStartGame:b,handleGameOver:v}=(({gameContent:e,isPaused:t})=>{var s;const[a,i]=d.useState(!1),[n,r]=d.useState(!1),[c,m]=d.useState(0),[x,u]=d.useState({currentLevel:1,totalLevels:0,score:0,timeElapsed:0,maxTime:300,correctAnswers:0,categoryStats:{scope:{total:0,correct:0,points:0},closure:{total:0,correct:0,points:0},hoisting:{total:0,correct:0,points:0}}}),{timeElapsed:p,resetTimer:h,startTimer:j,stopTimer:g}=Ji({maxTime:(null==e?void 0:e.estimatedTime)?60*e.estimatedTime:300,onTimeEnd:()=>{r(!0),m(p),g()},isPaused:t});d.useEffect((()=>{u((e=>l(o({},e),{timeElapsed:p})))}),[p]),d.useEffect((()=>{if(!(null==e?void 0:e.gameData))return;const t={scope:{total:0,correct:0,points:0},closure:{total:0,correct:0,points:0},hoisting:{total:0,correct:0,points:0}};e.gameData.forEach((e=>{const s=e.category;t[s].total++,t[s].points+=e.points||0})),u((s=>l(o({},s),{totalLevels:e.gameData.length,maxTime:e.estimatedTime?60*e.estimatedTime:300,categoryStats:t})))}),[e]);const y=d.useCallback(((e,t)=>{u((s=>l(o({},s),{score:s.score+e,correctAnswers:s.correctAnswers+1,categoryStats:l(o({},s.categoryStats),{[t]:l(o({},s.categoryStats[t]),{correct:s.categoryStats[t].correct+1})})})))}),[]),b=d.useCallback((()=>{var t;const s=x.currentLevel+1;if(s>((null==(t=null==e?void 0:e.gameData)?void 0:t.length)||0))return r(!0),m(p),void g();u((e=>l(o({},e),{currentLevel:s})))}),[x.currentLevel,p,null==(s=null==e?void 0:e.gameData)?void 0:s.length,g]),v=d.useCallback((()=>{if(!(null==e?void 0:e.gameData))return;const t={scope:{total:0,correct:0,points:0},closure:{total:0,correct:0,points:0},hoisting:{total:0,correct:0,points:0}};e.gameData.forEach((e=>{const s=e.category;t[s].total++,t[s].points+=e.points||0})),u({currentLevel:1,totalLevels:e.gameData.length,score:0,timeElapsed:0,maxTime:e.estimatedTime?60*e.estimatedTime:300,correctAnswers:0,categoryStats:t}),r(!1),m(0),h(),j()}),[h,j,e]),f=d.useCallback((()=>{i(!0),j()}),[j]),N=d.useCallback((()=>{r(!0),m(p),g()}),[p,g]);return{isGameStarted:a,isGameOver:n,finalTime:c,gameStats:x,currentChallenge:(null==e?void 0:e.gameData)?e.gameData[x.currentLevel-1]:void 0,handleScoreUpdate:y,handleLevelComplete:b,handleRestart:v,handleStartGame:f,handleGameOver:N}})({gameContent:t,isPaused:e});return u.jsx(qi,{isLoading:s,error:a,children:t&&u.jsx(u.Fragment,{children:c?u.jsxs(Ee.div,l(o({},i),{className:"w-full h-full flex flex-col",children:[u.jsxs(P,{children:[u.jsx("title",{children:n}),u.jsx("meta",{name:"description",content:r})]}),u.jsx(Wi,{stats:p,isGameOver:m,finalTime:x}),u.jsx(nn,{isGameOver:m,gameStats:p,currentChallenge:h,finalTime:x,challenges:t.gameData,onScoreUpdate:j,onLevelComplete:g,onGameOver:v,onRestart:y})]})):u.jsx(Hi,{gameContent:t,onStart:b})})})}));on.displayName="ScopeExplorer";const ln=Object.freeze(Object.defineProperty({__proto__:null,default:on},Symbol.toStringTag,{value:"Module"})),cn=d.memo((({stats:e})=>{const t=e=>`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`;return u.jsxs(Ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[u.jsx(h,{className:"w-5 h-5 text-js"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-gray-400",children:"Poziom"}),u.jsxs("div",{className:"text-lg font-bold text-js",children:[e.currentLevel,"/",e.totalLevels]})]})]}),u.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[u.jsx($,{className:"w-5 h-5 text-js"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-gray-400",children:"Punkty"}),u.jsx("div",{className:"text-lg font-bold text-js",children:e.score})]})]}),u.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 gap-3 flex items-center",children:[u.jsx(B,{className:"w-5 h-5 text-js"}),u.jsxs("div",{className:"w-full",children:[u.jsx("div",{className:"text-sm text-gray-400",children:"Czas"}),u.jsx("div",{className:"text-lg font-bold text-js flex flex-wrap w-full",children:u.jsxs("span",{className:"block w-full break-words",children:[t(e.timeElapsed),"/",t(e.maxTime)]})})]})]})]})}));cn.displayName="JSTypoHunterStats";const dn=d.memo((({isLoading:e,error:t,children:s})=>e?u.jsx("div",{className:"w-full h-64 flex items-center justify-center",children:u.jsx("div",{className:"text-center",children:u.jsx("div",{className:"text-xl font-medium text-gray-100 mb-2",children:"Åadowanie gry..."})})}):t?u.jsx("div",{className:"w-full h-64 flex items-center justify-center",children:u.jsx("div",{className:"text-center",children:u.jsxs("div",{className:"text-xl font-medium text-gray-100 mb-2",children:["WystÄ…piÅ‚ bÅ‚Ä…d: ",t.message]})})}):s?u.jsx(u.Fragment,{children:s}):u.jsx("div",{className:"w-full h-64 flex items-center justify-center",children:u.jsx("div",{className:"text-center",children:u.jsx("div",{className:"text-xl font-medium text-gray-100 mb-2",children:"Gra niedostÄ™pna"})})})));dn.displayName="LoadingError";const mn=d.memo((({type:e,message:t})=>e?u.jsx(Ae,{children:u.jsxs(Ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:`\n          absolute top-4 left-1/2 -translate-x-1/2 \n          px-4 py-2 rounded-lg flex items-center gap-2\n          ${"success"===e?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}\n        `,children:["success"===e?u.jsx(F,{className:"w-4 h-4"}):u.jsx(ee,{className:"w-4 h-4"}),u.jsx("span",{className:"font-medium",children:t})]})}):null));mn.displayName="JSTypoHunterFeedback";const xn=d.memo((({hint:e,isVisible:t})=>t?u.jsxs(Ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"mt-4 p-3 bg-js/10 border border-js/20 rounded-lg flex items-start gap-3",children:[u.jsx(V,{className:"w-5 h-5 text-js flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-js mb-1",children:"PodpowiedÅº:"}),u.jsx("div",{className:"text-sm text-gray-400",children:e})]})]}):null));xn.displayName="JSTypoHunterHint";const un=e=>{switch(e){case"easy":return"text-green-400 bg-green-500/10";case"medium":return"text-yellow-400 bg-yellow-500/10";case"hard":return"text-red-400 bg-red-500/10"}},pn=d.memo((({currentChallenge:e,onScoreUpdate:t,onLevelComplete:s,onIncorrectAnswer:a})=>{const[i,n]=d.useState(e.code),[r,o]=d.useState({type:null,message:""}),[l,c]=d.useState(0),m=(e,t)=>{const s=e.trim().replace(/\s+/g," "),a=t.trim().replace(/\s+/g," ");if(s.includes(a))return!0;return((e,t)=>{if(e===t)return 1;let s=0;const a=e.length>t.length?e:t,i=e.length>t.length?t:e;for(let n=0;n<i.length;n++)i[n]===a[n]&&s++;return s/a.length})(s,a)>.8},x=d.useCallback((()=>{const r=i.split("\n");let d=!1;for(const t of r)if(m(t,e.correct)){d=!0;break}if(d){o({type:"success",message:"Åšwietnie! Poprawna odpowiedÅº!"});const a=Math.max(10-2*l,1);t(a),setTimeout((()=>{s(),n(e.code),o({type:null,message:""}),c(0)}),1500)}else c((e=>e+1)),l+1>=3?(o({type:"error",message:"Niestety, przekroczyÅ‚eÅ› liczbÄ™ prÃ³b. Koniec gry!"}),setTimeout((()=>{a()}),1500)):(o({type:"error",message:"Niestety, to nie jest prawidÅ‚owa odpowiedÅº. PozostaÅ‚e prÃ³by: "+(3-l-1)}),setTimeout((()=>{o({type:null,message:""})}),1500))}),[i,e,l,t,s,a]),p=(e=>{switch(e){case"syntax":return h;case"naming":return fe;case"logic":return V}})(e.category);return u.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative",children:[u.jsx(mn,{type:r.type,message:r.message}),u.jsxs("div",{className:"mb-4 p-5",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-lg bg-js/10",children:u.jsx(p,{className:"w-4 h-4 text-js"})}),u.jsx("div",{className:"text-sm text-gray-400",children:"syntax"===e.category?"BÅ‚Ä…d skÅ‚adni":"naming"===e.category?"BÅ‚Ä…d nazewnictwa":"BÅ‚Ä…d logiki"})]}),u.jsx("div",{className:`px-3 py-1 rounded-lg text-sm ${un(e.difficulty)}`,children:"easy"===e.difficulty?"Åatwy":"medium"===e.difficulty?"Åšredni":"Trudny"})]}),u.jsx("p",{className:"text-gray-400 text-sm",children:e.explanation||"ZnajdÅº i popraw bÅ‚Ä…d w kodzie."}),u.jsxs("p",{className:"mt-1 text-gray-500 text-sm",children:["PozostaÅ‚e prÃ³by: ",3-l]})]}),u.jsx("div",{className:"rounded-lg",children:u.jsx(ue,{className:"w-full h-full flex flex-wrap",theme:"vs-dark",height:"400px",defaultLanguage:"javascript",value:i,onChange:e=>{void 0!==e&&n(e)},options:{selectOnLineNumbers:!0,automaticLayout:!0,theme:"vs-dark",wordWrap:"on"}})}),u.jsx("div",{className:"flex justify-end mt-4",children:u.jsx("button",{onClick:x,className:"px-4 py-2 rounded-lg bg-js text-dark font-medium hover:bg-js/90 transition-colors",children:"SprawdÅº"})}),u.jsx(xn,{hint:e.hint||"",isVisible:l>0})]})}));pn.displayName="JSTypoHunterGame";const hn=d.memo((({score:e,timeElapsed:t,correctAnswers:s,totalLevels:a,onRestart:i})=>{const{updatePoints:n}=tn();d.useEffect((()=>{n(e)}),[e,n]);return u.jsxs(Ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"p-6 bg-dark-800/50 border border-js/10 rounded-lg",children:[u.jsx("h2",{className:"text-2xl font-bold text-js mb-6 text-center",children:s===a?"Gratulacje!":"Koniec gry!"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[u.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[u.jsx($,{className:"w-5 h-5 text-js"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-gray-400",children:"Wynik koÅ„cowy"}),u.jsxs("div",{className:"text-lg font-bold text-js",children:[e," punktÃ³w"]}),u.jsxs("div",{className:"text-xs text-gray-500",children:["Poprawne odpowiedzi: ",s,"/",a]})]})]}),u.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[u.jsx(B,{className:"w-5 h-5 text-js"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-gray-400",children:"Czas ukoÅ„czenia"}),u.jsx("div",{className:"text-lg font-bold text-js flex flex-wrap",children:(r=t,`${Math.floor(r/60)}:${(r%60).toString().padStart(2,"0")}`)})]})]})]}),u.jsx("button",{onClick:i,className:"w-full px-6 py-3 rounded-lg bg-js text-dark font-medium hover:bg-js/90 transition-colors",children:"Zagraj ponownie"})]});var r}));hn.displayName="JSTypoHunterSummary";const jn=d.memo((({isGameOver:e,gameStats:t,finalTime:s,currentChallenge:a,totalLevels:i,onScoreUpdate:n,onLevelComplete:r,onIncorrectAnswer:o,onRestart:l})=>u.jsx(Ae,{mode:"wait",children:e?u.jsx(hn,{score:t.score,timeElapsed:s,correctAnswers:t.correctAnswers,totalLevels:i,onRestart:l},"game-over"):u.jsx(Ee.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},children:u.jsx(pn,{currentChallenge:a,onScoreUpdate:n,onLevelComplete:r,onIncorrectAnswer:o})},`level-${t.currentLevel}`)})));jn.displayName="GameContent";const gn=d.memo((({isPaused:e=!1})=>{var t;const{gameContent:s,isLoading:a,error:i}=(()=>{const{data:e,isLoading:t,error:s}=ri();return{gameContent:d.useMemo((()=>null==e?void 0:e.games.find((e=>"js-typo-hunter"===e.slug))),[e]),isLoading:t,error:s}})(),{pageTitle:n,pageDescription:r}=(({title:e,description:t,gameName:s="JSTypoHunter"}={})=>({pageTitle:d.useMemo((()=>e||`${s} | CodeLinesJS`),[e,s]),pageDescription:d.useMemo((()=>t||`${s} CodeLinesJS - doÅ‚Ä…cz do nas i rozwijaj swoje umiejÄ™tnoÅ›ci w przyjaznym Å›rodowisku.`),[t,s])}))(),{isGameStarted:c,isGameOver:m,gameStats:x,finalTime:p,currentChallenge:h,handleScoreUpdate:j,handleIncorrectAnswer:g,handleLevelComplete:y,handleRestart:b,handleStartGame:v}=(({gameContent:e,isPaused:t})=>{var s;const[a,i]=d.useState(!1),[n,r]=d.useState({currentLevel:1,totalLevels:0,score:0,timeElapsed:0,maxTime:300,correctAnswers:0}),[c,m]=d.useState(!1),[x,u]=d.useState(0),{timeElapsed:p,resetTimer:h,startTimer:j,stopTimer:g}=Ji({maxTime:(null==e?void 0:e.estimatedTime)?60*e.estimatedTime:300,onTimeEnd:()=>{m(!0),u(p),g()},isPaused:t}),y=d.useCallback((t=>{var s;const a=null==(s=null==e?void 0:e.gameData)?void 0:s[n.currentLevel-1],i=t+(e=>{switch(e){case"easy":default:return 10;case"medium":return 20;case"hard":return 30}})((null==a?void 0:a.difficulty)||"easy");r((e=>l(o({},e),{score:e.score+i,correctAnswers:e.correctAnswers+1})))}),[n.currentLevel,e]),b=d.useCallback((()=>{m(!0),u(p),g()}),[p,g]),v=d.useCallback((()=>{setTimeout((()=>{var t;const s=n.currentLevel+1;s>((null==(t=null==e?void 0:e.gameData)?void 0:t.length)||0)?(m(!0),u(p),g()):r((e=>l(o({},e),{currentLevel:s})))}),1e3)}),[n.currentLevel,e,p,g]),f=d.useCallback((()=>{var t;e&&(r({currentLevel:1,totalLevels:(null==(t=null==e?void 0:e.gameData)?void 0:t.length)||0,score:0,timeElapsed:0,maxTime:(null==e?void 0:e.estimatedTime)?60*e.estimatedTime:300,correctAnswers:0}),m(!1),u(0),h(),j())}),[h,j,e]),N=d.useCallback((()=>{i(!0),j()}),[j]);d.useEffect((()=>{r((e=>l(o({},e),{timeElapsed:p})))}),[p]),d.useEffect((()=>{e&&r((t=>{var s;return l(o({},t),{totalLevels:(null==(s=e.gameData)?void 0:s.length)||0,maxTime:(null==e?void 0:e.estimatedTime)?60*e.estimatedTime:300})}))}),[e]);const w=null==(s=null==e?void 0:e.gameData)?void 0:s[n.currentLevel-1];return{isGameStarted:a,isGameOver:c,gameStats:n,finalTime:x,currentChallenge:w,handleScoreUpdate:y,handleIncorrectAnswer:b,handleLevelComplete:v,handleRestart:f,handleStartGame:N}})({gameContent:s,isPaused:e});return u.jsx(dn,{isLoading:a,error:i,children:s&&u.jsx(u.Fragment,{children:c?u.jsxs(Ee.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full space-y-6",children:[u.jsxs(P,{children:[u.jsx("title",{children:n}),u.jsx("meta",{name:"description",content:r})]}),u.jsx(cn,{stats:x}),u.jsx(jn,{isGameOver:m,gameStats:x,finalTime:p,currentChallenge:h,totalLevels:(null==(t=null==s?void 0:s.gameData)?void 0:t.length)||0,onScoreUpdate:j,onLevelComplete:y,onIncorrectAnswer:g,onRestart:b})]}):u.jsx(Hi,{gameContent:s,onStart:v})})})}));gn.displayName="JSTypoHunter";const yn=Object.freeze(Object.defineProperty({__proto__:null,default:gn},Symbol.toStringTag,{value:"Module"})),bn=()=>{const{data:e,isLoading:t,error:s}=ri();return{gameContent:d.useMemo((()=>{if(e&&e.games&&Array.isArray(e.games))return e.games.find((e=>"async-quest"===e.slug))}),[e]),isLoading:t,error:s}},vn=d.memo((({isLoading:e,error:t,children:s})=>e?u.jsxs("div",{className:"h-full flex flex-col items-center justify-center",children:[u.jsx(Ee.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"text-4xl text-purple-300 mb-4",children:u.jsx(xe,{})}),u.jsx("p",{className:"text-xl font-medium text-purple-200",children:"Åadowanie gry..."})]}):t?u.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-6",children:[u.jsx(Ee.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-4xl text-red-400 mb-4",children:u.jsx(G,{})}),u.jsx("h2",{className:"text-xl font-bold text-red-300 mb-2",children:"WystÄ…piÅ‚ bÅ‚Ä…d"}),u.jsx("p",{className:"text-md text-red-200",children:t.message})]}):s?u.jsx(u.Fragment,{children:s}):u.jsx("div",{className:"h-full flex items-center justify-center",children:u.jsx("p",{className:"text-lg text-purple-300",children:"Gra niedostÄ™pna"})})));vn.displayName="LoadingError";const fn=d.memo((({currentLevel:e,totalLevels:t})=>{const s=(e-1)/t*100;return u.jsx("div",{className:"w-full bg-dark-800/50 h-1 rounded-full overflow-hidden",children:u.jsx(Ee.div,{initial:{width:0},animate:{width:`${s}%`},className:"h-full bg-js",transition:{duration:.3}})})}));fn.displayName="AsyncQuestProgress";const Nn=d.memo((({type:e,message:t,code:s,explanation:a})=>u.jsx(Ee.div,{initial:{opacity:0,y:"hint"===e?-10:10},animate:{opacity:1,y:0},className:"p-4 rounded-lg "+("hint"===e?"bg-js/10 border border-js/20":"bg-red-500/20 border border-red-500/30"),children:u.jsxs("div",{className:"flex items-start gap-3",children:["hint"===e?u.jsx(V,{className:"w-5 h-5 text-js flex-shrink-0 mt-0.5"}):u.jsx(G,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-sm font-medium "+("hint"===e?"text-js":"text-red-400"),children:"hint"===e?"PodpowiedÅº:":"BÅ‚Ä…d:"}),u.jsx("div",{className:"text-sm text-gray-400",children:t}),s&&u.jsx("div",{className:"mt-2 p-2 bg-dark-900 rounded-lg font-mono text-sm text-gray-300",children:s}),a&&u.jsxs("div",{className:"mt-2 text-sm text-gray-400",children:[u.jsx("span",{className:"font-medium text-js",children:"WyjaÅ›nienie: "}),a]})]})]})})));Nn.displayName="AsyncQuestHint";const wn=(e,t)=>{if("async-await"===t){if(!e.includes("async"))return{message:"Funkcja powinna byÄ‡ oznaczona jako asynchroniczna.",explanation:"UÅ¼yj sÅ‚owa kluczowego async przed deklaracjÄ… funkcji.",example:"async function getData() { ... }"};if(!e.includes("await"))return{message:"Brak sÅ‚owa kluczowego await przy wywoÅ‚aniu asynchronicznym.",explanation:"UÅ¼yj await aby poczekaÄ‡ na wynik operacji asynchronicznej.",example:"const data = await fetchData();"}}if("promises"===t){if(!e.includes(".catch"))return{message:"Brak obsÅ‚ugi bÅ‚Ä™dÃ³w w Å‚aÅ„cuchu Promise.",explanation:"Dodaj .catch() aby obsÅ‚uÅ¼yÄ‡ potencjalne bÅ‚Ä™dy.",example:"fetch(url).then(...).catch(error => { ... })"};if(!e.includes(".then"))return{message:"Brak obsÅ‚ugi wyniku Promise.",explanation:"UÅ¼yj .then() aby obsÅ‚uÅ¼yÄ‡ wynik pomyÅ›lnego wykonania.",example:"promise.then(result => { ... })"}}return"callbacks"!==t||e.includes("new Promise")?{message:"SprawdÅº poprawnoÅ›Ä‡ skÅ‚adni kodu.",explanation:"Upewnij siÄ™, Å¼e kod jest zgodny z wymaganiami zadania."}:{message:"PrzeksztaÅ‚Ä‡ callback w Promise.",explanation:"UÅ¼yj konstruktora Promise aby opakowaÄ‡ callback.",example:"new Promise((resolve, reject) => { ... })"}},kn=d.memo((({currentChallenge:e,onScoreUpdate:t,onLevelComplete:s,currentLevel:a,totalLevels:i,onGameOver:n})=>{const[r,m]=d.useState(e.code),[x,p]=d.useState(!1),[h,j]=d.useState(null),[g,y]=d.useState(null),[b,v]=d.useState(!1),f=d.useRef(null),N=d.useRef(null),w=d.useRef(null),{executeCode:k,isRunning:S,clearOutput:z}=(()=>{const[e,t]=d.useState(!1),[s,a]=d.useState([]);return{executeCode:d.useCallback((e=>c(void 0,null,(function*(){t(!0),a([]);try{const t={console:{log:(...e)=>{a((t=>[...t,e.map((e=>String(e))).join(" ")]))},error:(...e)=>{a((t=>[...t,`Error: ${e.map((e=>String(e))).join(" ")}`]))}},fetch:()=>Promise.resolve({json:()=>Promise.resolve({data:"mock data"})}),setTimeout:(e,t)=>setTimeout(e,Math.min(t,1e3)),Promise:Promise},i=`\n        with (context) {\n          ${e}\n        }\n      `;return yield new Function("context",i)(t),{success:!0,output:s}}catch(i){return{success:!1,output:s,error:i.message}}finally{t(!1)}}))),[]),isRunning:e,output:s,clearOutput:()=>a([])}})();d.useEffect((()=>{N.current&&N.current.scrollIntoView({behavior:"smooth",block:"center"})}),[]);const C=d.useCallback((e=>{void 0!==e&&(m(e),j(null),y(null),z())}),[z]),L=d.useCallback((()=>{w.current&&w.current.scrollIntoView({behavior:"smooth",block:"center"})}),[]),T=d.useCallback((()=>c(void 0,null,(function*(){if(r){p(!1),z(),y(null);try{const a=yield((e,t)=>{const s=e=>e.replace(/\s+/g," ").trim();if(s(e)===s(t))return!0;const a=e=>e.includes("async")&&e.includes("function"),i=e=>e.includes(".then(")&&e.includes(".catch("),n=e=>e.includes("try")&&e.includes("catch");return!(a(t)&&!a(e)||i(t)&&!i(e)||n(t)&&!n(e))})(r,e.correct),i=yield k(r);if(a&&i.success)j(!0),p(!0),t(e.points,e.category),setTimeout((()=>{L()}),100),setTimeout((()=>{s()}),1500);else{j(!1),p(!0);const t=wn(r,e.category);y(t),setTimeout((()=>{L()}),100),setTimeout((()=>{n()}),2e3)}}catch(a){j(!1),p(!0);const t=wn(r,e.category);y(t),setTimeout((()=>{L()}),100),setTimeout((()=>{n()}),2e3)}}}))),[r,e,k,t,s,n,z,L]);return u.jsxs(Ee.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-6xl mx-auto p-4 space-y-6",children:[u.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-js",children:e.title}),u.jsx(fn,{currentLevel:a,totalLevels:i})]}),u.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-6 mb-6",children:[u.jsx("h2",{className:"text-xl font-bold text-js mb-3",children:"Opis zadania"}),u.jsx("p",{className:"text-gray-300 text-lg leading-relaxed mb-6",children:e.description}),u.jsxs("div",{className:"p-4 bg-dark-700/50 border border-js/20 rounded-lg",children:[u.jsx("h3",{className:"text-lg font-semibold text-js mb-2",children:"Zadanie"}),u.jsx("p",{className:"text-gray-300 text-base",children:e.task})]})]})]}),u.jsxs("div",{ref:N,className:"bg-dark-800/50 rounded-xl p-6",children:[u.jsx("div",{className:"h-[500px] relative rounded-lg overflow-hidden border border-js/10",children:u.jsx(Ne,{height:"100%",defaultLanguage:"javascript",value:r,onChange:C,onMount:e=>{f.current=e,v(!0),setTimeout((()=>{e.focus()}),100)},options:l(o({},{minimap:{enabled:!1},fontSize:14,lineHeight:24,fontFamily:"JetBrains Mono, monospace",fontLigatures:!0,wordWrap:"on",automaticLayout:!0,padding:{top:16,bottom:16},scrollBeyondLastLine:!1,folding:!0,lineNumbers:"on",renderLineHighlight:"all",suggestOnTriggerCharacters:!0,parameterHints:{enabled:!0},tabSize:2,theme:"vs-dark"}),{fontSize:16,lineHeight:26}),className:"w-full"})}),u.jsx("button",{onClick:T,disabled:S||!b,className:"mt-4 w-full px-6 py-3 rounded-lg font-medium transition-colors "+(S||!b?"bg-gray-500 cursor-not-allowed":"bg-js text-dark hover:bg-js/90"),children:S?"Wykonywanie...":"Uruchom kod"})]}),x&&u.jsx(Ee.div,{ref:w,initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-dark-800/50 rounded-xl p-6",children:u.jsx(Nn,{type:h?"hint":"error",message:h?"Åšwietnie! RozwiÄ…zanie jest poprawne.":e.error,explanation:h||null==g?void 0:g.explanation,code:h||null==g?void 0:g.example})})]})}));kn.displayName="AsyncQuestGame";const Sn=d.memo((({category:e,stats:t})=>{const s=(()=>{switch(e){case"promises":return h;case"async-await":return ke;case"callbacks":return we}})(),a=t.correct/t.total*100;return u.jsxs("div",{className:"flex items-center gap-3 p-2 bg-dark-800/50 rounded-lg",children:[u.jsx("div",{className:"p-2 rounded-lg bg-js/10",children:u.jsx(s,{className:"w-4 h-4 text-js"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("span",{className:"text-sm text-gray-400",children:(()=>{switch(e){case"promises":return"Promises";case"async-await":return"Async/Await";case"callbacks":return"Callbacks"}})()}),u.jsxs("span",{className:"text-xs text-gray-500",children:[t.correct,"/",t.total]})]}),u.jsx("div",{className:"h-1 bg-dark-900 rounded-full overflow-hidden",children:u.jsx(Ee.div,{initial:{width:0},animate:{width:`${a}%`},className:"h-full bg-js",transition:{duration:.3}})})]})]})}));Sn.displayName="CategoryProgress";const zn=d.memo((({score:e,timeElapsed:t,challenges:s,correctAnswers:a,categoryStats:i,onRestart:n})=>{const{updatePoints:r}=tn();d.useEffect((()=>{r(e)}),[e,r]);return u.jsxs(Ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"p-6 bg-dark-800/50 border border-js/10 rounded-lg",children:[u.jsx("h2",{className:"text-2xl font-bold text-js mb-6 text-center",children:a===s.length?"Gratulacje!":"Koniec gry!"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[u.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[u.jsx($,{className:"w-5 h-5 text-js"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-gray-400",children:"Wynik koÅ„cowy"}),u.jsxs("div",{className:"text-lg font-bold text-js",children:[e," punktÃ³w"]}),u.jsxs("div",{className:"text-xs text-gray-500",children:["Poprawne odpowiedzi: ",a,"/",s.length]})]})]}),u.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[u.jsx(B,{className:"w-5 h-5 text-js"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-gray-400",children:"Czas ukoÅ„czenia"}),u.jsx("div",{className:"text-lg font-bold text-js",children:(o=t,`${Math.floor(o/60)}:${(o%60).toString().padStart(2,"0")}`)})]})]})]}),u.jsxs("div",{className:"space-y-4 mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-js",children:"Statystyki kategorii:"}),u.jsx(Sn,{category:"promises",stats:i.promises}),u.jsx(Sn,{category:"async-await",stats:i["async-await"]}),u.jsx(Sn,{category:"callbacks",stats:i.callbacks})]}),u.jsx("button",{onClick:n,className:"w-full px-6 py-3 rounded-lg bg-js text-dark font-medium hover:bg-js/90 transition-colors",children:"Zagraj ponownie"})]});var o}));zn.displayName="AsyncQuestSummary";const Cn=d.memo((({isGameOver:e,gameStats:t,finalTime:s,currentChallenge:a,gameContent:i,onScoreUpdate:n,onLevelComplete:r,onGameOver:o,onRestart:l})=>u.jsx(Ae,{mode:"wait",children:u.jsx("div",{className:"flex-1 overflow-y-auto py-6",children:e?u.jsx(Ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},children:u.jsx(zn,{score:t.score,timeElapsed:s,challenges:(null==i?void 0:i.gameData)||[],correctAnswers:t.correctAnswers,categoryStats:t.categoryStats,onRestart:l})},"game-over"):u.jsx(Ee.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.3},className:"w-full",children:u.jsx(kn,{currentChallenge:a,onScoreUpdate:n,onLevelComplete:r,currentLevel:t.currentLevel,totalLevels:t.totalLevels,onGameOver:o})},`level-${t.currentLevel}`)})})));Cn.displayName="GameContent";const Ln=d.memo((({stats:e,isGameOver:t,finalTime:s})=>{const a=e=>`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`,i=t?s:e.timeElapsed;return u.jsxs("div",{className:"space-y-4",children:[u.jsxs(Ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[u.jsx(h,{className:"w-5 h-5 text-js"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-gray-400",children:"Poziom"}),u.jsxs("div",{className:"text-lg font-bold text-js",children:[e.currentLevel,"/",e.totalLevels]})]})]}),u.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[u.jsx($,{className:"w-5 h-5 text-js"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-gray-400",children:"Punkty"}),u.jsx("div",{className:"text-lg font-bold text-js",children:e.score}),u.jsxs("div",{className:"text-xs text-gray-500",children:["Poprawne: ",e.correctAnswers,"/",e.totalLevels]})]})]}),u.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[u.jsx(B,{className:"w-5 h-5 text-js"}),u.jsxs("div",{className:"w-full",children:[u.jsx("div",{className:"text-sm text-gray-400",children:"Czas"}),u.jsx("div",{className:"text-lg font-bold text-js flex flex-wrap w-full",children:u.jsxs("span",{className:"block w-full break-words",children:[a(i),"/",a(e.maxTime)]})})]})]})]}),u.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-2",children:[u.jsx(Sn,{category:"promises",stats:e.categoryStats.promises}),u.jsx(Sn,{category:"async-await",stats:e.categoryStats["async-await"]}),u.jsx(Sn,{category:"callbacks",stats:e.categoryStats.callbacks})]})]})}));Ln.displayName="AsyncQuestStats";const Tn=d.memo((({isGameStarted:e,isGameOver:t,gameStats:s,onGameStart:a})=>{const{gameContent:i}=bn();return e?u.jsx(Ln,{stats:s,isGameOver:t,finalTime:s.timeElapsed}):i?u.jsx(Hi,{gameContent:i,onStart:a}):u.jsxs("div",{className:"w-full p-6 text-center",children:[u.jsx("p",{className:"text-lg text-purple-200",children:"Brak danych gry"}),u.jsx("button",{className:"mt-4 px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-md transition-colors",onClick:a,children:"Rozpocznij mimo to"})]})}));Tn.displayName="GameHeader";const Pn=d.memo((()=>{const{gameContent:e,isLoading:t,error:s}=bn(),{isGameStarted:a,isGameOver:i,gameStats:n,finalTime:r,currentChallenge:c,handleScoreUpdate:m,handleLevelComplete:x,handleGameOver:p,handleRestart:h,handleStartGame:j}=(({gameContent:e,isPaused:t})=>{var s;const[a,i]=d.useState(!1),[n,r]=d.useState({currentLevel:1,totalLevels:0,score:0,timeElapsed:0,maxTime:(null==e?void 0:e.estimatedTime)?60*e.estimatedTime:300,correctAnswers:0,categoryStats:{promises:{total:0,correct:0,points:0},"async-await":{total:0,correct:0,points:0},callbacks:{total:0,correct:0,points:0}}}),[c,m]=d.useState(!1),[x,u]=d.useState(0),{timeElapsed:p,resetTimer:h,startTimer:j,stopTimer:g}=Ji({maxTime:(null==e?void 0:e.estimatedTime)?60*e.estimatedTime:300,onTimeEnd:()=>{m(!0),u(p),g()},isPaused:t});d.useEffect((()=>{e&&r((t=>{var s;return l(o({},t),{totalLevels:(null==(s=e.gameData)?void 0:s.length)||0})}))}),[e]),d.useEffect((()=>{c||t||r((e=>l(o({},e),{timeElapsed:p})))}),[p,c,t]),d.useEffect((()=>{c||t||j()}),[c,t,j]);const y=d.useCallback(((e,t)=>{r((s=>l(o({},s),{score:s.score+e,correctAnswers:s.correctAnswers+1,categoryStats:l(o({},s.categoryStats),{[t]:l(o({},s.categoryStats[t]),{total:s.categoryStats[t].total+1,correct:s.categoryStats[t].correct+1,points:s.categoryStats[t].points+e})})})))}),[]),b=d.useCallback((()=>{const e=n.currentLevel+1;e>n.totalLevels?(m(!0),u(p),g()):r((t=>l(o({},t),{currentLevel:e})))}),[n.currentLevel,n.totalLevels,p,g]),v=d.useCallback((()=>{m(!0),u(p),g()}),[p,g]),f=d.useCallback((()=>{var t,s;if(!e)return;const a={promises:{total:0,correct:0,points:0},"async-await":{total:0,correct:0,points:0},callbacks:{total:0,correct:0,points:0}};null==(t=e.gameData)||t.forEach((e=>{e.category&&a[e.category].total++})),r({currentLevel:1,totalLevels:(null==(s=e.gameData)?void 0:s.length)||0,score:0,timeElapsed:0,maxTime:e.estimatedTime?60*e.estimatedTime:300,correctAnswers:0,categoryStats:a}),m(!1),h(),j()}),[e,h,j]),N=d.useCallback((()=>{i(!0),j()}),[j]),w=null==(s=null==e?void 0:e.gameData)?void 0:s[n.currentLevel-1];return{isGameStarted:a,isGameOver:c,gameStats:n,finalTime:x,currentChallenge:w,handleScoreUpdate:y,handleLevelComplete:b,handleGameOver:v,handleRestart:f,handleStartGame:N}})({gameContent:e,isPaused:!1}),{pageTitle:g,pageDescription:y}=(({title:e,description:t,gameName:s="Async Quest"}={})=>({pageTitle:d.useMemo((()=>e||`${s} | CodeLinesJS`),[e,s]),pageDescription:d.useMemo((()=>t||`${s} CodeLinesJS - doÅ‚Ä…cz do nas i rozwijaj swoje umiejÄ™tnoÅ›ci w przyjaznym Å›rodowisku.`),[t,s])}))();return u.jsxs("div",{className:"flex flex-col h-full text-white rounded-lg shadow-xl overflow-hidden",children:[u.jsxs(P,{children:[u.jsx("title",{children:g}),u.jsx("meta",{name:"description",content:y})]}),u.jsx(vn,{isLoading:t,error:s,children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsx(Tn,{isGameStarted:a,isGameOver:i,gameStats:n,onGameStart:j}),a&&u.jsx(Cn,{isGameOver:i,gameStats:n,finalTime:r,currentChallenge:c,gameContent:e,onScoreUpdate:m,onLevelComplete:x,onGameOver:p,onRestart:h})]})})]})}));Pn.displayName="AsyncQuest";const En=Object.freeze(Object.defineProperty({__proto__:null,default:Pn},Symbol.toStringTag,{value:"Module"})),An=d.memo((({stats:e,isGameOver:t,finalTime:s})=>{const a=e=>`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`,i=t?s:e.timeElapsed;return u.jsxs(Ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[u.jsx(h,{className:"w-5 h-5 text-js"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-gray-400",children:"Poziom"}),u.jsxs("div",{className:"text-lg font-bold text-js",children:[e.currentLevel,"/",e.totalLevels]})]})]}),u.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[u.jsx($,{className:"w-5 h-5 text-js"}),u.jsxs("div",{className:"w-full",children:[u.jsx("div",{className:"text-sm text-gray-400",children:"Punkty"}),u.jsx("div",{className:"text-lg font-bold text-js",children:e.score}),u.jsxs("div",{className:"text-xs text-gray-500",children:["Poprawne: ",e.correctAnswers,"/",e.totalLevels]})]})]}),u.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[u.jsx(B,{className:"w-5 h-5 text-js"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-gray-400",children:"Czas"}),u.jsx("div",{className:"text-lg font-bold text-js flex flex-wrap w-full",children:u.jsxs("span",{className:"block w-full break-words",children:[a(i),"/",a(e.maxTime)]})})]})]})]})}));An.displayName="RegexRaiderStats";const On=()=>({containerAnimation:d.useMemo((()=>({initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}})),[]),gameAnimation:d.useMemo((()=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3}})),[]),summaryAnimation:d.useMemo((()=>({initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3}})),[])}),$n=d.memo((({isLoading:e,error:t,children:s})=>e?u.jsx("div",{className:"w-full h-64 flex items-center justify-center",children:u.jsxs(Ee.div,{className:"text-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[u.jsx(Ee.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"text-js text-4xl mx-auto mb-4",children:u.jsx(xe,{})}),u.jsx("div",{className:"text-xl font-medium text-gray-100 mb-2",children:"Åadowanie gry..."})]})}):t?u.jsx("div",{className:"w-full h-64 flex items-center justify-center",children:u.jsxs(Ee.div,{className:"text-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[u.jsx("div",{className:"text-red-500 text-4xl mx-auto mb-4",children:u.jsx(G,{})}),u.jsx("div",{className:"text-xl font-medium text-gray-100 mb-2",children:"WystÄ…piÅ‚ bÅ‚Ä…d"}),u.jsx("div",{className:"text-gray-400",children:t.message})]})}):u.jsx(u.Fragment,{children:s})));$n.displayName="LoadingErrorContainer";const Rn=d.memo((({pattern:e,explanation:t,example:s})=>u.jsx(Ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-dark-800/50 border border-js/10 rounded-lg",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"p-2 rounded-lg bg-js/10",children:u.jsx(V,{className:"w-4 h-4 text-js"})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-sm text-gray-400",children:t}),e&&u.jsx("div",{className:"font-mono text-sm bg-dark-900/50 p-2 rounded text-js",children:e}),s&&u.jsxs("div",{className:"text-xs text-gray-500",children:["PrzykÅ‚ad: ",u.jsx("span",{className:"text-gray-400",children:s})]})]})]})})));Rn.displayName="RegexRaiderHint";const Dn=d.memo((({onScoreUpdate:e,onLevelComplete:t,currentLevel:s,onGameOver:a})=>{const{data:i}=ri(),n=null==i?void 0:i.games.find((e=>"regex-raider"===e.slug)),[r,o]=d.useState(""),[l,c]=d.useState([]),[m,x]=d.useState(null);if(!n)return null;const p=n.gameData[s-1],h=d.useCallback((e=>{const t=e.target.value;o(t),x(null);try{const e=new RegExp(t,"g"),s=p.text.match(e)||[];c(s)}catch(s){c([])}}),[p]),j=d.useCallback((()=>{try{const s=p.text.match(new RegExp(r,"g"))||[],i=p.text.match(new RegExp(p.correctRegex,"g"))||[],n=s.length===i.length&&s.every((e=>i.includes(e)));x(n),n?(e(10),setTimeout((()=>{t(),o(""),c([]),x(null)}),1500)):setTimeout((()=>{a()}),1500)}catch(s){x(!1),setTimeout((()=>{a()}),1500)}}),[r,p,e,t,a]);return u.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[u.jsxs("div",{className:"p-4 bg-dark-800/50 border border-js/10 rounded-lg",children:[u.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Zadanie:"}),u.jsx("div",{className:"text-lg text-js mb-4",children:p.task}),u.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Tekst:"}),u.jsx("div",{className:"font-mono bg-dark-900/50 p-4 rounded-lg text-gray-300",children:p.text})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex gap-4",children:[u.jsx("input",{type:"text",value:r,onChange:h,placeholder:"Wpisz wyraÅ¼enie regularne...",style:{backgroundColor:"#1a1a1a"},className:"bg-dark-900 flex-1 border border-js/10 rounded-lg px-4 py-2 text-js font-mono placeholder-yellow-500"}),u.jsx("button",{onClick:j,className:"px-6 py-2 bg-js text-dark font-medium rounded-lg hover:bg-js/90 transition-colors",children:"SprawdÅº"})]}),l.length>0&&u.jsxs(Ee.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 bg-dark-900/50 rounded-lg",children:[u.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Znalezione dopasowania:"}),u.jsx("div",{className:"space-y-1",children:l.map(((e,t)=>u.jsx("div",{className:"font-mono text-js",children:e},t)))})]}),null!==m&&u.jsx(Ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-lg "+(m?"bg-green-500/20 border border-green-500/30":"bg-red-500/20 border border-red-500/30"),children:u.jsx("p",{className:"text-sm "+(m?"text-green-400":"text-red-400"),children:m?"Åšwietnie! WyraÅ¼enie regularne jest poprawne!":"WyraÅ¼enie nie znajduje wszystkich wymaganych dopasowaÅ„."})}),!1===m&&u.jsx(Rn,{pattern:p.correctRegex,explanation:"Niepoprawne wyraÅ¼enie regularne. Gra zostanie zakoÅ„czona...",example:`Poprawne wyraÅ¼enie: ${p.correctRegex}`})]})]})}));Dn.displayName="RegexRaiderGame";const Gn=d.memo((({score:e,timeElapsed:t,correctAnswers:s,totalLevels:a,onRestart:i})=>{const{updatePoints:n}=tn();d.useEffect((()=>{n(e)}),[e,n]);return u.jsxs(Ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"p-6 bg-dark-800/50 border border-js/10 rounded-lg",children:[u.jsx("h2",{className:"text-2xl font-bold text-js mb-6 text-center",children:"Koniec gry!"}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[u.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[u.jsx($,{className:"w-5 h-5 text-js"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-gray-400",children:"Wynik koÅ„cowy"}),u.jsxs("div",{className:"text-lg font-bold text-js",children:[e," punktÃ³w"]})]})]}),u.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[u.jsx(T,{className:"w-5 h-5 text-js"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-gray-400",children:"RozwiÄ…zane zadania"}),u.jsxs("div",{className:"text-lg font-bold text-js",children:[s,"/",a]})]})]}),u.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[u.jsx(B,{className:"w-5 h-5 text-js"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-gray-400",children:"Czas gry"}),u.jsx("div",{className:"text-lg font-bold text-js",children:(r=t,`${Math.floor(r/60)}:${(r%60).toString().padStart(2,"0")}`)})]})]})]}),u.jsx("div",{className:"text-center",children:u.jsx("button",{onClick:i,className:"px-6 py-3 bg-js text-dark font-medium rounded-lg hover:bg-js/90 transition-colors",children:"Zagraj ponownie"})})]});var r}));Gn.displayName="RegexRaiderSummary";const _n=d.memo((({isGameOver:e,gameStats:t,finalTime:s,onScoreUpdate:a,onLevelComplete:i,onGameOver:n,onRestart:r})=>{const{gameAnimation:o,summaryAnimation:l}=On();return u.jsx(Ae,{mode:"wait",children:e?u.jsx(Ee.div,{initial:l.initial,animate:l.animate,exit:l.exit,transition:l.transition,children:u.jsx(Gn,{score:t.score,timeElapsed:s,correctAnswers:t.correctAnswers,totalLevels:t.totalLevels,onRestart:r})},"game-over"):u.jsx(Ee.div,{initial:o.initial,animate:o.animate,exit:o.exit,transition:o.transition,className:"w-full",children:u.jsx(Dn,{onScoreUpdate:a,onLevelComplete:i,currentLevel:t.currentLevel,onGameOver:n})},`level-${t.currentLevel}`)})}));_n.displayName="GameContent";const Fn=d.memo((({isPaused:e=!1})=>{const{gameContent:t,isLoading:s,error:a}=(()=>{const{data:e,isLoading:t,error:s}=ri();return{gameContent:d.useMemo((()=>null==e?void 0:e.games.find((e=>"regex-raider"===e.slug))),[null==e?void 0:e.games]),isLoading:t,error:s}})(),{containerAnimation:i}=On(),{pageTitle:n,pageDescription:r}=rn(),{isGameStarted:c,isGameOver:m,finalTime:x,gameStats:p,handleScoreUpdate:h,handleLevelComplete:j,handleRestart:g,handleStartGame:y,handleGameOver:b}=(({gameContent:e,isPaused:t})=>{const[s,a]=d.useState(!1),[i,n]=d.useState(!1),[r,c]=d.useState(0),[m,x]=d.useState({currentLevel:1,totalLevels:0,score:0,timeElapsed:0,maxTime:300,correctAnswers:0}),{timeElapsed:u,resetTimer:p,startTimer:h,stopTimer:j}=Ji({maxTime:m.maxTime,onTimeEnd:()=>{n(!0),c(u),j()},isPaused:t});d.useEffect((()=>{(null==e?void 0:e.gameData)&&x((t=>l(o({},t),{totalLevels:e.gameData.length})))}),[e]),d.useEffect((()=>{i||x((e=>l(o({},e),{timeElapsed:u})))}),[u,i]);const g=d.useCallback((e=>{x((t=>l(o({},t),{score:t.score+e,correctAnswers:t.correctAnswers+1})))}),[]),y=d.useCallback((()=>{x((e=>{const t=e.currentLevel+1;return t>e.totalLevels&&(n(!0),c(u),j()),l(o({},e),{currentLevel:t})}))}),[u,j]),b=d.useCallback((()=>{x((e=>({currentLevel:1,totalLevels:e.totalLevels,score:0,timeElapsed:0,maxTime:300,correctAnswers:0}))),n(!1),p(),h()}),[p,h]),v=d.useCallback((()=>{n(!0),c(u),j()}),[u,j]),f=d.useCallback((()=>{a(!0),h()}),[h]);return{isGameStarted:s,isGameOver:i,finalTime:r,gameStats:m,currentChallenge:(null==e?void 0:e.gameData)?e.gameData[m.currentLevel-1]:void 0,handleScoreUpdate:g,handleLevelComplete:y,handleRestart:b,handleStartGame:f,handleGameOver:v}})({gameContent:t,isPaused:e});return u.jsx($n,{isLoading:s,error:a,children:t&&u.jsx(u.Fragment,{children:c?u.jsxs(Ee.div,l(o({},i),{className:"w-full space-y-6",children:[u.jsxs(P,{children:[u.jsx("title",{children:n}),u.jsx("meta",{name:"description",content:r})]}),u.jsx(An,{stats:p,isGameOver:m,finalTime:x}),u.jsx(_n,{isGameOver:m,gameStats:p,finalTime:x,onScoreUpdate:h,onLevelComplete:j,onGameOver:b,onRestart:g})]})):u.jsx(Hi,{gameContent:t,onStart:y})})})}));Fn.displayName="RegexRaider";const Bn=Object.freeze(Object.defineProperty({__proto__:null,default:Fn},Symbol.toStringTag,{value:"Module"})),Mn=()=>{const{data:e,isLoading:t,error:s}=ri();return{gameContent:d.useMemo((()=>{if(e&&e.games&&Array.isArray(e.games))return e.games.find((e=>"js-quiz"===e.slug))}),[e]),isLoading:t,error:s}},In=d.memo((({isLoading:e,error:t,children:s})=>e?u.jsxs("div",{className:"h-full flex flex-col items-center justify-center",children:[u.jsx(Ee.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"text-4xl text-js mb-4",children:u.jsx(xe,{})}),u.jsx("p",{className:"text-xl font-medium text-js/80",children:"Åadowanie gry..."})]}):t?u.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-6",children:[u.jsx(Ee.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-4xl text-red-400 mb-4",children:u.jsx(G,{})}),u.jsx("h2",{className:"text-xl font-bold text-red-300 mb-2",children:"WystÄ…piÅ‚ bÅ‚Ä…d"}),u.jsx("p",{className:"text-md text-red-200",children:t.message})]}):s?u.jsx(u.Fragment,{children:s}):u.jsx("div",{className:"h-full flex items-center justify-center",children:u.jsx("p",{className:"text-lg text-js/80",children:"Gra niedostÄ™pna"})})));In.displayName="LoadingErrorContainer";const Un=e=>{switch(e){case"basics":return h;case"advanced":return ze;case"frameworks":return Se}},Wn=e=>{switch(e){case"basics":return"Podstawy JavaScript";case"advanced":return"Zaawansowany JS";case"frameworks":return"Frameworki JS"}},Hn=e=>{switch(e){case"easy":return"bg-green-500/20 text-green-400";case"medium":return"bg-yellow-500/20 text-yellow-400";case"hard":return"bg-red-500/20 text-red-400"}},Jn=e=>{switch(e){case"easy":return"Åatwy";case"medium":return"Åšredni";case"hard":return"Trudny"}},qn=d.memo((({currentLevel:e,totalLevels:t})=>{const s=e/t*100;return u.jsxs("div",{className:"w-full",children:[u.jsxs("div",{className:"flex justify-between mb-1 text-sm text-gray-400",children:[u.jsxs("span",{children:["Pytanie ",e," z ",t]}),u.jsxs("span",{children:[Math.round(s),"%"]})]}),u.jsx("div",{className:"w-full h-2 bg-gray-700 rounded-full overflow-hidden",children:u.jsx(Ee.div,{className:"h-full bg-js",initial:{width:0},animate:{width:`${s}%`},transition:{duration:.5}})})]})}));qn.displayName="JSQuizProgress";const Vn=()=>({containerAnimation:d.useMemo((()=>({initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5}})),[]),gameAnimation:d.useMemo((()=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4}})),[]),summaryAnimation:d.useMemo((()=>({initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.4}})),[]),optionAnimation:d.useMemo((()=>({initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},transition:{duration:.3}})),[])}),Kn=d.memo((({currentChallenge:e,onScoreUpdate:t,onLevelComplete:s,currentLevel:a,totalLevels:i,onGameOver:n})=>{const[r,c]=d.useState(null),[m,x]=d.useState(!1),[p,h]=d.useState(null),{optionAnimation:j}=Vn(),g=d.useCallback((a=>{c(a);const i=a===e.correct;h(i),x(!0),i?(t(e.points||10,e.category),setTimeout((()=>{s(),c(null),x(!1),h(null)}),1500)):setTimeout((()=>{n()}),2e3)}),[e,t,s,n]),y=d.useCallback((t=>{!m&&t<e.options.length&&g(e.options[t])}),[m,e.options,g]);Qi({onNumber1:()=>y(0),onNumber2:()=>y(1),onNumber3:()=>y(2),onNumber4:()=>y(3),disabled:m});const b=Un(e.category);return u.jsxs(Ee.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},className:"w-full space-y-6",children:[u.jsx(qn,{currentLevel:a,totalLevels:i}),u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-lg bg-js/10",children:u.jsx(b,{className:"w-4 h-4 text-js"})}),u.jsx("div",{className:"text-sm text-gray-400",children:Wn(e.category)})]}),u.jsx("div",{className:`px-3 py-1 rounded-lg text-sm ${Hn(e.difficulty)}`,children:Jn(e.difficulty)})]}),u.jsx("div",{className:"p-6 bg-dark-800/50 border border-js/10 rounded-lg mb-6",children:u.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:e.question})}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.options.map(((e,t)=>u.jsxs(Ee.button,l(o({whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>g(e),disabled:m,className:`\n              w-full\n              relative p-4 rounded-lg font-medium text-left transition-colors\n              ${r===e?p?"bg-green-500/20 border-green-500/30 text-green-400":"bg-red-500/20 border-red-500/30 text-red-400":"bg-dark-800/50 border border-js/10 text-gray-300 hover:border-js/30"}\n            `},j),{transition:l(o({},j.transition),{delay:.1*t}),children:[u.jsx("span",{className:"absolute top-2 left-2 text-xs text-gray-500",children:t+1}),e]}),e)))}),u.jsx("div",{className:"text-sm text-gray-500 text-center",children:"UÅ¼yj klawiszy numerycznych (1-4) aby wybraÄ‡ odpowiedÅº"}),m&&u.jsx(Ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-lg "+(p?"bg-green-500/20 border border-green-500/30":"bg-red-500/20 border border-red-500/30"),children:u.jsxs("p",{className:"text-sm "+(p?"text-green-400":"text-red-400"),children:[p?"Åšwietnie! ":"SprÃ³buj jeszcze raz. ",e.explanation]})})]},a)}));Kn.displayName="JSQuizGame";const Zn=d.memo((({score:e,timeElapsed:t,challenges:s,correctAnswers:a,categoryStats:i,onRestart:n})=>u.jsxs("div",{className:"w-full max-w-3xl mx-auto p-6",children:[u.jsxs(Ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-10",children:[u.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Koniec Quizu!"}),u.jsxs("p",{className:"text-gray-400",children:["UkoÅ„czyÅ‚eÅ› quiz z wynikiem ",e," punktÃ³w, odpowiadajÄ…c poprawnie na ",a," z ",(null==s?void 0:s.length)||0," pytaÅ„."]})]}),u.jsxs(Ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"grid grid-cols-3 gap-4 mb-8",children:[u.jsxs("div",{className:"bg-dark-800/50 p-4 rounded-lg flex flex-col items-center justify-center",children:[u.jsx(T,{className:"text-3xl text-js mb-2"}),u.jsx("div",{className:"text-xs text-gray-400",children:"Punkty"}),u.jsx("div",{className:"text-2xl font-bold",children:e})]}),u.jsxs("div",{className:"bg-dark-800/50 p-4 rounded-lg flex flex-col items-center justify-center",children:[u.jsx(F,{className:"text-3xl text-green-400 mb-2"}),u.jsx("div",{className:"text-xs text-gray-400",children:"Poprawne odpowiedzi"}),u.jsxs("div",{className:"text-2xl font-bold",children:[a,"/",(null==s?void 0:s.length)||0]})]}),u.jsxs("div",{className:"bg-dark-800/50 p-4 rounded-lg flex flex-col items-center justify-center",children:[u.jsx(B,{className:"text-3xl text-js mb-2"}),u.jsx("div",{className:"text-xs text-gray-400",children:"CaÅ‚kowity czas"}),u.jsx("div",{className:"text-2xl font-bold",children:(e=>{const t=e%60;return`${Math.floor(e/60)}:${t<10?"0":""}${t}`})(t)})]})]}),u.jsxs(Ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mb-8",children:[u.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Wyniki wedÅ‚ug kategorii"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:i?Object.entries(i).filter((([e,t])=>t&&"object"==typeof t)).map((([e,t])=>{const s=Un(e),a=(i=t.correct||0,(n=t.total||0)>0?Math.round(i/n*100):0);var i,n;return u.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-dark-800/50 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(s,{className:"text-js"}),u.jsx("h3",{className:"text-lg font-medium",children:Wn(e)})]}),u.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mb-1",children:[u.jsxs("span",{children:["Poprawne: ",t.correct||0,"/",t.total||0]}),u.jsxs("span",{children:[a,"%"]})]}),u.jsx("div",{className:"w-full h-2 bg-gray-700 rounded-full overflow-hidden",children:u.jsx(Ee.div,{className:"h-full bg-js",initial:{width:0},animate:{width:`${a}%`},transition:{duration:.5,delay:.5}})})]},e)})):null})]}),u.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"text-center",children:u.jsxs("button",{onClick:n,className:"bg-js/80 hover:bg-js text-dark px-6 py-3 rounded-lg font-medium flex items-center justify-center gap-2 mx-auto transition-colors",children:[u.jsx(Ce,{className:"text-dark"}),"Zagraj jeszcze raz"]})})]})));Zn.displayName="JSQuizSummary";const Qn=d.memo((({isGameOver:e,gameStats:t,currentChallenge:s,finalTime:a,gameContent:i,onScoreUpdate:n,onLevelComplete:r,onGameOver:o,onRestart:l})=>{const{gameAnimation:c,summaryAnimation:d}=Vn();return s||e?u.jsx(Ae,{mode:"wait",children:u.jsx("div",{className:"flex-1 overflow-y-auto py-6",children:e?u.jsx(Ee.div,{initial:d.initial,animate:d.animate,exit:d.exit,transition:d.transition,children:u.jsx(Zn,{score:t.score,timeElapsed:a,challenges:(null==i?void 0:i.gameData)||[],correctAnswers:t.correctAnswers,categoryStats:t.categoryStats,onRestart:l})},"game-over"):u.jsx(Ee.div,{initial:c.initial,animate:c.animate,exit:c.exit,transition:c.transition,className:"w-full",children:s&&u.jsx(Kn,{currentChallenge:s,onScoreUpdate:n,onLevelComplete:r,currentLevel:t.currentLevel,totalLevels:t.totalLevels,onGameOver:o})},`level-${t.currentLevel}`)})}):u.jsx("div",{className:"flex-1 flex items-center justify-center",children:u.jsx("p",{className:"text-js",children:"Åadowanie pytania..."})})}));Qn.displayName="GameContent";const Xn=d.memo((({stats:e,isGameOver:t,finalTime:s})=>{const a=t?s:e.timeElapsed;return u.jsx("div",{className:"w-full p-4 bg-dark-800/50 rounded-lg mb-4",children:u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs(Ee.div,{className:"flex items-center gap-2 text-js",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1},children:[u.jsx(T,{className:"text-lg"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-gray-400",children:"Punkty"}),u.jsx("div",{className:"font-semibold",children:e.score})]})]}),u.jsxs(Ee.div,{className:"flex items-center gap-2 text-green-400",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.2},children:[u.jsx(F,{className:"text-lg"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-gray-400",children:"Poprawne"}),u.jsxs("div",{className:"font-semibold",children:[e.correctAnswers," / ",e.totalLevels]})]})]}),u.jsxs(Ee.div,{className:"flex items-center gap-2 text-js",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.3},children:[u.jsx(B,{className:"text-lg"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-gray-400",children:"Czas"}),u.jsx("div",{className:"font-semibold",children:(e=>{const t=e%60;return`${Math.floor(e/60)}:${t<10?"0":""}${t}`})(a)})]})]})]})})}));Xn.displayName="JSQuizStats";const Yn=d.memo((({isGameStarted:e,isGameOver:t,gameStats:s,onGameStart:a})=>{const{gameContent:i}=Mn();return e?u.jsx(Xn,{stats:s,isGameOver:t,finalTime:s.timeElapsed}):i?u.jsx(Hi,{gameContent:i,onStart:a}):u.jsxs("div",{className:"w-full p-6 text-center",children:[u.jsx("p",{className:"text-lg text-js/80",children:"Brak danych gry"}),u.jsx("button",{className:"mt-4 px-6 py-2 bg-js/80 hover:bg-js text-white rounded-md transition-colors",onClick:a,children:"Rozpocznij mimo to"})]})}));Yn.displayName="GameHeader";const er=d.memo((({isPaused:e=!1})=>{const{gameContent:t,isLoading:s,error:a}=Mn(),{containerAnimation:i}=Vn(),{pageTitle:n,pageDescription:r}=(({title:e,description:t,gameName:s="JS Quiz"}={})=>({pageTitle:d.useMemo((()=>e||`${s} - Quiz JavaScript | CodeLinesJS`),[e,s]),pageDescription:d.useMemo((()=>t||`SprawdÅº swojÄ… wiedzÄ™ z JavaScript w quizie ${s}. Odpowiadaj na pytania i zdobywaj punkty za poprawne odpowiedzi.`),[t,s])}))(),{isGameStarted:c,isGameOver:m,finalTime:x,gameStats:p,currentChallenge:h,handleScoreUpdate:j,handleLevelComplete:g,handleRestart:y,handleStartGame:b,handleGameOver:v}=(({gameContent:e,isPaused:t})=>{var s;const[a,i]=d.useState(!1),[n,r]=d.useState(!1),[c,m]=d.useState(0),[x,u]=d.useState({currentLevel:1,totalLevels:0,score:0,timeElapsed:0,maxTime:300,correctAnswers:0,categoryStats:{basics:{total:0,correct:0,points:0},advanced:{total:0,correct:0,points:0},frameworks:{total:0,correct:0,points:0}}}),{timeElapsed:p,resetTimer:h,startTimer:j,stopTimer:g}=Ji({maxTime:(null==e?void 0:e.estimatedTime)?60*e.estimatedTime:300,onTimeEnd:()=>{r(!0),m(p),g()},isPaused:t});d.useEffect((()=>{u((e=>l(o({},e),{timeElapsed:p})))}),[p]),d.useEffect((()=>{if(!(null==e?void 0:e.gameData))return;const t={basics:{total:0,correct:0,points:0},advanced:{total:0,correct:0,points:0},frameworks:{total:0,correct:0,points:0}};e.gameData.forEach((e=>{const s=e.category;s&&t[s]&&(t[s].total++,t[s].points+=e.points||0)})),u((s=>l(o({},s),{totalLevels:e.gameData.length,maxTime:e.estimatedTime?60*e.estimatedTime:300,categoryStats:t})))}),[e]);const y=d.useCallback(((e,t)=>{u((s=>l(o({},s),{score:s.score+e,correctAnswers:s.correctAnswers+1,categoryStats:l(o({},s.categoryStats),{[t]:s.categoryStats[t]?l(o({},s.categoryStats[t]),{correct:s.categoryStats[t].correct+1}):{total:0,correct:1,points:e}})})))}),[]),b=d.useCallback((()=>{var t;const s=x.currentLevel+1;if(s>((null==(t=null==e?void 0:e.gameData)?void 0:t.length)||0))return r(!0),m(p),void g();u((e=>l(o({},e),{currentLevel:s})))}),[x.currentLevel,p,null==(s=null==e?void 0:e.gameData)?void 0:s.length,g]),v=d.useCallback((()=>{if(!(null==e?void 0:e.gameData))return;const t={basics:{total:0,correct:0,points:0},advanced:{total:0,correct:0,points:0},frameworks:{total:0,correct:0,points:0}};e.gameData.forEach((e=>{const s=e.category;s&&t[s]&&(t[s].total++,t[s].points+=e.points||0)})),u({currentLevel:1,totalLevels:e.gameData.length,score:0,timeElapsed:0,maxTime:e.estimatedTime?60*e.estimatedTime:300,correctAnswers:0,categoryStats:t}),r(!1),m(0),h(),j()}),[h,j,e]),f=d.useCallback((()=>{i(!0),j()}),[j]),N=d.useCallback((()=>{r(!0),m(p),g()}),[p,g]);return{isGameStarted:a,isGameOver:n,finalTime:c,gameStats:x,currentChallenge:(null==e?void 0:e.gameData)?e.gameData[x.currentLevel-1]:void 0,handleScoreUpdate:y,handleLevelComplete:b,handleRestart:v,handleStartGame:f,handleGameOver:N}})({gameContent:t,isPaused:e});return u.jsx(In,{isLoading:s,error:a,children:t&&u.jsx(u.Fragment,{children:c?u.jsxs(Ee.div,l(o({},i),{className:"w-full h-full flex flex-col",children:[u.jsxs(P,{children:[u.jsx("title",{children:n}),u.jsx("meta",{name:"description",content:r})]}),u.jsx(Yn,{isGameStarted:c,isGameOver:m,gameStats:p,onGameStart:b}),u.jsx(Qn,{isGameOver:m,gameStats:p,currentChallenge:h,finalTime:x,gameContent:t,onScoreUpdate:j,onLevelComplete:g,onGameOver:v,onRestart:y})]})):u.jsx(Yn,{isGameStarted:c,isGameOver:m,gameStats:p,onGameStart:b})})})}));er.displayName="JSQuiz";const tr=Object.freeze(Object.defineProperty({__proto__:null,default:er},Symbol.toStringTag,{value:"Module"}));export{st as C,kt as D,pi as G,Ds as L,Ii as R,ss as S,Ft as a,oa as b,ti as c,Ni as d,Ti as e};
