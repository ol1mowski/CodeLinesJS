import{r as reactExports,M as useLocation,j as jsxRuntimeExports,a as FaCode,i as FaHome,O as FaChartBar,h as FaGamepad,s as FaBook,P as FaCog,u as useNavigate,Q as FaSignOutAlt,R as useQuery,S as useQueryClient,T as useMutation,U as FaBell,F as FaUsers,V as FaCheckCircle,c as FaTrophy,L as Link,W as Outlet,X as FaFire,Y as FaMedal,d as FaStar,p as FaChartLine,Z as FaExclamationTriangle,_ as useSearchParams,f as FaCheck,n as FaClock,D as FaLock,$ as FaChevronRight,a0 as FaSearch,a1 as FaSadTear,a2 as FaExternalLinkAlt,a3 as FaBookOpen,a4 as FaGraduationCap,a5 as FaLightbulb,K as FaUser,a6 as FaTrash,B as useForm,a7 as c,C as FaEnvelope,a8 as FaGlobe,a9 as FaPlay,aa as FaCircle,ab as FaRegCircle,ac as FaSpinner,ad as de,ae as FaHistory,af as FaDownload,ag as FaChevronLeft,ah as FaCopy,ai as atomDark,aj as highlighter,g as FaTimes,ak as useParams,N as Navigate,al as FaArrowLeft,am as FaArrowUp,an as FaCube,ao as vs2015,ap as highlighter$1,aq as FaPuzzlePiece,ar as FaPhoneVolume,as as FaSync,at as Ft}from"./vendor-react-CHBUStPY.js";import{u as useAuth$1,A as API_URL,L as LoadingScreen,a as LevelUpNotification,S as SectionTitle,F as FormInput,B as Button,_ as __vitePreload}from"./app-components-rSiApF14.js";import{m as motion,A as AnimatePresence,a as useMotionValue}from"./vendor-framer-motion-CEmx4hiG.js";import{f as format,p as pl,z,t,l as loader}from"./vendor-other-DOYk1eG7.js";import{R as ResponsiveContainer,L as LineChart,C as CartesianGrid,X as XAxis,Y as YAxis,T as Tooltip,b as Line}from"./vendor-charts-Dd2blkcw.js";const useNavigation=()=>{const[e,s]=reactExports.useState(!1),[a,o]=reactExports.useState("dashboard"),r=useLocation();return reactExports.useEffect(()=>{const l=r.pathname.split("/").pop()||"dashboard";o(l)},[r]),reactExports.useEffect(()=>{const i=()=>{window.innerWidth<768&&s(!1)};return window.addEventListener("resize",i),i(),()=>window.removeEventListener("resize",i)},[]),{isExpanded:e,setIsExpanded:s,activeItem:a,setActiveItem:o}},navVariants={expanded:{width:"240px",transition:{type:"spring",stiffness:300,damping:30}},collapsed:{width:"100px",transition:{type:"spring",stiffness:300,damping:30}}},itemVariants={expanded:{opacity:1,x:0,transition:{type:"spring",stiffness:300,damping:30}},collapsed:{opacity:0,x:-10,transition:{duration:.2}}},NavigationLogo=reactExports.memo(({isExpanded:e})=>jsxRuntimeExports.jsx("div",{className:"px-4 mb-8",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 min-w-[40px] rounded-xl bg-js/20 flex items-center justify-center",children:jsxRuntimeExports.jsx(FaCode,{className:"text-xl text-js"})}),jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:e&&jsxRuntimeExports.jsx(motion.span,{variants:itemVariants,initial:"collapsed",animate:"expanded",exit:"collapsed",className:"font-bold text-js font-space",children:"CodeLinesJS"})})]})}));NavigationLogo.displayName="NavigationLogo";const NavigationButton=reactExports.memo(({icon:e,label:s,isActive:a=!1,isExpanded:o,onClick:r,variant:i="default",id:l})=>jsxRuntimeExports.jsxs(motion.button,{onClick:r,"data-testid":`nav-button-${s==null?void 0:s.toLowerCase().replace(/\s/g,"-")}`,className:`
      ${l==="code"&&"hidden lg:flex"}
      w-full flex items-center gap-3 px-4 py-3 
      rounded-lg transition-all duration-200
      backdrop-blur-sm
      ${i==="default"?a?"bg-js/20 border-l-2 border-js text-js":"text-gray-400 hover:text-js hover:bg-js/10":a?"bg-red-500/20 text-red-400":"text-red-400 hover:bg-red-500/10"}
    `,whileHover:{scale:1.02,x:5},whileTap:{scale:.98},children:[jsxRuntimeExports.jsx(motion.span,{className:"text-xl min-w-[24px]",whileHover:{rotate:10},style:{color:"currentColor"},children:e}),jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:o&&s&&jsxRuntimeExports.jsx(motion.span,{variants:itemVariants,initial:"collapsed",animate:"expanded",exit:"collapsed",className:"font-medium font-space whitespace-nowrap",style:{color:"currentColor"},children:s})})]}));NavigationButton.displayName="NavigationButton";const NavigationSection=reactExports.memo(({title:e,items:s,isExpanded:a,activeItem:o,onItemClick:r,index:i,isLastSection:l})=>jsxRuntimeExports.jsxs(motion.div,{className:"space-y-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.1},children:[a&&jsxRuntimeExports.jsx(motion.h2,{variants:itemVariants,initial:"collapsed",animate:"expanded",exit:"collapsed",className:"text-xs font-bold text-js/60 uppercase tracking-wider px-3 mb-2",children:e}),s.map(n=>jsxRuntimeExports.jsx(NavigationButton,{id:n.id,icon:n.icon,label:n.label,isActive:o===n.id,isExpanded:a,onClick:()=>r(n)},n.id)),!l&&jsxRuntimeExports.jsx("div",{className:"mx-3 my-4",children:jsxRuntimeExports.jsx("div",{className:"border-t border-js/5"})})]},e));NavigationSection.displayName="NavigationSection";const useIsHiddenPath=()=>{const e=useLocation();return["/dashboard/community","/dashboard/community/ranking","/dashboard/community/groups","/dashboard/learn","/dashboard/play","/dashboard/learn/lesson/js-variables","/dashboard/learn/lesson/js-functions","/dashboard/play/regex-raider","/dashboard/play/async-quest","/dashboard/play/js-typo-hunter","/dashboard/play/scope-explorer","/dashboard/settings"].includes(e.pathname)},navigationItems=[{id:"dashboard",label:"Dashboard",icon:jsxRuntimeExports.jsx(FaHome,{}),section:"main",path:"/dashboard"},{id:"stats",label:"Statystyki",icon:jsxRuntimeExports.jsx(FaChartBar,{}),section:"main",path:"/dashboard/stats"},{id:"play",label:"Graj",icon:jsxRuntimeExports.jsx(FaGamepad,{}),section:"game",path:"/dashboard/play"},{id:"learn",label:"Nauka",icon:jsxRuntimeExports.jsx(FaBook,{}),section:"game",path:"/dashboard/learn"},{id:"code",label:"Edytor",icon:jsxRuntimeExports.jsx(FaCode,{}),section:"game",path:"/dashboard/code"},{id:"settings",label:"Ustawienia",icon:jsxRuntimeExports.jsx(FaCog,{}),section:"social",path:"/dashboard/settings"}],sectionTitles={main:"Główne",game:"Nauka"},DashboardNavigation=()=>{const e=useNavigate(),{isExpanded:s,setIsExpanded:a,activeItem:o,setActiveItem:r}=useNavigation(),{logout:i}=useAuth$1(),l=useIsHiddenPath(),n=reactExports.useCallback(d=>{r(d.id),d.path&&e(d.path)},[e,r,a]),x=reactExports.useMemo(()=>Object.entries(navigationItems.reduce((d,m)=>(d[m.section]||(d[m.section]=[]),d[m.section].push(m),d),{})),[]);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(motion.nav,{initial:"collapsed",animate:s?"expanded":"collapsed",variants:navVariants,className:`${l?"hidden md:flex":""} fixed left-0 top-0 bg-gradient-to-b from-dark via-dark-medium to-dark backdrop-blur-lg border-r border-js/10 flex flex-col py-6 z-40 shadow-xl shadow-black/10 h-full`,children:[jsxRuntimeExports.jsx(NavigationLogo,{isExpanded:s}),jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>a(!s),className:"absolute -right-3 top-8 w-6 h-6 bg-js rounded-full flex items-center justify-center hover:opacity-90 transition-all shadow-lg shadow-js/20",children:jsxRuntimeExports.jsx(motion.span,{animate:{rotate:s?180:0},className:"text-dark text-sm font-bold",initial:"collapsed",children:"→"})}),jsxRuntimeExports.jsx("div",{className:"overflow-x-hidden flex-1 px-3 space-y-6",children:jsxRuntimeExports.jsx(AnimatePresence,{mode:"sync",children:x.map(([d,m],p)=>jsxRuntimeExports.jsx(NavigationSection,{title:sectionTitles[d],items:m,isExpanded:s,activeItem:o,onItemClick:n,index:p,isLastSection:p===x.length-1},d))})}),jsxRuntimeExports.jsx("div",{className:"pt-4 border-t border-js/10",children:jsxRuntimeExports.jsx(NavigationButton,{id:"logout",icon:jsxRuntimeExports.jsx(FaSignOutAlt,{}),label:"Wyloguj się",isExpanded:s,onClick:i,variant:"danger"})})]})})};DashboardNavigation.displayName="DashboardNavigation";const WelcomeSection=reactExports.memo(({username:e})=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center gap-4",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h2",{className:"text-js font-bold text-xl",children:["Witaj, ",e,"! 👋"]}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Miło Cię znów widzieć"})]})}));WelcomeSection.displayName="WelcomeSection";const fetchDashboardData=async e=>{if(!e)throw new Error("Brak autoryzacji");const s=await fetch(`${API_URL}users/stats`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!s.ok){if(s.status===401)throw new Error("Brak autoryzacji - zaloguj się ponownie");const a=await s.json();throw new Error(a.message||"Błąd podczas pobierania danych")}return s.json()},useDashboardData=()=>{const{token:e}=useAuth$1();return useQuery({queryKey:["userProgress"],queryFn:()=>fetchDashboardData(e||""),enabled:!!e,staleTime:1e3*60*5,refetchInterval:1e3*60,retry:(s,a)=>s<2&&!a.message.includes("autoryzacji")})},notificationsStyles={dropdown:{container:`
      absolute right-0 top-12 w-80 bg-dark/95 rounded-xl 
      border border-js/10 shadow-xl backdrop-blur-sm z-50
    `,header:{wrapper:"flex justify-between items-center mb-4 p-4",title:"text-xl font-bold text-js",badge:"px-2 py-1 text-xs bg-js/20 text-js rounded-full"},content:{wrapper:"space-y-2 max-h-[400px] overflow-y-auto custom-scrollbar p-4",loading:"py-8 text-center text-gray-400",empty:"py-8 text-center text-gray-400",item:{wrapper:`
          p-3 rounded-lg bg-dark/50 hover:bg-dark/70
          border border-js/10 hover:border-js/20
          cursor-pointer transition-all duration-200
        `,content:"flex items-start gap-3",icon:"mt-1",text:{wrapper:"flex-1",message:"text-white",time:"text-sm text-gray-400 mt-1"}}}},button:{wrapper:"hidden xl:block relative",base:`
      relative p-2 rounded-lg
      hover:bg-js/5 transition-colors duration-200
    `,active:"bg-dark/50",icon:{base:"w-5 h-5",active:"text-js",inactive:"text-gray-400"},badge:`
      absolute -top-1 -right-1 bg-red-500 text-white 
      rounded-full min-w-[18px] h-[18px] text-xs 
      flex items-center justify-center px-1 font-medium
    `}},useNotifications=()=>{const{token:e}=useAuth$1(),s=useQueryClient();return{markAsRead:useMutation({mutationFn:async o=>{const r=await fetch(`${API_URL}/dashboard/notifications/${o}/read`,{method:"PATCH",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error("Nie udało się oznaczyć jako przeczytane");return r.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["dashboard"]})}})}},getNotificationIcon=e=>{switch(e){case"challenge":return jsxRuntimeExports.jsx(FaTrophy,{className:"text-yellow-500"});case"achievement":return jsxRuntimeExports.jsx(FaCheckCircle,{className:"text-green-500"});case"social":return jsxRuntimeExports.jsx(FaUsers,{className:"text-blue-500"});default:return jsxRuntimeExports.jsx(FaBell,{className:"text-gray-400"})}},formatDate=e=>format(new Date(e),"dd MMM, HH:mm",{locale:pl}),NotificationItem=reactExports.memo(({notification:e,onRead:s})=>jsxRuntimeExports.jsx(motion.div,{className:`
      ${notificationsStyles.dropdown.content.item.wrapper}
      ${e.read?"opacity-60":""}
    `,whileHover:{x:5},onClick:()=>!e.read&&s(e._id),children:jsxRuntimeExports.jsxs("div",{className:notificationsStyles.dropdown.content.item.content,children:[jsxRuntimeExports.jsx("div",{className:notificationsStyles.dropdown.content.item.icon,children:getNotificationIcon(e.type)}),jsxRuntimeExports.jsxs("div",{className:notificationsStyles.dropdown.content.item.text.wrapper,children:[jsxRuntimeExports.jsx("p",{className:notificationsStyles.dropdown.content.item.text.message,children:e.message}),jsxRuntimeExports.jsx("span",{className:notificationsStyles.dropdown.content.item.text.time,children:formatDate(e.createdAt)})]})]})}));NotificationItem.displayName="NotificationItem";const NotificationsHeader=reactExports.memo(({unreadCount:e})=>jsxRuntimeExports.jsxs("div",{className:notificationsStyles.dropdown.header.wrapper,children:[jsxRuntimeExports.jsx("h3",{className:notificationsStyles.dropdown.header.title,children:"Powiadomienia"}),e>0&&jsxRuntimeExports.jsxs("span",{className:notificationsStyles.dropdown.header.badge,children:[e," nowe"]})]}));NotificationsHeader.displayName="NotificationsHeader";const NotificationsDropdown=reactExports.memo(({onClose:e})=>{var r;const{data:s,isLoading:a}=useDashboardData(),{markAsRead:o}=useNotifications();return reactExports.useEffect(()=>{const i=l=>{l.key==="Escape"&&e()};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[e]),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:notificationsStyles.dropdown.container,onClick:i=>i.stopPropagation(),children:[jsxRuntimeExports.jsx(NotificationsHeader,{unreadCount:(s==null?void 0:s.unreadCount)??0}),a?jsxRuntimeExports.jsx("div",{className:notificationsStyles.dropdown.content.loading,children:"Ładowanie powiadomień..."}):(r=s==null?void 0:s.notifications)!=null&&r.length?jsxRuntimeExports.jsx("div",{className:notificationsStyles.dropdown.content.wrapper,children:s.notifications.map(i=>jsxRuntimeExports.jsx(NotificationItem,{notification:i,onRead:l=>o.mutate(l)},i._id))}):jsxRuntimeExports.jsx("div",{className:notificationsStyles.dropdown.content.empty,children:"Brak nowych powiadomień"})]})});NotificationsDropdown.displayName="NotificationsDropdown";const NotificationsButton=reactExports.memo(()=>{const[e,s]=reactExports.useState(!1),{data:a}=useDashboardData(),o=(a==null?void 0:a.unreadCount)??0,r=reactExports.useCallback(()=>s(!1),[]),i=reactExports.useCallback(l=>{l.stopPropagation(),s(n=>!n)},[]);return jsxRuntimeExports.jsxs("div",{className:notificationsStyles.button.wrapper,children:[jsxRuntimeExports.jsxs(motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:i,className:`${notificationsStyles.button.base} ${e?notificationsStyles.button.active:""}`,children:[jsxRuntimeExports.jsx(FaBell,{className:`
          ${notificationsStyles.button.icon.base}
          ${e?notificationsStyles.button.icon.active:notificationsStyles.button.icon.inactive}
        `}),jsxRuntimeExports.jsx(AnimatePresence,{children:o>0&&jsxRuntimeExports.jsx(motion.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:notificationsStyles.button.badge,children:o>9?"9+":o})})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:e&&jsxRuntimeExports.jsx(NotificationsDropdown,{onClose:r})})]})});NotificationsButton.displayName="NotificationsButton";const topNavigationStyles={container:`
    w-[90%]
    xl:w-full
    flex justify-between items-center
    xl:block
    mt-5
    pb-2
    bg-dark/50 backdrop-blur-sm
    border-b border-js/10 
    fixed top-0
    md:top-4 right-0
    h-14
    z-[0]
    rounded-lg mx-4
  `,content:`
    h-full
    ml-32
    sm:ml-auto
    flex justify-between items-center
    max-w-[1000px]
    mx-auto
    relative
  `,actions:"flex items-center gap-3 absolute right-6",gradients:{text:"bg-gradient-to-r from-js to-js/80 bg-clip-text text-transparent",hover:"hover:bg-js/5",base:"bg-gradient-to-br from-js/5 to-js/10"},borders:{base:"border-js/20",hover:"hover:border-js/30"},transitions:{base:"transition-all duration-200"},text:{heading:"text-lg font-bold text-js",primary:"text-white",secondary:"text-gray-400"}},useTopNavAnimation=()=>reactExports.useMemo(()=>({container:{initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{duration:.3,ease:"easeOut"}}}}),[]),fetchUser=async e=>{const s=await fetch(`${API_URL}users/profile`,{headers:{Authorization:`Bearer ${e}`}});if(!s.ok)throw new Error("Nie udało się pobrać danych użytkownika");return s.json()},USER_PROFILE_QUERY_KEY=["userProfile"],useUserProfile=()=>{const{token:e}=useAuth$1();return useQuery({queryKey:USER_PROFILE_QUERY_KEY,queryFn:()=>fetchUser(e)})},TopNavigation=reactExports.memo(()=>{const e=useTopNavAnimation(),{data:s,isLoading:a}=useUserProfile(),o=reactExports.useMemo(()=>a?"Ładowanie...":s!=null&&s.data.username?s==null?void 0:s.data.username:"Użytkowniku",[s==null?void 0:s.data.username,a]);return jsxRuntimeExports.jsx(motion.nav,{variants:e.container,initial:"initial",animate:"animate",className:topNavigationStyles.container,children:jsxRuntimeExports.jsxs("div",{className:topNavigationStyles.content,children:[jsxRuntimeExports.jsx(WelcomeSection,{username:o}),jsxRuntimeExports.jsx("div",{className:topNavigationStyles.actions,children:jsxRuntimeExports.jsx(NotificationsButton,{})})]})})});TopNavigation.displayName="TopNavigation";const Dashboard=()=>{const e=useIsHiddenPath();return jsxRuntimeExports.jsxs("main",{className:"bg-gradient-to-b from-dark via-dark-medium to-dark backdrop-blur-lg flex min-h-screen",children:[jsxRuntimeExports.jsx(DashboardNavigation,{}),jsxRuntimeExports.jsxs("div",{className:`flex-1 ${!e&&"ml-[100px]"} md:ml-[100px]`,children:[jsxRuntimeExports.jsx(TopNavigation,{}),jsxRuntimeExports.jsx("div",{className:"mt-20 p-6 ",children:jsxRuntimeExports.jsxs("div",{className:`${e?"flex":""} flex-col justify-center items-center gap-4 md:block`,children:[e&&jsxRuntimeExports.jsx(Link,{to:"/dashboard",className:"mb-4 md:hidden",children:jsxRuntimeExports.jsx("button",{className:"bg-js text-dark px-4 py-2 rounded-md",children:"Wróć do Home"})}),jsxRuntimeExports.jsx(Outlet,{})]})})]})]})},fetchStats=async e=>{var o,r;const s=await fetch(`${API_URL}users/stats`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!s.ok)throw s.status===401?new Error("Brak autoryzacji"):new Error("Błąd podczas pobierania statystyk");const a=await s.json();return{...a,chartData:{daily:((o=a.chartData)==null?void 0:o.daily)||[],categories:((r=a.chartData)==null?void 0:r.categories)||[]}}},useStats=()=>{const{token:e,isAuthenticated:s}=useAuth$1(),{data:a,isLoading:o,error:r}=useQuery({queryKey:["userProgress"],queryFn:()=>fetchStats(e),enabled:s&&!!e,staleTime:1e3*60*5,gcTime:1e3*60*30,retry:(i,l)=>l.message==="Brak autoryzacji"?!1:i<3});return{stats:a,isLoading:o,error:r}},statsSectionStyles={card:{base:"bg-dark/50 backdrop-blur-sm rounded-xl border border-js/10 p-6",title:"text-xl font-bold text-js mb-6",content:"h-full"},text:{heading:"text-3xl font-bold font-space text-js",subtitle:"text-gray-400 text-sm"}},LevelProgress=reactExports.memo(({level:e,experience:s,nextLevel:a})=>{const o=s/a*100;return jsxRuntimeExports.jsxs("div",{className:statsSectionStyles.card.base,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:statsSectionStyles.card.title,children:["Poziom ",e]}),jsxRuntimeExports.jsxs("p",{className:"text-gray-400 text-sm",children:[s," / ",a," XP do następnego poziomu"]})]}),jsxRuntimeExports.jsx("div",{className:"hidden w-16 h-16 rounded-full bg-js/20 md:flex items-center justify-center",children:jsxRuntimeExports.jsx("span",{className:"text-2xl font-bold text-js",children:e})})]}),jsxRuntimeExports.jsx("div",{className:"relative h-4 bg-dark/50 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx(motion.div,{initial:{width:0},animate:{width:`${o}%`},transition:{duration:1,ease:"easeOut"},className:"absolute top-0 left-0 h-full bg-js/50"})})]})});LevelProgress.displayName="LevelProgress";const item$1={hidden:{opacity:0,y:20},show:{opacity:1,y:0}},StatCard=reactExports.memo(({icon:e,label:s,value:a,subValue:o})=>jsxRuntimeExports.jsx(motion.div,{variants:item$1,className:`${statsSectionStyles.card.base} hover:border-js/30 transition-all p-3 md:p-4`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[jsxRuntimeExports.jsx("div",{className:"p-2 md:p-3 rounded-lg bg-js/10 shrink-0",children:jsxRuntimeExports.jsx(e,{className:"w-5 h-5 md:w-6 md:h-6 text-js"})}),jsxRuntimeExports.jsxs("div",{className:"min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-xs md:text-sm mb-0.5 md:mb-1",children:s}),jsxRuntimeExports.jsx("p",{className:"text-xl md:text-2xl font-bold font-space text-js truncate",children:a}),o&&jsxRuntimeExports.jsx("p",{className:"text-xs md:text-sm text-gray-500 mt-0.5 md:mt-1",children:o})]})]})}));StatCard.displayName="StatCard";const useFormatDate=()=>e=>{try{const s=new Date(e);return isNaN(s.getTime())?"Data nieznana":s.toLocaleDateString("pl-PL",{year:"numeric",month:"short",day:"numeric"})}catch{return"Data nieznana"}},container$1={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},item={hidden:{opacity:0,y:20},show:{opacity:1,y:0}},BadgeCard=reactExports.memo(({badge:e})=>{const s=useFormatDate();return jsxRuntimeExports.jsxs(motion.div,{variants:item,className:"min-w-[8rem] flex flex-col items-center p-4 bg-dark/30 rounded-lg border border-js/10 hover:border-js/30 transition-colors",children:[jsxRuntimeExports.jsx("span",{className:"text-3xl mb-2",children:e.icon||"🏆"}),jsxRuntimeExports.jsx("h4",{className:"text-js font-medium text-sm text-center",children:e.name}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-xs mt-1",children:s(e.earnedAt)}),e.description&&jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-xs mt-1 text-center",children:e.description})]})});BadgeCard.displayName="BadgeCard";const EmptyBadges=reactExports.memo(()=>jsxRuntimeExports.jsxs("div",{className:statsSectionStyles.card.base,children:[jsxRuntimeExports.jsx("h3",{className:statsSectionStyles.card.title,children:"Odznaki"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-center py-4",children:"Nie zdobyto jeszcze żadnych odznak"})]}));EmptyBadges.displayName="EmptyBadges";const BadgesGrid=reactExports.memo(({badges:e})=>e!=null&&e.length?jsxRuntimeExports.jsxs("div",{className:statsSectionStyles.card.base,children:[jsxRuntimeExports.jsx("h3",{className:statsSectionStyles.card.title,children:"Odznaki"}),jsxRuntimeExports.jsx(motion.div,{variants:container$1,initial:"hidden",animate:"show",className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:e.map(s=>jsxRuntimeExports.jsx(BadgeCard,{badge:s},s.id))})]}):jsxRuntimeExports.jsx(EmptyBadges,{}));BadgesGrid.displayName="BadgesGrid";const ErrorState=reactExports.memo(({message:e})=>jsxRuntimeExports.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:jsxRuntimeExports.jsx("p",{className:"text-red-500",children:e})}));ErrorState.displayName="ErrorState";const useStatsCards=e=>reactExports.useMemo(()=>{var s;return e?[{icon:FaTrophy,label:"Ukończone Lekcje",value:((s=e.data.completedLessons)==null?void 0:s.toString())||"0",gradient:"from-amber-500 to-orange-500"},{icon:FaFire,label:"Aktualny Streak",value:`${e.data.streak||0} dni`,subValue:`Najlepszy: ${e.data.bestStreak||0} dni`,gradient:"from-red-500 to-pink-500"}]:[]},[e]),container={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},StatsOverview=reactExports.memo(({stats:e,isLoading:s,error:a})=>{const o=useStatsCards(e);return s?jsxRuntimeExports.jsx(LoadingScreen,{}):a?jsxRuntimeExports.jsx(ErrorState,{message:`Wystąpił błąd podczas ładowania statystyk: ${a.message}`}):e?jsxRuntimeExports.jsxs(motion.div,{variants:container,initial:"hidden",animate:"show",className:"space-y-6",children:[jsxRuntimeExports.jsx(LevelProgress,{level:e.data.level,experience:e.data.points,nextLevel:e.data.pointsToNextLevel}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:o.map((r,i)=>jsxRuntimeExports.jsx(StatCard,{...r},i))}),jsxRuntimeExports.jsx(BadgesGrid,{badges:e.data.badges})]}):jsxRuntimeExports.jsx("div",{className:"p-4 bg-dark/50 rounded-lg",children:jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Brak dostępnych statystyk"})})});StatsOverview.displayName="StatsOverview";const DailyChart=reactExports.memo(({data:e})=>jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:300,children:jsxRuntimeExports.jsxs(LineChart,{data:e,margin:{top:5,right:20,bottom:5,left:0},children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#2A2A2A"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"date",stroke:"#666",tickLine:!1,tick:{fill:"#666"},axisLine:{stroke:"#333"}}),jsxRuntimeExports.jsx(YAxis,{stroke:"#666",tickLine:!1,tick:{fill:"#666"},axisLine:{stroke:"#333"},label:{value:"Punkty",angle:-90,position:"insideLeft",fill:"#666"}}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{background:"#1A1A1A",border:"1px solid #333",borderRadius:"4px",padding:"8px"},labelStyle:{color:"#666"},itemStyle:{color:"#F7DF1E"}}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"points",stroke:"#F7DF1E",strokeWidth:2,dot:{fill:"#F7DF1E",strokeWidth:2},activeDot:{r:6,fill:"#F7DF1E"}})]})}));DailyChart.displayName="DailyChart";const StatsCharts=reactExports.memo(({data:e,isLoading:s})=>s?jsxRuntimeExports.jsx(LoadingScreen,{}):e?jsxRuntimeExports.jsx("div",{className:"hidden md:flex flex-col gap-6 h-full",children:jsxRuntimeExports.jsxs("div",{className:"bg-dark/50 rounded-lg p-6 flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-js mb-6",children:"Aktywność"}),jsxRuntimeExports.jsx("div",{className:"h-[300px]",children:jsxRuntimeExports.jsx(DailyChart,{data:e.daily})})]})}):null);StatsCharts.displayName="StatsCharts";const DashboardState=reactExports.memo(({type:e,message:s})=>{const a=()=>{switch(e){case"error":return"text-red-400";default:return"text-gray-400"}};return jsxRuntimeExports.jsx("div",{className:"p-8 w-full flex items-center justify-center min-h-[400px]",children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},className:`text-xl ${a()}`,children:s||(e==="loading"?"Ładowanie danych...":e==="error"?"Wystąpił błąd podczas ładowania danych":"Brak danych do wyświetlenia")})})});DashboardState.displayName="DashboardState";const StatsSection$1=reactExports.memo(()=>{var n;const{stats:e,isLoading:s,error:a}=useStats(),[o,r]=reactExports.useState(!1),[i,l]=reactExports.useState(null);return reactExports.useEffect(()=>{e!=null&&e.data.levelUp&&(l({level:e.data.level,rewards:e.data.rewards}),r(!0))},[e]),s?jsxRuntimeExports.jsx(LoadingScreen,{}):a?jsxRuntimeExports.jsx(DashboardState,{type:"error",message:"Nie udało się załadować statystyk. Spróbuj ponownie później."}):e?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col h-full p-6 gap-6",children:[jsxRuntimeExports.jsx(motion.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},className:"flex items-center justify-between",children:jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold font-space text-js",children:"Statystyki i Postępy"})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 flex-1",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-6",children:jsxRuntimeExports.jsx(StatsOverview,{stats:e,isLoading:s,error:a})}),jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-6 h-full",children:jsxRuntimeExports.jsx(StatsCharts,{data:(n=e==null?void 0:e.data)==null?void 0:n.chartData,isLoading:s})})]})]}),jsxRuntimeExports.jsx(LevelUpNotification,{isVisible:o,onClose:()=>r(!1),level:(i==null?void 0:i.level)||0,rewards:i==null?void 0:i.rewards})]}):jsxRuntimeExports.jsx(DashboardState,{type:"empty",message:"Brak dostępnych statystyk."})});StatsSection$1.displayName="StatsSection";const dashboardContentStyles={text:{heading:"font-bold text-js"},grid:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",card:{base:"bg-dark/50 backdrop-blur-sm border border-js/10 shadow-xl",community:`
      col-span-1 md:col-span-2 lg:col-span-1
      order-2 lg:order-1
    `,game:`
      col-span-1 md:col-span-2 lg:col-span-1
      order-1 lg:order-2
    `,stats:`
      col-span-1 md:col-span-2 lg:col-span-1
      order-3
    `}},blockStyles={container:"bg-dark/50 backdrop-blur-sm rounded-xl border border-js/10 p-6",header:{wrapper:"flex justify-between items-center mb-6",title:"text-xl font-bold text-js flex items-center gap-2",icon:"w-5 h-5"},content:{wrapper:"space-y-6",description:"text-gray-400 text-sm leading-relaxed",button:{wrapper:"flex justify-center",base:"px-6 py-3 bg-js text-dark font-medium rounded-lg transition-all duration-200",hover:"hover:bg-js/90 hover:shadow-lg hover:shadow-js/20",active:"active:scale-95"}}},useBlockAnimation=()=>reactExports.useMemo(()=>({container:{hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}}},button:{hover:{scale:1.05},tap:{scale:.95}}}),[]),CommunityBlock=reactExports.memo(()=>{const e=useNavigate(),s=useBlockAnimation(),a=()=>{e("/dashboard/community")};return jsxRuntimeExports.jsxs(motion.div,{variants:s.container,initial:"hidden",animate:"show",className:blockStyles.container,children:[jsxRuntimeExports.jsx("div",{className:blockStyles.header.wrapper,children:jsxRuntimeExports.jsxs("h2",{className:blockStyles.header.title,children:[jsxRuntimeExports.jsx(FaUsers,{className:blockStyles.header.icon}),"Społeczność"]})}),jsxRuntimeExports.jsxs("div",{className:blockStyles.content.wrapper,children:[jsxRuntimeExports.jsx("p",{className:blockStyles.content.description,children:"Sprawdź najnowsze informacje i aktualności społeczności."}),jsxRuntimeExports.jsx("div",{className:blockStyles.content.button.wrapper,children:jsxRuntimeExports.jsx(motion.button,{onClick:a,whileHover:"hover",whileTap:"tap",variants:s.button,className:`
              ${blockStyles.content.button.base}
              ${blockStyles.content.button.hover}
              ${blockStyles.content.button.active}
            `,children:"Sprawdź aktualności"})})]})]})});CommunityBlock.displayName="CommunityBlock";const GameBlock=reactExports.memo(()=>{const e=useNavigate(),s=useBlockAnimation(),a=()=>{e("/dashboard/play")};return jsxRuntimeExports.jsxs(motion.div,{variants:s.container,initial:"hidden",animate:"show",className:blockStyles.container,children:[jsxRuntimeExports.jsx("div",{className:blockStyles.header.wrapper,children:jsxRuntimeExports.jsxs("h2",{className:blockStyles.header.title,children:[jsxRuntimeExports.jsx(FaGamepad,{className:blockStyles.header.icon}),"Tryb Gry"]})}),jsxRuntimeExports.jsxs("div",{className:blockStyles.content.wrapper,children:[jsxRuntimeExports.jsx("p",{className:blockStyles.content.description,children:"Rozpocznij nową sesję gry, rozwiązuj wyzwania i zdobywaj punkty. Sprawdź swoje umiejętności w praktyce!"}),jsxRuntimeExports.jsx("div",{className:blockStyles.content.button.wrapper,children:jsxRuntimeExports.jsx(motion.button,{onClick:a,whileHover:"hover",whileTap:"tap",variants:s.button,className:`
              ${blockStyles.content.button.base}
              ${blockStyles.content.button.hover}
              ${blockStyles.content.button.active}
            `,children:"Rozpocznij Grę"})})]})]})});GameBlock.displayName="GameBlock";const statsBlockStyles={container:"bg-dark/50 backdrop-blur-sm rounded-xl border border-js/10 p-6",header:{wrapper:"flex justify-between items-center mb-4",title:"text-xl font-bold text-js",refreshButton:"p-2 text-js hover:text-js/80 transition-colors cursor-pointer"},stats:{grid:"grid grid-cols-1 sm:grid-cols-2 gap-4",item:{wrapper:"flex items-center gap-4 p-4 bg-dark/30 rounded-lg",icon:"text-2xl text-js",content:{wrapper:"flex flex-col",label:"text-sm text-gray-400",value:"text-xl font-bold text-js"}}},lastActive:"text-sm text-gray-400 mt-4"},useDateFormat=()=>reactExports.useCallback(e=>{try{if(!e)return"Brak danych";const s=new Date(e);return isNaN(s.getTime())?"Nieprawidłowa data":format(s,"dd MMM, HH:mm",{locale:pl})}catch(s){return console.error("Error formatting date:",s),"Nieprawidłowa data"}},[]),StatItem=reactExports.memo(({icon:e,label:s,value:a})=>jsxRuntimeExports.jsxs("div",{className:statsBlockStyles.stats.item.wrapper,children:[jsxRuntimeExports.jsx("div",{className:statsBlockStyles.stats.item.icon,children:e}),jsxRuntimeExports.jsxs("div",{className:statsBlockStyles.stats.item.content.wrapper,children:[jsxRuntimeExports.jsx("p",{className:statsBlockStyles.stats.item.content.label,children:s}),jsxRuntimeExports.jsx("p",{className:statsBlockStyles.stats.item.content.value,children:a})]})]}));StatItem.displayName="StatItem";const StatsBlock=reactExports.memo(({stats:e})=>{const s=useDateFormat();return jsxRuntimeExports.jsxs("div",{className:statsBlockStyles.container,children:[jsxRuntimeExports.jsxs("div",{className:statsBlockStyles.stats.grid,children:[jsxRuntimeExports.jsx(StatItem,{icon:jsxRuntimeExports.jsx(FaMedal,{}),label:"Poziom",value:e.level}),jsxRuntimeExports.jsx(StatItem,{icon:jsxRuntimeExports.jsx(FaStar,{}),label:"Punkty",value:e.points}),jsxRuntimeExports.jsx(StatItem,{icon:jsxRuntimeExports.jsx(FaChartLine,{}),label:"Seria",value:`${e.streak} dni`})]}),jsxRuntimeExports.jsxs("p",{className:statsBlockStyles.lastActive,children:["Ostatnia aktywność: ",s(e.lastActive)]})]})});StatsBlock.displayName="StatsBlock";const useDashboardAnimation=()=>reactExports.useMemo(()=>({container:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},item:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}}}),[]),DashboardContent=reactExports.memo(()=>{const{data:e,isLoading:s,error:a}=useDashboardData(),o=useDashboardAnimation();return s?jsxRuntimeExports.jsx(LoadingScreen,{}):a?jsxRuntimeExports.jsx(DashboardState,{type:"error",message:a.message}):e?jsxRuntimeExports.jsxs(motion.div,{className:"p-1 md:p-12 w-full overflow-y-auto",variants:o.container,initial:"hidden",animate:"visible",children:[jsxRuntimeExports.jsx(motion.h1,{className:`${dashboardContentStyles.text.heading} text-3xl mb-12`,variants:o.item,children:"Dashboard"}),jsxRuntimeExports.jsxs("div",{className:dashboardContentStyles.grid,children:[jsxRuntimeExports.jsx(motion.div,{variants:o.item,className:dashboardContentStyles.card.community,children:jsxRuntimeExports.jsx(CommunityBlock,{})}),jsxRuntimeExports.jsx(motion.div,{variants:o.item,className:dashboardContentStyles.card.game,children:jsxRuntimeExports.jsx(GameBlock,{})}),jsxRuntimeExports.jsx(motion.div,{variants:o.item,className:dashboardContentStyles.card.stats,children:jsxRuntimeExports.jsx(StatsBlock,{stats:e.data})})]})]}):jsxRuntimeExports.jsx(DashboardState,{type:"empty"})});DashboardContent.displayName="DashboardContent";const ErrorMessage=reactExports.memo(({message:e,onRetry:s})=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[jsxRuntimeExports.jsx(FaExclamationTriangle,{className:"w-12 h-12 text-red-500 mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-200 mb-2",children:"Wystąpił błąd"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:e}),s&&jsxRuntimeExports.jsx("button",{onClick:s,className:"px-4 py-2 bg-js/10 text-js rounded-lg hover:bg-js/20 transition-colors",children:"Spróbuj ponownie"})]})),filters=[{id:"all",label:"Wszystkie"},{id:"beginner",label:"Podstawowe"},{id:"intermediate",label:"Średnie"},{id:"advanced",label:"Zaawansowane"}],LessonsFilter=reactExports.memo(({onFilterChange:e,className:s=""})=>{const[a,o]=useSearchParams(),r=a.get("filter")||"all";reactExports.useEffect(()=>{e(r)},[r,e]);const i=l=>{o(l==="all"?{tab:"lessons"}:{filter:l,tab:"lessons"})};return jsxRuntimeExports.jsx("div",{className:`flex gap-2 flex-wrap ${s}`,children:filters.map(l=>{const n=r===l.id;return jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>i(l.id),className:`w-fit px-3 py-1.5 rounded-lg text-sm font-medium transition-all
              ${n?"text-js bg-js/10 border border-js/20":"text-gray-400 hover:text-js/80 border border-transparent"}`,children:l.label},l.id)})})});LessonsFilter.displayName="LessonsFilter";const LessonsHeader=reactExports.memo(({onFilterChange:e})=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-js mb-1",children:"Dostępne lekcje"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Wybierz interesującą Cię lekcję i rozpocznij naukę"})]}),jsxRuntimeExports.jsx(LessonsFilter,{onFilterChange:e})]}));LessonsHeader.displayName="LessonsHeader";const cardVariants$1={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}},LessonCard=reactExports.memo(({lesson:e})=>{const{title:s,description:a,duration:o,slug:r,isCompleted:i,isLocked:l,requiredLevel:n=1}=e,x=jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-start",children:jsxRuntimeExports.jsxs("div",{className:"space-y-1 flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("h3",{className:`text-lg font-semibold ${l?"text-gray-500":"text-js"}`,children:s}),i&&jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-js/10 text-js",children:[jsxRuntimeExports.jsx(FaCheck,{className:"w-3 h-3 mr-1"}),"Ukończono"]})]}),jsxRuntimeExports.jsx("p",{className:`text-sm ${l?"text-gray-600":"text-gray-400"} line-clamp-2`,children:a})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[jsxRuntimeExports.jsxs("span",{className:`flex items-center gap-1 ${l?"text-gray-600":"text-gray-400"}`,children:[jsxRuntimeExports.jsx(FaClock,{className:"w-3.5 h-3.5"}),o," min"]}),l&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 text-gray-500",children:[jsxRuntimeExports.jsx(FaLock,{className:"w-3.5 h-3.5"}),"Poziom ",n]})]}),!l&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-js",children:[jsxRuntimeExports.jsx("span",{children:i?"Powtórz":"Rozpocznij"}),jsxRuntimeExports.jsx(FaChevronRight,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]});return jsxRuntimeExports.jsx(motion.div,{variants:cardVariants$1,className:`group relative ${l?"opacity-75":""}`,children:l?jsxRuntimeExports.jsx("div",{className:"block p-6 rounded-xl bg-dark-800 border border-gray-800 cursor-not-allowed",children:x}):jsxRuntimeExports.jsx(Link,{to:`/dashboard/learn/lesson/${r}`,className:"block p-6 rounded-xl bg-dark-800 border border-js/10 hover:border-js/20 transition-colors",children:x})})});LessonCard.displayName="LessonCard";const containerVariants$1={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},getDifficultyLabel$2=e=>{switch(e){case"beginner":return"podstawowym";case"intermediate":return"średnim";case"advanced":return"zaawansowanym";default:return""}},LessonsList=reactExports.memo(({lessons:e,filter:s,userData:a})=>{const o=e.map(r=>({...r,isLocked:r.requiredLevel?r.requiredLevel>a.userLevel:!1}));return o.length===0?jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center py-12 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"relative mb-6",children:[jsxRuntimeExports.jsx(FaSearch,{className:"w-20 h-20 text-gray-600 opacity-20"}),jsxRuntimeExports.jsx("div",{className:"absolute -right-2 -bottom-2",children:jsxRuntimeExports.jsx(FaSadTear,{className:"w-8 h-8 text-gray-500"})})]}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-js mb-3",children:s==="all"?"Brak dostępnych lekcji":`Brak lekcji o poziomie ${getDifficultyLabel$2(s)}`}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm max-w-md",children:s==="all"?"Aktualnie nie ma żadnych dostępnych lekcji. Sprawdź ponownie później.":"W tej kategorii nie znaleziono żadnych lekcji. Wybierz inny poziom trudności."})]}):jsxRuntimeExports.jsx(motion.div,{variants:containerVariants$1,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(r=>jsxRuntimeExports.jsx(LessonCard,{lesson:r},r.slug))})});LessonsList.displayName="LessonsList";const fetchLesson=async(e,s)=>{const a=await fetch(`${API_URL}lessons/${e}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}});if(!a.ok)throw a.status===404?new Error("lesson_not_found"):new Error("Failed to fetch lesson");return a.json()},completeLesson=async({userId:e,lessonId:s,pathId:a,token:o})=>{if(!o)throw new Error("No authentication token found");const r=await fetch(`${API_URL}lessons/${s}/complete`,{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"},body:JSON.stringify({userId:e,pathId:a})});if(!r.ok){const i=await r.text();throw console.error("API error:",i),new Error(i||"Failed to complete lesson")}return r.json()},fetchLessons=async e=>{if(!e)throw new Error("No authentication token found");const s=await fetch(`${API_URL}lessons`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!s.ok)throw s.status===401?new Error("Unauthorized - please log in again"):new Error("Failed to fetch lessons");return await s.json()},getDifficultyLabel$1=e=>{switch(e){case"beginner":return"podstawowym";case"intermediate":return"średnim";case"advanced":return"zaawansowanym";default:return""}},useLessons=()=>{var g;const[e,s]=reactExports.useState("all"),[a]=reactExports.useState("javascript"),{token:o}=useAuth$1(),{data:r,isLoading:i,error:l,refetch:n}=useQuery({queryKey:["lessons"],queryFn:()=>fetchLessons(o||""),retry:2,staleTime:1e3*60*5,refetchOnWindowFocus:!0,enabled:!!o}),x=((g=r==null?void 0:r.lessons)==null?void 0:g[a])??[],d=(r==null?void 0:r.stats)??{total:0,completed:0,progress:0},m=reactExports.useMemo(()=>e==="all"?x:x.filter(y=>y.difficulty===e),[x,e]),p=!x||x.length===0,u=!p&&m.length===0,j={currentFilter:e,label:getDifficultyLabel$1(e),isEmpty:p,hasNoLessonsForFilter:u,messages:{title:u?`Brak lekcji o poziomie ${getDifficultyLabel$1(e)}`:"Brak dostępnych lekcji",description:u?"W tej kategorii nie znaleziono żadnych lekcji. Wybierz inny poziom trudności lub wyświetl wszystkie lekcje.":"Aktualnie nie ma żadnych dostępnych lekcji. Sprawdź ponownie później."}};return{filteredLessons:m,filter:e,setFilter:s,resetFilter:()=>s("all"),isLoading:i,error:l,refetch:n,isEmpty:p,hasNoLessonsForFilter:u,filterState:j,requiredLevel:r==null?void 0:r.requiredLevel,stats:d}},Lessons=reactExports.memo(()=>{const e="current-user",{filteredLessons:s,filter:a,setFilter:o,isLoading:r,requiredLevel:i,error:l,refetch:n}=useLessons();return l?jsxRuntimeExports.jsx(ErrorMessage,{message:"Nie udało się pobrać listy lekcji. Spróbuj ponownie później.",onRetry:()=>n()}):r?jsxRuntimeExports.jsx(LoadingScreen,{}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(LessonsHeader,{onFilterChange:o}),jsxRuntimeExports.jsx(LessonsList,{lessons:s,filter:a,userId:e,userData:{userLevel:1,requiredLevel:i||1}})]})});Lessons.displayName="Lessons";const cardVariants={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:200,damping:20}}},ResourceCard=reactExports.memo(({resource:e,isRecommended:s})=>jsxRuntimeExports.jsxs(motion.div,{variants:cardVariants,whileHover:{scale:1.02},className:"group relative bg-dark-800/50 border border-js/10 rounded-xl p-5 hover:border-js/20 transition-colors",children:[s&&jsxRuntimeExports.jsxs("div",{className:"absolute -top-2 -right-2 bg-js text-dark px-2 py-1 rounded-lg text-xs font-bold flex items-center gap-1",children:[jsxRuntimeExports.jsx(FaStar,{className:"w-3 h-3"}),"Polecane"]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-js mb-1 line-clamp-1",children:e.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm line-clamp-2",children:e.description})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs font-medium
            ${e.type==="documentation"?"bg-blue-500/10 text-blue-400":e.type==="tutorial"?"bg-green-500/10 text-green-400":"bg-purple-500/10 text-purple-400"}`,children:e.type==="documentation"?"Dokumentacja":e.type==="tutorial"?"Tutorial":"Artykuł"}),jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs font-medium
            ${e.difficulty==="beginner"?"bg-green-500/10 text-green-400":e.difficulty==="intermediate"?"bg-yellow-500/10 text-yellow-400":"bg-red-500/10 text-red-400"}`,children:e.difficulty==="beginner"?"Podstawowy":e.difficulty==="intermediate"?"Średni":"Zaawansowany"})]}),jsxRuntimeExports.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-js hover:text-js/80 transition-colors text-sm",children:["Otwórz materiał",jsxRuntimeExports.jsx(FaExternalLinkAlt,{className:"w-3 h-3"})]})]})]}));ResourceCard.displayName="ResourceCard";const containerVariants={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},ResourceSection=reactExports.memo(({title:e,subtitle:s,resources:a,isRecommended:o})=>jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-js mb-1",children:e}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:s})]}),jsxRuntimeExports.jsx(motion.div,{variants:containerVariants,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(r=>jsxRuntimeExports.jsx(ResourceCard,{resource:r,isRecommended:o},r.id))})]}));ResourceSection.displayName="ResourceSection";const fetchResources=async e=>{if(!e)throw new Error("No authentication token found");const s=await fetch(`${API_URL}resources`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!s.ok)throw s.status===401?new Error("Unauthorized - please log in again"):new Error("Failed to fetch resources");return await s.json()},useResources=()=>{const{token:e}=useAuth$1(),{data:s,isLoading:a,error:o,refetch:r}=useQuery({queryKey:["resources"],queryFn:()=>fetchResources(e||""),retry:2,staleTime:1e3*60*5,enabled:!!e}),i=(s==null?void 0:s.resources.filter(n=>n.isRecommended))||[],l=(s==null?void 0:s.resources.filter(n=>!n.isRecommended))||[];return{recommendedResources:i,otherResources:l,isLoading:a,error:o,refetch:r}},Resources=reactExports.memo(()=>{const{recommendedResources:e,otherResources:s,isLoading:a,error:o,refetch:r}=useResources();return o?jsxRuntimeExports.jsx("div",{className:"flex flex-col items-center justify-center py-12",children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl",children:jsxRuntimeExports.jsx(ErrorMessage,{message:"Nie udało się pobrać materiałów. Spróbuj ponownie później.",onRetry:()=>r()})})}):a?jsxRuntimeExports.jsx("div",{className:"flex justify-center py-12",children:jsxRuntimeExports.jsx(LoadingScreen,{})}):!(e!=null&&e.length)&&!(s!=null&&s.length)?jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center py-12 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"relative mb-6",children:[jsxRuntimeExports.jsx(FaBookOpen,{className:"w-20 h-20 text-gray-600 opacity-20"}),jsxRuntimeExports.jsx("div",{className:"absolute -right-2 -bottom-2",children:jsxRuntimeExports.jsx(FaSadTear,{className:"w-8 h-8 text-gray-500"})})]}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-js mb-3",children:"Brak dostępnych materiałów"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm max-w-md",children:"Aktualnie nie ma żadnych dostępnych materiałów. Sprawdź ponownie później lub skontaktuj się z administratorem."}),jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r(),className:"mt-6 px-4 py-2 bg-js/10 text-js border border-js/20 rounded-lg text-sm font-medium hover:bg-js/20 transition-colors",children:"Odśwież materiały"})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[(e==null?void 0:e.length)>0&&jsxRuntimeExports.jsx(ResourceSection,{title:"Polecane materiały",subtitle:"Wyselekcjonowane materiały, które pomogą Ci w nauce",resources:e,isRecommended:!0}),(s==null?void 0:s.length)>0&&jsxRuntimeExports.jsx(ResourceSection,{title:"Wszystkie materiały",subtitle:"Przeglądaj wszystkie dostępne materiały",resources:s})]})});Resources.displayName="Resources";const StatsCard=reactExports.memo(({icon:e,title:s,label:a,value:o})=>jsxRuntimeExports.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[jsxRuntimeExports.jsx(e,{className:"w-5 h-5 text-js"}),jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-200",children:s})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:a}),jsxRuntimeExports.jsx("span",{className:"text-js",children:o})]})]})),StatsSection=reactExports.memo(({stats:e})=>jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsx(StatsCard,{icon:FaGraduationCap,title:"Postęp nauki",label:"Ukończone ścieżki",value:`${e.completedPaths}/${e.totalPaths}`}),jsxRuntimeExports.jsx(StatsCard,{icon:FaChartLine,title:"Punkty XP",label:"Zdobyte punkty",value:`${e.totalPoints} XP`}),jsxRuntimeExports.jsx(StatsCard,{icon:FaClock,title:"W trakcie",label:"Aktywne ścieżki",value:e.pathsInProgress})]})),fetchLearningPaths=async e=>{if(!e)throw new Error("No authentication token found");const s=await fetch(`${API_URL}Learning-paths`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!s.ok)throw s.status===401?new Error("Unauthorized - please log in again"):new Error("Failed to fetch learning paths");return await s.json()},useLearningPaths=()=>{const{token:e}=useAuth$1(),{data:s,isLoading:a,error:o,refetch:r}=useQuery({queryKey:["learningPaths","userProgress"],queryFn:()=>fetchLearningPaths(e||""),staleTime:1e3*60*5,retry:2,refetchOnWindowFocus:!0,refetchOnReconnect:!0,enabled:!!e});return{paths:(s==null?void 0:s.paths)||[],userStats:s==null?void 0:s.userStats,isLoading:a,error:o,refetch:r,isEmpty:!(s!=null&&s.paths)||s.paths.length===0}},EmptyState=reactExports.memo(()=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-js mb-2",children:"Brak dostępnych ścieżek nauki"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Aktualnie nie ma żadnych dostępnych ścieżek nauki. Sprawdź ponownie później."})]})),usePathCardData=e=>{const s=reactExports.useMemo(()=>{var r,i,l,n;return{id:e.id,title:e.title||"Brak tytułu",description:e.description||"Brak opisu",estimatedTime:e.estimatedTime||0,isLocked:e.isLocked,requiredLevel:e.requiredLevel,progress:{completed:Array.isArray((r=e.progress)==null?void 0:r.completed)?e.progress.completed.length:Number((i=e.progress)==null?void 0:i.completed)||0,total:Number((l=e.progress)==null?void 0:l.total)||0,percentage:Number((n=e.progress)==null?void 0:n.percentage)||0},outcomes:Array.isArray(e.outcomes)?e.outcomes.map(x=>String(x)):[],requirements:Array.isArray(e.requirements)?e.requirements.map(x=>String(x)):[]}},[e]),a=reactExports.useMemo(()=>`
    bg-dark-800/50 border rounded-xl p-6 transition-all
    ${s.isLocked?"border-gray-700/50 opacity-75":"border-js/10 hover:border-js/20"}
  `,[s.isLocked]),o=reactExports.useMemo(()=>s.isLocked?{}:{scale:1.02},[s.isLocked]);return{safeData:s,cardStyles:a,hoverAnimation:o}},PathHeader=reactExports.memo(({title:e,isLocked:s,requiredLevel:a})=>jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between gap-4",children:[jsxRuntimeExports.jsx("h3",{className:`text-lg font-bold ${s?"text-gray-400":"text-js"}`,children:e}),s&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm",children:[jsxRuntimeExports.jsx(FaLock,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:["Poziom ",a]})]})]}));PathHeader.displayName="PathHeader";const PathContent=reactExports.memo(({description:e,outcomes:s,requirements:a})=>jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:e}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-js",children:"Czego się nauczysz:"}),jsxRuntimeExports.jsx("ul",{className:"text-sm text-gray-400 list-disc list-inside space-y-1",children:s.map((o,r)=>jsxRuntimeExports.jsx("li",{children:o},r))})]}),a.length>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-js",children:"Wymagania:"}),jsxRuntimeExports.jsx("ul",{className:"text-sm text-gray-400 list-disc list-inside space-y-1",children:a.map((o,r)=>jsxRuntimeExports.jsx("li",{children:o},r))})]})]}));PathContent.displayName="PathContent";const ProgressBar=reactExports.memo(({progress:e})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"relative h-2 bg-dark rounded-full overflow-hidden",children:jsxRuntimeExports.jsx(motion.div,{initial:{width:0},animate:{width:`${e.percentage}%`},className:"absolute inset-y-0 left-0 bg-js rounded-full"})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mt-1",children:[jsxRuntimeExports.jsxs("span",{children:[e.completed,"/",e.total," ukończone"]}),jsxRuntimeExports.jsxs("span",{children:[e.percentage,"%"]})]})]}));ProgressBar.displayName="ProgressBar";const PathFooter=reactExports.memo(({id:e,isLocked:s,estimatedTime:a,progress:o})=>jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-sm",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 text-gray-400",children:[jsxRuntimeExports.jsx(FaClock,{className:"w-4 h-4"}),a," min"]}),!s&&jsxRuntimeExports.jsx(Link,{to:`/dashboard/learn?tab=lessons&pathId=${e}`,className:"text-js hover:text-js/80 transition-colors",children:jsxRuntimeExports.jsx(FaChevronRight,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsx(ProgressBar,{progress:o})]}));PathFooter.displayName="PathFooter";const PathCard=reactExports.memo(({path:e})=>{const{safeData:s,cardStyles:a,hoverAnimation:o}=usePathCardData(e);return jsxRuntimeExports.jsx(motion.div,{whileHover:o,className:a,children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(PathHeader,{title:s.title,isLocked:s.isLocked,requiredLevel:s.requiredLevel}),jsxRuntimeExports.jsx(PathContent,{description:s.description,outcomes:s.outcomes,requirements:s.requirements}),jsxRuntimeExports.jsx(PathFooter,{id:s.id,isLocked:s.isLocked,estimatedTime:s.estimatedTime,progress:s.progress})]})})});PathCard.displayName="PathCard";const LearningPaths=reactExports.memo(()=>{const{paths:e,userStats:s,isLoading:a,error:o,refetch:r,isEmpty:i}=useLearningPaths();return a?jsxRuntimeExports.jsx(LoadingScreen,{}):o?(console.error("Learning paths error:",o),jsxRuntimeExports.jsx(ErrorMessage,{message:"Nie udało się pobrać ścieżek nauki. Spróbuj ponownie później.",onRetry:r})):i?jsxRuntimeExports.jsx(EmptyState,{}):jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsx(StatsSection,{stats:s||{completedPaths:0,totalPaths:0,totalPoints:0,pathsInProgress:0,recentActivity:[]}}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("header",{className:"flex items-center justify-between mb-6",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-js mb-1",children:"Ścieżki nauki"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Wybierz ścieżkę nauki dopasowaną do Twoich potrzeb"})]})}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{staggerChildren:.1},className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.map(l=>jsxRuntimeExports.jsx(PathCard,{path:l},l.id))})]})]})});LearningPaths.displayName="LearningPaths";const tabs=[{id:"paths",label:"Ścieżki nauki",icon:FaGraduationCap},{id:"lessons",label:"Lekcje",icon:FaBook},{id:"resources",label:"Materiały",icon:FaLightbulb}],LearnTabs=reactExports.memo(({activeTab:e,onTabChange:s})=>jsxRuntimeExports.jsx("div",{className:"flex gap-2 flex-wrap",children:tabs.map(a=>jsxRuntimeExports.jsxs(motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>s(a.id),className:`relative flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all
            ${e===a.id?"text-js bg-js/10 border border-js/20":"text-gray-400 hover:text-js/80 border border-transparent"}`,children:[jsxRuntimeExports.jsx(a.icon,{className:"w-4 h-4"}),a.label,e===a.id&&jsxRuntimeExports.jsx(motion.div,{layoutId:"activeTab",className:"absolute inset-0 bg-js/5 rounded-lg -z-10",transition:{type:"spring",bounce:.2,duration:.6}})]},a.id))}));LearnTabs.displayName="LearnTabs";const useAuth=()=>{const[e,s]=reactExports.useState(()=>localStorage.getItem("token")||sessionStorage.getItem("token")),o=JSON.parse(localStorage.getItem("user")||sessionStorage.getItem("user")||"{}").id;return reactExports.useEffect(()=>{const r=()=>{s(localStorage.getItem("token")||sessionStorage.getItem("token"))};return window.addEventListener("storage",r),()=>window.removeEventListener("storage",r)},[]),{token:e,isAuthenticated:!!e,userId:o}},LearnSection=reactExports.memo(()=>{const[e,s]=useSearchParams(),{isAuthenticated:a}=useAuth(),o=e.get("tab")||"paths",r=l=>{s(n=>(l==="paths"?(n.delete("tab"),n.delete("filter")):n.set("tab",l),n))},i={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return a?jsxRuntimeExports.jsx(motion.div,{variants:i,initial:"hidden",animate:"visible",className:"min-h-screen bg-dark/50 backdrop-blur-sm",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[jsxRuntimeExports.jsx(SectionTitle,{title:"Nauka JavaScript",subtitle:"Wybierz swoją ścieżkę nauki i rozpocznij przygodę z JS",className:"mb-8",titleClassName:"text-js drop-shadow-lg",subtitleClassName:"text-gray-400"}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-xl p-6",children:[jsxRuntimeExports.jsx(LearnTabs,{activeTab:o,onTabChange:r}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3,type:"spring",stiffness:200,damping:20},className:"mt-8",children:[o==="paths"&&jsxRuntimeExports.jsx(LearningPaths,{}),o==="lessons"&&jsxRuntimeExports.jsx(Lessons,{}),o==="resources"&&jsxRuntimeExports.jsx(Resources,{})]},o)]})]})}):jsxRuntimeExports.jsx("div",{className:"flex justify-center py-12",children:jsxRuntimeExports.jsx(LoadingScreen,{})})});LearnSection.displayName="LearnSection";const menuItems=[{id:"profile",label:"Profil",icon:FaUser},{id:"security",label:"Bezpieczeństwo",icon:FaLock},{id:"preferences",label:"Preferencje",icon:FaCog},{id:"delete",label:"Usuń konto",icon:FaTrash}],styles$7={container:"bg-dark/30 backdrop-blur-sm rounded-xl border border-js/10 p-4 h-fit shadow-lg",nav:"flex flex-col gap-2",button:e=>`
    flex items-center gap-3 p-3 rounded-lg text-left
    transition-colors duration-200
    ${e?"bg-js/20 text-js":"text-gray-400 hover:text-js hover:bg-js/10"}
  `,icon:"w-5 h-5"},SettingsSidebar=reactExports.memo(({activeView:e,onViewChange:s})=>{const a=reactExports.useCallback(o=>{s(o)},[s]);return jsxRuntimeExports.jsx("div",{className:styles$7.container,children:jsxRuntimeExports.jsx("nav",{className:styles$7.nav,children:menuItems.map(o=>jsxRuntimeExports.jsxs(motion.button,{whileHover:{x:4},whileTap:{scale:.98},onClick:()=>a(o.id),className:styles$7.button(e===o.id),children:[jsxRuntimeExports.jsx(o.icon,{className:styles$7.icon}),o.label]},o.id))})})});SettingsSidebar.displayName="SettingsSidebar";const getAuthHeaders=e=>({Authorization:`Bearer ${e}`,"Content-Type":"application/json"}),fetchUserProfile=async e=>{var o;const s=await fetch(`${API_URL}settings/profile`,{headers:getAuthHeaders(e)});if(!s.ok)throw new Error("Failed to fetch profile");const a=await s.json();return{username:a.username,email:a.email,profile:{bio:((o=a.profile)==null?void 0:o.bio)||""}}},updateUserProfile=async(e,s)=>{const a=await fetch(`${API_URL}settings/profile`,{method:"PUT",headers:getAuthHeaders(s),body:JSON.stringify(e)});if(!a.ok)throw new Error("Failed to update profile");return a.json()},PROFILE_QUERY_KEY=["profile"],useProfile=()=>{var l;const e=useQueryClient(),{token:s}=useAuth$1(),{data:a,isLoading:o,error:r}=useQuery({queryKey:PROFILE_QUERY_KEY,queryFn:()=>fetchUserProfile(s||""),enabled:!!s,staleTime:1e3*60*5}),i=useMutation({mutationFn:n=>updateUserProfile(n,s||""),onSuccess:n=>{e.setQueryData(PROFILE_QUERY_KEY,n),e.invalidateQueries({queryKey:PROFILE_QUERY_KEY})}});return{profile:a,bio:((l=a==null?void 0:a.profile)==null?void 0:l.bio)||"",isLoading:o,error:r,updateProfile:i}},profileSchema=z.object({username:z.string().min(3,"Nazwa użytkownika musi mieć minimum 3 znaki").max(20,"Nazwa użytkownika może mieć maksymalnie 20 znaków"),email:z.string().email("Nieprawidłowy adres email"),profile:z.object({bio:z.string().max(160,"Bio może mieć maksymalnie 160 znaków").optional(),avatar:z.string().optional()})}),useProfileForm=({onSubmit:e,defaultValues:s})=>{var r,i;const a=useForm({resolver:t(profileSchema),defaultValues:{username:(s==null?void 0:s.username)||"",email:(s==null?void 0:s.email)||"",profile:{bio:((r=s==null?void 0:s.profile)==null?void 0:r.bio)||"",avatar:((i=s==null?void 0:s.profile)==null?void 0:i.avatar)||""}}}),o=async l=>{try{await e(l)}catch(n){console.error("Failed to update profile:",n)}};return{form:a,onSubmit:a.handleSubmit(o)}},useProfileFormLogic=e=>{var l;const{updateProfile:s}=useProfile(),a=reactExports.useCallback(async n=>{var x;try{await s.mutateAsync({username:n.username,email:n.email,profile:{bio:((x=n.profile)==null?void 0:x.bio)||""}}),c.success("Profil został zaktualizowany")}catch{c.error("Nie udało się zaktualizować profilu")}},[s]),o={username:(e==null?void 0:e.username)||"",email:(e==null?void 0:e.email)||"",profile:{bio:((l=e==null?void 0:e.profile)==null?void 0:l.bio)||""}},{form:r,onSubmit:i}=useProfileForm({onSubmit:a,defaultValues:o});return{form:r,onSubmit:i}},styles$6={form:`w-full max-w-2xl sm:ml-0 sm:mr-auto 
    space-y-8 px-4 sm:px-0`,usernameContainer:"flex flex-col gap-4",container:`bg-dark/30 backdrop-blur-sm rounded-xl 
    p-4 sm:p-6 md:p-8 border border-js/10 
    space-y-6 md:space-y-8`,header:"flex flex-col md:flex-row gap-6 md:gap-8",infoSection:"w-full md:w-2/3 space-y-6",bioSection:"space-y-4",bioLabel:`block text-gray-400 
    text-sm sm:text-base 
    font-medium`,bioTextarea:`w-full px-4 py-3 rounded-lg 
    bg-dark/50 border border-js/10 
    text-gray-300 placeholder-gray-500
    focus:outline-none focus:ring-2 focus:ring-js/50
    text-sm sm:text-base 
    min-h-[120px] max-h-[240px] 
    resize-y
    transition-colors duration-200`,error:"text-red-500 text-sm mt-1"},UserInfoFields=reactExports.memo(({register:e,errors:s})=>{var a,o;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:styles$6.usernameContainer,children:jsxRuntimeExports.jsx(FormInput,{type:"text",label:"Nazwa użytkownika",placeholder:"Wprowadź nazwę użytkownika",icon:jsxRuntimeExports.jsx(FaUser,{}),error:(a=s.username)==null?void 0:a.message,...e("username")})}),jsxRuntimeExports.jsx(FormInput,{type:"email",label:"Email",placeholder:"Wprowadź adres email",icon:jsxRuntimeExports.jsx(FaEnvelope,{}),error:(o=s.email)==null?void 0:o.message,...e("email")})]})});UserInfoFields.displayName="UserInfoFields";const styles$5={container:"space-y-2",label:"block text-gray-400 text-sm",textarea:`w-full h-32 px-4 py-3 rounded-lg 
    bg-dark/50 border border-js/10
    text-gray-300 placeholder-gray-500
    focus:outline-none focus:ring-2 focus:ring-js/50
    resize-none`,error:"text-red-500 text-sm"},BioField=reactExports.memo(({register:e,errors:s,defaultValue:a})=>{var o;return jsxRuntimeExports.jsxs("div",{className:styles$5.container,children:[jsxRuntimeExports.jsx("label",{className:styles$5.label,children:"Bio"}),jsxRuntimeExports.jsx("textarea",{...e("profile.bio"),className:styles$5.textarea,placeholder:a||"Napisz coś o sobie..."}),((o=s.profile)==null?void 0:o.bio)&&jsxRuntimeExports.jsx("span",{className:styles$5.error,children:s.profile.bio.message})]})});BioField.displayName="BioField";const styles$4={container:`flex flex-col-reverse sm:flex-row justify-end gap-3 sm:gap-4
    w-full sm:w-auto mt-6 sm:mt-8`,cancelButton:`w-full sm:w-auto order-1 sm:order-none
    px-4 sm:px-6 py-2.5 sm:py-3 rounded-lg
    bg-dark/50 text-gray-400
    border border-js/10 hover:border-js/30 hover:bg-dark/60
    disabled:opacity-50 disabled:cursor-not-allowed
    transition-colors duration-200 shadow-none
    text-sm sm:text-base font-medium
  `,submitButton:`w-full sm:w-auto
    px-4 sm:px-6 py-2.5 sm:py-3 rounded-lg
    bg-js text-dark
    hover:bg-js/90
    disabled:opacity-50 disabled:cursor-not-allowed
    transition-colors duration-200
    text-sm sm:text-base font-medium
    flex items-center justify-center
  `},FormButtons=reactExports.memo(({onCancel:e,isSubmitting:s,submitText:a="Zapisz zmiany",loadingText:o="Zapisywanie"})=>jsxRuntimeExports.jsxs("div",{className:styles$4.container,children:[jsxRuntimeExports.jsx(Button,{type:"button",onClick:e,className:styles$4.cancelButton,disabled:s,children:"Anuluj zmiany"}),jsxRuntimeExports.jsx(Button,{type:"submit",disabled:s,className:styles$4.submitButton,children:s?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2 min-w-[100px]",children:[jsxRuntimeExports.jsx("div",{className:"w-4 h-4 border-2 border-dark border-t-transparent rounded-full animate-spin"}),jsxRuntimeExports.jsx("span",{className:"text-sm sm:text-base whitespace-nowrap",children:o})]}):jsxRuntimeExports.jsx("span",{className:"text-sm sm:text-base whitespace-nowrap",children:a})})]}));FormButtons.displayName="FormButtons";const ProfileFormContent=reactExports.memo(({handleCancel:e,register:s,errors:a,defaultBio:o,isSubmitting:r,isPending:i,onSubmit:l})=>jsxRuntimeExports.jsxs(motion.form,{onSubmit:l,className:styles$6.form,initial:{opacity:0},animate:{opacity:1},children:[jsxRuntimeExports.jsx("div",{className:styles$6.container,children:jsxRuntimeExports.jsx("div",{className:styles$6.header,children:jsxRuntimeExports.jsxs("div",{className:styles$6.infoSection,children:[jsxRuntimeExports.jsx(UserInfoFields,{register:s,errors:a}),jsxRuntimeExports.jsx(BioField,{register:s,errors:a,defaultValue:o})]})})}),jsxRuntimeExports.jsx(FormButtons,{onCancel:e,isSubmitting:r||i,submitText:"Zapisz profil",loadingText:"Zapisywanie"})]})),ProfileForm=reactExports.memo(()=>{var j;const{profile:e,isLoading:s,updateProfile:a}=useProfile(),{form:o,onSubmit:r}=useProfileFormLogic(e||null),i=useQueryClient(),{register:l,formState:{errors:n,isSubmitting:x},reset:d,setValue:m}=o;reactExports.useEffect(()=>{var g;e&&(m("username",e.username),m("email",e.email),m("profile.bio",((g=e.profile)==null?void 0:g.bio)||""))},[e,m]);const p=reactExports.useCallback(()=>{try{e&&(d(e),c.success("Zmiany zostały anulowane"))}catch{c.error("Nie udało się anulować zmian")}},[e,d]),u=async g=>{try{await r(g),await i.invalidateQueries({queryKey:["userProfile"]})}catch{c.error("Wystąpił błąd podczas aktualizacji profilu")}};return s?jsxRuntimeExports.jsx(LoadingScreen,{}):jsxRuntimeExports.jsx(ProfileFormContent,{handleCancel:p,register:l,errors:n,defaultBio:(j=e==null?void 0:e.profile)==null?void 0:j.bio,isSubmitting:x,isPending:a.isPending,onSubmit:u})});ProfileForm.displayName="ProfileForm";const PasswordFields=reactExports.memo(({form:e,errors:s})=>{var o,r,i;const{register:a}=e;return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(FormInput,{type:"password",label:"Aktualne hasło",placeholder:"Wprowadź aktualne hasło",icon:jsxRuntimeExports.jsx(FaLock,{}),error:(o=s.currentPassword)==null?void 0:o.message,...a("currentPassword")}),jsxRuntimeExports.jsx(FormInput,{type:"password",label:"Nowe hasło",placeholder:"Wprowadź nowe hasło",icon:jsxRuntimeExports.jsx(FaLock,{}),error:(r=s.newPassword)==null?void 0:r.message,...a("newPassword")}),jsxRuntimeExports.jsx(FormInput,{type:"password",label:"Powtórz nowe hasło",placeholder:"Powtórz nowe hasło",icon:jsxRuntimeExports.jsx(FaLock,{}),error:(i=s.confirmPassword)==null?void 0:i.message,...a("confirmPassword")})]})});PasswordFields.displayName="PasswordFields";const securitySchema=z.object({currentPassword:z.string().min(1,"Aktualne hasło jest wymagane").min(8,"Hasło musi mieć minimum 8 znaków"),newPassword:z.string().min(1,"Nowe hasło jest wymagane").min(8,"Nowe hasło musi mieć minimum 8 znaków").regex(/[A-Z]/,"Hasło musi zawierać wielką literę").regex(/[0-9]/,"Hasło musi zawierać cyfrę"),confirmPassword:z.string().min(1,"Potwierdzenie hasła jest wymagane")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Hasła muszą być takie same",path:["confirmPassword"]});class SecurityError extends Error{constructor(s,a){super(a),this.code=s,this.name="SecurityError"}}const updatePassword=async(e,s)=>{const a=await fetch(`${API_URL}settings/security/password`,{method:"PUT",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw(await a.json()).code==="INVALID_CURRENT_PASSWORD"?new SecurityError("INVALID_CURRENT_PASSWORD","Aktualne hasło jest nieprawidłowe"):new SecurityError("UNKNOWN_ERROR","Wystąpił błąd podczas zmiany hasła")},useSecurityForm=({onSuccess:e,onError:s}={})=>{const{token:a}=useAuth$1(),o=useForm({resolver:t(securitySchema),mode:"onSubmit",reValidateMode:"onSubmit",defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),r=useMutation({mutationFn:i=>updatePassword({currentPassword:i.currentPassword,newPassword:i.newPassword},a||""),onSuccess:()=>{o.reset(),e==null||e()},onError:s});return{form:o,onSubmit:o.handleSubmit(i=>r.mutateAsync(i)),isUpdating:r.isPending}},useSecurityToasts=()=>{const e=reactExports.useCallback(()=>{c.success("Hasło zostało zmienione")},[]),s=reactExports.useCallback(r=>{if(r instanceof SecurityError)switch(r.code){case"INVALID_CURRENT_PASSWORD":c.error("Aktualne hasło jest nieprawidłowe");return}c.error("Wystąpił błąd podczas zmiany hasła")},[]),a=reactExports.useCallback(()=>{c.success("Zmiany zostały anulowane")},[]),o=reactExports.useCallback(()=>{c.error("Nie udało się anulować zmian")},[]);return{handleSuccess:e,handleError:s,handleCancel:a,handleCancelError:o}},FORM_ANIMATION={initial:{opacity:0},animate:{opacity:1}},SecurityForm=reactExports.memo(()=>{const{handleSuccess:e,handleError:s,handleCancel:a,handleCancelError:o}=useSecurityToasts(),{form:r,onSubmit:i,isUpdating:l}=useSecurityForm({onSuccess:()=>{e(),r.reset()},onError:s}),{formState:{errors:n,isSubmitting:x},reset:d}=r,m=reactExports.useCallback(()=>{try{d(),a()}catch{o()}},[d,a,o]);return jsxRuntimeExports.jsxs(motion.form,{onSubmit:i,className:"w-full max-w-md sm:ml-0 sm:mr-auto space-y-8 px-4 sm:px-0",...FORM_ANIMATION,children:[jsxRuntimeExports.jsx(PasswordFields,{form:r,errors:n}),jsxRuntimeExports.jsx(FormButtons,{onCancel:m,isSubmitting:x||l,submitText:"Zmień hasło",loadingText:"Zmienianie hasła"})]})});SecurityForm.displayName="SecurityForm";const preferencesSchema=z.object({emailNotifications:z.boolean(),pushNotifications:z.boolean(),language:z.literal("pl")}),usePreferencesForm=({onSubmit:e,defaultValues:s})=>{const a=useForm({resolver:t(preferencesSchema),defaultValues:s||{emailNotifications:!1,pushNotifications:!1,language:"pl"}}),o=a.handleSubmit(async r=>{try{await e(r)}catch(i){console.error("Failed to update preferences:",i)}});return{form:a,onSubmit:o}};class PreferencesError extends Error{constructor(s,a){super(a),this.code=s,this.name="PreferencesError"}}const fetchPreferences=async e=>{const s=await fetch(`${API_URL}settings/preferences`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!s.ok)throw new Error("Failed to fetch preferences");const a=await s.json();return{emailNotifications:a.emailNotifications??!1,pushNotifications:a.pushNotifications??!1,language:"pl"}},updatePreferences=async(e,s)=>{const a=await fetch(`${API_URL}settings/preferences`,{method:"PUT",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok){const r=await a.json();throw r.code==="VALIDATION_ERROR"?new PreferencesError("VALIDATION_ERROR","Nieprawidłowe dane preferencji"):r.code==="SAVE_ERROR"?new PreferencesError("SAVE_ERROR","Nie udało się zapisać preferencji"):new PreferencesError("UNKNOWN_ERROR","Wystąpił błąd podczas aktualizacji preferencji")}const o=await a.json();return{emailNotifications:o.emailNotifications,pushNotifications:o.pushNotifications,language:"pl"}},usePreferences=()=>{const{token:e}=useAuth$1(),s=useQueryClient(),{data:a,isLoading:o}=useQuery({queryKey:["preferences"],queryFn:()=>fetchPreferences(e||""),enabled:!!e}),r=useMutation({mutationFn:i=>updatePreferences(i,e||""),onSuccess:()=>{s.invalidateQueries({queryKey:["preferences"]})}});return{preferences:a,isLoading:o,updatePreferences:r}},usePreferencesFormLogic=()=>{const{preferences:e,isLoading:s,updatePreferences:a}=usePreferences(),{form:o,onSubmit:r}=usePreferencesForm({onSubmit:async p=>{try{await a.mutateAsync({emailNotifications:p.emailNotifications,pushNotifications:p.pushNotifications,language:"pl"}),c.success("Preferencje zostały zaktualizowane")}catch{c.error("Nie udało się zaktualizować preferencji")}}}),{register:i,formState:{isSubmitting:l},setValue:n,watch:x}=o,d=x();return reactExports.useEffect(()=>{e&&(n("emailNotifications",e.emailNotifications),n("pushNotifications",e.pushNotifications),n("language","pl"))},[e,n]),{isLoading:s,register:i,formValues:d,isSubmitting:l,updatePreferences:a,handleCancel:()=>{try{e&&(n("emailNotifications",e.emailNotifications),n("pushNotifications",e.pushNotifications),n("language","pl"),c.success("Zmiany zostały anulowane"))}catch{c.error("Nie udało się anulować zmian")}},onSubmit:r,setValue:n}},styles$3={section:"space-y-4",title:"text-lg sm:text-xl font-medium text-gray-200 flex items-center gap-2",icon:"text-js text-xl sm:text-2xl",optionsContainer:"space-y-4 ml-4 sm:ml-8",optionLabel:`flex items-start sm:items-center gap-3 hover:cursor-pointer group
    transition-colors duration-200`,checkbox:`w-5 h-5 rounded border-gray-600 bg-gray-700 text-js 
    focus:ring-js/50 mt-1 sm:mt-0`,optionText:"group-hover:text-js transition-colors duration-200",optionTitle:"block text-gray-200 text-base sm:text-lg",optionDescription:"block text-sm text-gray-400 mt-1"},NotificationsSection=reactExports.memo(({register:e,values:s,onChange:a})=>jsxRuntimeExports.jsxs("div",{className:styles$3.section,children:[jsxRuntimeExports.jsxs("h3",{className:styles$3.title,children:[jsxRuntimeExports.jsx(FaBell,{className:styles$3.icon}),"Powiadomienia"]}),jsxRuntimeExports.jsx("div",{className:styles$3.optionsContainer,children:jsxRuntimeExports.jsxs("label",{className:styles$3.optionLabel,children:[jsxRuntimeExports.jsx("input",{type:"checkbox",...e("emailNotifications"),checked:s.emailNotifications,onChange:o=>a("emailNotifications",o.target.checked),className:styles$3.checkbox}),jsxRuntimeExports.jsxs("div",{className:styles$3.optionText,children:[jsxRuntimeExports.jsx("span",{className:styles$3.optionTitle,children:"Powiadomienia email"}),jsxRuntimeExports.jsx("span",{className:styles$3.optionDescription,children:"Otrzymuj powiadomienia na email"})]})]})})]}));NotificationsSection.displayName="NotificationsSection";const styles$2={section:"space-y-4",title:"text-lg sm:text-xl font-medium text-gray-200 flex items-center gap-2",icon:"text-js text-xl sm:text-2xl",container:"ml-4 sm:ml-8",select:`w-full max-w-xs px-4 py-3 rounded-lg 
    bg-dark/50 border border-js/10 
    text-gray-300 text-base sm:text-lg
    focus:ring-2 focus:ring-js/50 focus:border-transparent 
    transition-colors`},LanguageSection=reactExports.memo(({register:e})=>jsxRuntimeExports.jsxs("div",{className:styles$2.section,children:[jsxRuntimeExports.jsxs("h3",{className:styles$2.title,children:[jsxRuntimeExports.jsx(FaGlobe,{className:styles$2.icon}),"Język"]}),jsxRuntimeExports.jsx("div",{className:styles$2.container,children:jsxRuntimeExports.jsx("select",{...e("language"),className:styles$2.select,children:jsxRuntimeExports.jsx("option",{value:"pl",children:"Polski"})})})]}));LanguageSection.displayName="LanguageSection";const PreferencesFormContent=reactExports.memo(({register:e,formValues:s,setValue:a,onSubmit:o,onCancel:r,isSubmitting:i,isPending:l})=>jsxRuntimeExports.jsxs(motion.form,{onSubmit:o,className:"w-full max-w-2xl sm:ml-0 sm:mr-auto space-y-8 px-4 sm:px-0",initial:{opacity:0},animate:{opacity:1},children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark/30 backdrop-blur-sm rounded-xl p-4 sm:p-6 md:p-8 border border-js/10 space-y-6",children:[jsxRuntimeExports.jsx(NotificationsSection,{register:e,values:s,onChange:(n,x)=>a(n,x)}),jsxRuntimeExports.jsx("div",{className:"w-full h-px bg-js/10"}),jsxRuntimeExports.jsx(LanguageSection,{register:e})]}),jsxRuntimeExports.jsx(FormButtons,{onCancel:r,isSubmitting:i||l,submitText:"Zapisz preferencje",loadingText:"Zapisywanie"})]}));PreferencesFormContent.displayName="PreferencesFormContent";const PreferencesForm=reactExports.memo(()=>{const{isLoading:e,register:s,formValues:a,isSubmitting:o,updatePreferences:r,handleCancel:i,onSubmit:l,setValue:n}=usePreferencesFormLogic();return e?jsxRuntimeExports.jsx(LoadingScreen,{}):jsxRuntimeExports.jsx(PreferencesFormContent,{register:s,formValues:a,setValue:n,onSubmit:l,onCancel:i,isSubmitting:o,isPending:r.isPending})});PreferencesForm.displayName="PreferencesForm";const useConfirmationState=()=>{const[e,s]=reactExports.useState(!1),a=reactExports.useCallback(()=>{s(!0)},[]),o=reactExports.useCallback(()=>{s(!1)},[]);return{showConfirmation:e,handleShowConfirmation:a,handleHideConfirmation:o}};class AccountError extends Error{constructor(s,a){super(a),this.code=s,this.name="AccountError"}}const deleteAccount=async(e,s)=>{const a=await fetch(`${API_URL}settings/account`,{method:"DELETE",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok){const o=await a.json();throw o.code==="INVALID_PASSWORD"?new AccountError("INVALID_PASSWORD","Podane hasło jest nieprawidłowe"):o.code==="INVALID_CONFIRMATION"?new AccountError("INVALID_CONFIRMATION","Nieprawidłowe potwierdzenie"):new AccountError("UNKNOWN_ERROR","Wystąpił błąd podczas usuwania konta")}},deleteAccountSchema=z.object({password:z.string().min(1,"Hasło jest wymagane"),confirmation:z.string().refine(e=>e==="USUŃ KONTO",{message:"Wpisz dokładnie 'USUŃ KONTO' aby potwierdzić"})}),useDeleteAccountForm=({onSuccess:e,onError:s}={})=>{const a=useForm({resolver:t(deleteAccountSchema)}),{token:o}=useAuth$1(),r=useMutation({mutationFn:l=>deleteAccount(l,o||""),onSuccess:()=>{a.reset(),e==null||e(),window.location.href="/logowanie"},onError:s}),i=a.handleSubmit(async l=>{await r.mutateAsync(l)});return{form:a,onSubmit:i,isDeleting:r.isPending}},useAccountDeletion=e=>{const s=reactExports.useCallback(()=>{c.success("Konto zostało usunięte")},[]),a=reactExports.useCallback(n=>{if(n instanceof AccountError)switch(n.code){case"INVALID_PASSWORD":c.error("Podane hasło jest nieprawidłowe");return;case"INVALID_CONFIRMATION":c.error("Nieprawidłowe potwierdzenie");return}c.error("Nie udało się usunąć konta")},[]),o=reactExports.useCallback(()=>{try{e(),c.success("Operacja została anulowana")}catch{c.error("Nie udało się anulować operacji")}},[e]),{form:r,onSubmit:i,isDeleting:l}=useDeleteAccountForm({onSuccess:s,onError:a});return{form:r,onSubmit:i,isDeleting:l,handleCancel:o}},warningItems=["Wszystkie twoje dane zostaną usunięte","Stracisz dostęp do wszystkich kursów","Twoje postępy w nauce zostaną utracone","Nie będzie możliwości przywrócenia konta"],styles$1={container:`
    bg-red-500/10 border border-red-500/20 rounded-lg p-4 sm:p-6 mb-6
    backdrop-blur-sm
  `,content:"flex flex-col sm:flex-row items-start gap-4",icon:"text-red-500 text-xl sm:text-2xl mt-1 flex-shrink-0",title:"text-red-400 font-medium text-lg sm:text-xl mb-2",list:`
    text-gray-400 space-y-2 list-disc list-inside
    text-sm sm:text-base leading-relaxed
  `},WarningBox=reactExports.memo(()=>jsxRuntimeExports.jsx("div",{className:styles$1.container,children:jsxRuntimeExports.jsxs("div",{className:styles$1.content,children:[jsxRuntimeExports.jsx(FaExclamationTriangle,{className:styles$1.icon,"data-testid":"warning-icon"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:styles$1.title,children:"Usuwanie konta jest nieodwracalne"}),jsxRuntimeExports.jsx("ul",{className:styles$1.list,children:warningItems.map((e,s)=>jsxRuntimeExports.jsx("li",{children:e},s))})]})]})}));WarningBox.displayName="WarningBox";const InitialWarning=reactExports.memo(({onConfirm:e})=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full max-w-md sm:ml-0 sm:mr-auto px-4 sm:px-0",children:[jsxRuntimeExports.jsx(WarningBox,{}),jsxRuntimeExports.jsx(Button,{type:"button",onClick:e,className:`w-full px-6 py-3 rounded-lg bg-red-500/20 text-red-400 \r
        hover:bg-red-500/30 transition-colors duration-200 shadow-none\r
        text-base sm:text-lg font-medium`,children:"Chcę usunąć konto"})]}));InitialWarning.displayName="InitialWarning";const styles={form:"space-y-6",confirmationField:"space-y-2",label:"block text-gray-400 text-sm sm:text-base",hint:"text-sm text-gray-500",input:`w-full px-4 py-3 rounded-lg 
    bg-dark/50 border border-js/10 
    text-gray-300 placeholder-gray-500
    focus:outline-none focus:ring-2 focus:ring-js/50
    text-base sm:text-lg
  `,error:"text-red-500 text-sm",buttons:"flex flex-col sm:flex-row justify-end gap-3 sm:gap-4 mt-8",submitButton:`w-full sm:w-auto order-2 sm:order-1
    px-4 sm:px-6 py-3 rounded-lg
    bg-red-500/20 text-red-400 
    hover:bg-red-500/30
    transition-colors duration-200 shadow-none
    text-sm sm:text-base font-medium
    disabled:opacity-50 disabled:cursor-not-allowed
    whitespace-nowrap
  `,cancelButton:`w-full sm:w-auto order-1 sm:order-2
    px-4 sm:px-6 py-3 rounded-lg
    bg-dark/50 text-gray-400
    border border-js/10
    hover:text-js hover:border-js/30
    hover:bg-dark/60
    transition-colors duration-200 shadow-none
    text-sm sm:text-base
    disabled:opacity-50 disabled:cursor-not-allowed
    whitespace-nowrap
  `},ConfirmationForm=reactExports.memo(({register:e,errors:s,isSubmitting:a,onCancel:o,onSubmit:r})=>{var i;return jsxRuntimeExports.jsxs(motion.form,{initial:{opacity:0},animate:{opacity:1},className:styles.form,onSubmit:r,children:[jsxRuntimeExports.jsx(FormInput,{id:"password",type:"password",label:"Hasło",placeholder:"Wprowadź hasło aby potwierdzić",icon:jsxRuntimeExports.jsx(FaLock,{}),error:(i=s.password)==null?void 0:i.message,...e("password")}),jsxRuntimeExports.jsxs("div",{className:styles.confirmationField,children:[jsxRuntimeExports.jsx("label",{htmlFor:"confirmation",className:styles.label,children:"Potwierdzenie"}),jsxRuntimeExports.jsx("p",{className:styles.hint,children:'Wpisz "USUŃ KONTO" aby potwierdzić'}),jsxRuntimeExports.jsx("input",{id:"confirmation",type:"text",...e("confirmation"),className:styles.input}),s.confirmation&&jsxRuntimeExports.jsx("p",{className:styles.error,children:s.confirmation.message})]}),jsxRuntimeExports.jsxs("div",{className:styles.buttons,children:[jsxRuntimeExports.jsx(Button,{type:"submit",disabled:a,className:styles.submitButton,children:a?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-4 h-4 border-2 border-dark border-t-transparent rounded-full animate-spin"}),jsxRuntimeExports.jsx("span",{children:"Usuwanie"})]}):"Definitywnie usuń konto"}),jsxRuntimeExports.jsx(Button,{type:"button",onClick:o,disabled:a,className:styles.cancelButton,children:"Anuluj"})]})]})});ConfirmationForm.displayName="ConfirmationForm";const DeleteAccountForm=reactExports.memo(()=>{const{showConfirmation:e,handleShowConfirmation:s,handleHideConfirmation:a}=useConfirmationState(),{form:o,onSubmit:r,isDeleting:i,handleCancel:l}=useAccountDeletion(a);return e?jsxRuntimeExports.jsx(ConfirmationForm,{register:o.register,errors:o.formState.errors,isSubmitting:i,onCancel:l,onSubmit:r}):jsxRuntimeExports.jsx(InitialWarning,{onConfirm:s})});DeleteAccountForm.displayName="DeleteAccountForm";const SettingsContent=reactExports.memo(({activeView:e})=>jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"bg-dark/30 backdrop-blur-sm rounded-xl p-6 border border-js/10 shadow-lg",children:[jsxRuntimeExports.jsxs("h2",{className:"text-2xl font-bold font-space text-js mb-6",children:[e==="profile"&&"Edytuj Profil",e==="security"&&"Bezpieczeństwo",e==="preferences"&&"Preferencje",e==="delete"&&"Usuń Konto"]}),e==="profile"&&jsxRuntimeExports.jsx(ProfileForm,{}),e==="security"&&jsxRuntimeExports.jsx(SecurityForm,{}),e==="preferences"&&jsxRuntimeExports.jsx(PreferencesForm,{}),e==="delete"&&jsxRuntimeExports.jsx(DeleteAccountForm,{})]},e)}));SettingsContent.displayName="SettingsContent";const SettingsSection=reactExports.memo(()=>{const[e,s]=reactExports.useState("profile");return jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col h-full p-6 gap-6",children:[jsxRuntimeExports.jsx(motion.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},className:"flex items-center justify-between",children:jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold font-space text-js",children:"Ustawienia"})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsx(SettingsSidebar,{activeView:e,onViewChange:s}),jsxRuntimeExports.jsx("div",{className:"lg:col-span-3",children:jsxRuntimeExports.jsx(SettingsContent,{activeView:e})})]})]})});SettingsSection.displayName="SettingsSection";const GamesHeader=reactExports.memo(()=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx(motion.div,{whileHover:{scale:1.1,rotate:15},className:"p-3 rounded-xl bg-gradient-to-br from-js/20 to-js/20",children:jsxRuntimeExports.jsx(FaGamepad,{className:"w-8 h-8 text-js"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold font-space text-transparent bg-clip-text bg-gradient-to-r from-js to-js",children:"Gry JavaScript"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mt-1",children:"Ucz się JavaScriptu poprzez zabawę i wyzwania"})]})]})}));GamesHeader.displayName="GamesHeader";const GamesListSkeleton=reactExports.memo(()=>jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(e=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:e*.1},className:"bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-xl border border-gray-700/50 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"aspect-video bg-gray-800/50 animate-pulse"}),jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"h-6 bg-gray-800/50 rounded animate-pulse w-3/4"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-800/50 rounded animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-800/50 rounded animate-pulse w-4/5"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("div",{className:"h-4 w-16 bg-gray-800/50 rounded animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"h-4 w-16 bg-gray-800/50 rounded animate-pulse"})]}),jsxRuntimeExports.jsx("div",{className:"h-8 w-24 bg-gray-800/50 rounded animate-pulse"})]})]})]},e))}));GamesListSkeleton.displayName="GamesListSkeleton";const NoGamesFound=reactExports.memo(({query:e})=>{const a=e?{title:"Brak wyników wyszukiwania",description:`Nie znaleziono gier dla zapytania "${e}"`,icon:FaSearch}:{title:"Brak gier w tej kategorii",description:"Spróbuj wybrać inną kategorię lub wróć później",icon:FaSadTear};return jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex flex-col items-center justify-center py-16",children:[jsxRuntimeExports.jsx(motion.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",bounce:.4},className:"w-20 h-20 mb-6 rounded-full bg-js/10 flex items-center justify-center",children:jsxRuntimeExports.jsx(a.icon,{className:"w-10 h-10 text-js"})}),jsxRuntimeExports.jsx(motion.h3,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-2xl font-bold text-js mb-2 text-center",children:a.title}),jsxRuntimeExports.jsx(motion.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-gray-400 text-center max-w-md",children:a.description})]})});NoGamesFound.displayName="NoGamesFound";const GameCard=reactExports.memo(({game:e})=>{const s=useNavigate(),a=()=>{s(`/dashboard/play/${e.slug}`)};return jsxRuntimeExports.jsxs(motion.div,{whileHover:{scale:1.02},className:"group bg-dark-800/50 border border-js/10 rounded-xl overflow-hidden hover:border-js/20 transition-all",children:[jsxRuntimeExports.jsxs("div",{className:"relative aspect-video",children:[jsxRuntimeExports.jsx("div",{className:"w-full h-full bg-gradient-to-br from-js/5 to-js/20 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"bg-js/10 px-4 py-2 rounded-lg border border-js/20",children:jsxRuntimeExports.jsx("span",{className:"font-mono text-js/80 font-medium",children:e.slug})})}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-dark/90 to-transparent"}),jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:a,className:"absolute inset-0 m-auto w-12 h-12 bg-js text-dark rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:jsxRuntimeExports.jsx(FaPlay,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-js line-clamp-1",children:e.title}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 text-js bg-js/10 px-2 py-0.5 rounded-lg text-sm",children:[jsxRuntimeExports.jsx(FaTrophy,{className:"w-3.5 h-3.5"}),e.rewardPoints]})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm mb-4 line-clamp-2",children:e.description}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-gray-400",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(FaUsers,{className:"w-4 h-4"}),e.completions.count]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(FaStar,{className:"w-4 h-4"}),e.rating.average.toFixed(1)]})]}),jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs font-medium
            ${e.difficulty==="easy"?"bg-green-500/10 text-green-400":e.difficulty==="medium"?"bg-yellow-500/10 text-yellow-400":"bg-red-500/10 text-red-400"}`,children:e.difficulty==="easy"?"Łatwy":e.difficulty==="medium"?"Średni":"Trudny"})]})]})]})});GameCard.displayName="GameCard";const fetchGames=async e=>{const s=await fetch(`${API_URL}games`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!s.ok)throw new Error("Nie udało się pobrać gier");return s.json()},useGamesQuery=()=>{const{token:e}=useAuth$1();return useQuery({queryKey:["games"],queryFn:()=>fetchGames(e||""),select:s=>({games:s.data.games,pagination:s.data.pagination}),staleTime:5*60*1e3})},GamesList=reactExports.memo(({sortBy:e,searchQuery:s,selectedDifficulty:a})=>{const{data:o,isLoading:r,isError:i}=useGamesQuery();if(r)return jsxRuntimeExports.jsx(GamesListSkeleton,{});if(i)return jsxRuntimeExports.jsx("div",{className:"text-center py-8",children:jsxRuntimeExports.jsx("p",{className:"text-red-400",children:"Wystąpił błąd podczas ładowania gier. Spróbuj ponownie później."})});if(!(o!=null&&o.games))return null;const l=o.games.filter(n=>(a==="all"||n.difficulty===a)&&(n.title.toLowerCase().includes(s.toLowerCase())||n.description.toLowerCase().includes(s.toLowerCase()))).sort((n,x)=>{switch(e){case"newest":return new Date(x.createdAt).getTime()-new Date(n.createdAt).getTime();case"popular":return x.completions.count-n.completions.count;case"difficulty":return x.difficulty.localeCompare(n.difficulty);case"xp":return x.rewardPoints-n.rewardPoints;default:return 0}});return l.length?jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"w-full grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4 gap-4 sm:gap-6",children:l.map(n=>{const x={_id:n._id,id:n._id,slug:n.slug,title:n.title,description:n.description,difficulty:n.difficulty,category:"game",isCompleted:!1,rating:{average:0,count:0},completions:n.completions,completedCount:n.completions.count,totalPlayers:0,thumbnailUrl:"",rewardPoints:n.rewardPoints,xpPoints:n.rewardPoints};return jsxRuntimeExports.jsx(GameCard,{game:x},x._id)})}):jsxRuntimeExports.jsx(NoGamesFound,{query:s})});GamesList.displayName="GamesList";const sortOptions=[{id:"newest",label:"Najnowsze",icon:FaClock},{id:"popular",label:"Popularne",icon:FaFire},{id:"difficulty",label:"Trudność",icon:FaStar},{id:"xp",label:"Punkty XP",icon:FaTrophy}],GamesSorting=reactExports.memo(({activeSortOption:e,onSortChange:s})=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 lg:ml-auto",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-400 text-sm",children:"Sortuj:"}),jsxRuntimeExports.jsx("div",{className:"flex gap-2 flex-wrap",children:sortOptions.map(a=>{const o=a.icon;return jsxRuntimeExports.jsxs(motion.button,{onClick:()=>s(a.id),whileHover:{scale:1.02},whileTap:{scale:.98},className:`
                flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium
                transition-all duration-200
                ${e===a.id?"text-js bg-js/10 border border-js/20":"text-gray-400 hover:text-js/80 border border-transparent"}
              `,children:[jsxRuntimeExports.jsx(o,{className:"w-4 h-4"}),a.label]},a.id)})})]}));GamesSorting.displayName="GamesSorting";const GamesSearch=reactExports.memo(({value:e,onChange:s})=>{const a=reactExports.useCallback(o=>{s(o.target.value)},[s]);return jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},className:"relative",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",value:e,onChange:a,placeholder:"Szukaj gry...",className:`\r
            w-full pl-10 pr-4 py-1.5 \r
            bg-dark-800/50 border border-js/10\r
            rounded-lg text-sm text-gray-200\r
            placeholder-gray-400\r
            focus:outline-none focus:border-js/30\r
            transition-colors duration-200\r
          `}),jsxRuntimeExports.jsx(FaSearch,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-js/50"})]}),jsxRuntimeExports.jsx(motion.div,{initial:!1,animate:{width:e?"100%":"0%",opacity:e?1:0},className:"absolute bottom-0 left-0 h-0.5 bg-js/20 rounded-full"})]})});GamesSearch.displayName="GamesSearch";const difficulties=[{value:"all",label:"Wszystkie"},{value:"easy",label:"Łatwe",color:"text-emerald-400"},{value:"medium",label:"Średnie",color:"text-indigo-400"},{value:"hard",label:"Trudne",color:"text-rose-400"}],GamesDifficulty=reactExports.memo(({selectedDifficulty:e,onDifficultyChange:s})=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center gap-4 flex-wrap",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-400 text-sm",children:"Poziom:"}),jsxRuntimeExports.jsx("div",{className:"flex gap-3 flex-wrap",children:difficulties.map(a=>jsxRuntimeExports.jsxs(motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(a.value),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm transition-all relative
              ${e===a.value?`text-${a.color||"gray-200"}`:"text-gray-400 hover:text-gray-300"}`,children:[e===a.value&&jsxRuntimeExports.jsx(motion.div,{layoutId:"difficulty-background",className:`absolute inset-0 bg-gray-800/50 border rounded-lg -z-10 border-${a.color||"gray-400"}`,transition:{type:"spring",bounce:.2,duration:.6}}),jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsx(motion.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{duration:.2},children:e===a.value?jsxRuntimeExports.jsx(FaCircle,{className:`w-3 h-3 ${a.color||"text-gray-400"}`}):jsxRuntimeExports.jsx(FaRegCircle,{className:"w-3 h-3"})},e===a.value?"circle":"circle-outline")}),a.label]},a.value))})]}));GamesDifficulty.displayName="GamesDifficulty";const GamesSection=reactExports.memo(()=>{const[e,s]=reactExports.useState("newest"),[a,o]=reactExports.useState(""),[r,i]=reactExports.useState("all");return jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"w-full m-0 min-h-screen bg-dark/50 backdrop-blur-sm",children:jsxRuntimeExports.jsxs("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[jsxRuntimeExports.jsx(GamesHeader,{}),jsxRuntimeExports.jsxs("div",{className:"mt-8 bg-dark-800/50 border border-js/10 rounded-xl p-4 sm:p-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-full sm:w-72",children:jsxRuntimeExports.jsx(GamesSearch,{value:a,onChange:o})}),jsxRuntimeExports.jsx(GamesSorting,{activeSortOption:e,onSortChange:s})]}),jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx(GamesDifficulty,{selectedDifficulty:r,onDifficultyChange:i})})]}),jsxRuntimeExports.jsx("div",{className:"mt-6",children:jsxRuntimeExports.jsx(GamesList,{sortBy:e,searchQuery:a,selectedDifficulty:r})})]})]})})});GamesSection.displayName="GamesSection";const EditorComponent=({code:e,onChange:s,onMount:a,isEditorReady:o})=>jsxRuntimeExports.jsxs("div",{className:"h-[calc(100%-4rem)] rounded overflow-hidden relative",children:[!o&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-dark/50",children:jsxRuntimeExports.jsx(FaSpinner,{className:"w-8 h-8 text-js animate-spin"})}),jsxRuntimeExports.jsx(de,{theme:"vs-dark",language:"javascript",height:"100%",defaultLanguage:"javascript",value:e,onChange:s,onMount:a})]}),ConsoleOutput=reactExports.memo(({output:e,onClear:s,isExecuting:a})=>jsxRuntimeExports.jsxs("div",{className:"h-[calc(100%-4rem)] bg-[#1e1e1e] rounded-lg overflow-hidden flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-dark/30 border-b border-js/10",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-400",children:a?"Wykonywanie...":"Gotowe"}),jsxRuntimeExports.jsx("button",{onClick:s,className:"p-1.5 text-gray-400 hover:text-js transition-colors",title:"Wyczyść konsolę",children:jsxRuntimeExports.jsx(FaTrash,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 p-4 font-mono text-sm overflow-auto",children:e.map((o,r)=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-gray-300 mb-1",children:o},r))})]}));ConsoleOutput.displayName="ConsoleOutput";const ConsoleComponent=({output:e,isExecuting:s,onClear:a,onRun:o})=>jsxRuntimeExports.jsxs("div",{className:"bg-dark/50 rounded-lg p-4 border border-js/10",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-js",children:"Konsola"}),jsxRuntimeExports.jsx("button",{onClick:o,disabled:s,className:"px-4 py-2 bg-js text-dark font-medium rounded hover:bg-js/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Wykonywanie...":"Uruchom"})]}),jsxRuntimeExports.jsx(ConsoleOutput,{output:e,onClear:a,isExecuting:s})]}),EXECUTION_TIMEOUT=3e3,useCodeExecution$1=()=>{const[output,setOutput]=reactExports.useState([]),[isExecuting,setIsExecuting]=reactExports.useState(!1),clearConsole=reactExports.useCallback(()=>{setOutput([])},[]),executeCode=reactExports.useCallback(code=>{setIsExecuting(!0);const logs=[],consoleLog=console.log;return new Promise((resolve,reject)=>{const timeoutId=setTimeout(()=>{reject(new Error("Przekroczono limit czasu wykonania"))},EXECUTION_TIMEOUT);try{console.log=(...e)=>{logs.push(e.map(s=>typeof s=="object"?JSON.stringify(s,null,2):String(s)).join(" "))},(async()=>{try{eval(code),setOutput(logs),clearTimeout(timeoutId),resolve()}catch(e){setOutput([`Błąd: ${e instanceof Error?e.message:"Nieznany błąd"}`]),reject(e)}})()}finally{console.log=consoleLog,setIsExecuting(!1)}})},[]);return{output,isExecuting,executeCode,clearConsole}},STORAGE_KEY="code_history",MAX_HISTORY_LENGTH=10,useCodeHistory=()=>{const[e,s]=reactExports.useState(()=>{const r=localStorage.getItem(STORAGE_KEY);return r?JSON.parse(r):[]}),a=reactExports.useCallback(r=>{s(i=>{const l=[{code:r,timestamp:Date.now()},...i.filter(n=>n.code!==r)].slice(0,MAX_HISTORY_LENGTH);return localStorage.setItem(STORAGE_KEY,JSON.stringify(l)),l})},[]),o=reactExports.useCallback(()=>{localStorage.removeItem(STORAGE_KEY),s([])},[]);return{history:e,addToHistory:a,clearHistory:o}},useEditor=e=>{const s=reactExports.useRef(null),[a,o]=reactExports.useState(e),[r,i]=reactExports.useState(!1),l=x=>{s.current=x,i(!0)},n=reactExports.useCallback(x=>{x&&o(x)},[]);return reactExports.useEffect(()=>{loader.init().then(x=>{x.languages.typescript.javascriptDefaults.setDiagnosticsOptions({noSemanticValidation:!1,noSyntaxValidation:!1})})},[]),{code:a,isEditorReady:r,handleEditorDidMount:l,handleEditorChange:n}},defaultCode=`// Witaj w edytorze CodeLinesJS!
// Napisz swój kod JavaScript tutaj

function przywitajSie(imie) {
  return \`Cześć, \${imie}!\`;
}

console.log(przywitajSie("Programisto"));`,useFileOperations=()=>({saveToFile:reactExports.useCallback(s=>{const a=new Blob([s],{type:"text/javascript"}),o=URL.createObjectURL(a),r=document.createElement("a");r.href=o,r.download=`code_${new Date().toISOString().slice(0,10)}.js`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(o)},[])}),CodeHistory=reactExports.memo(({history:e,onSelect:s,onClear:a})=>jsxRuntimeExports.jsxs("div",{className:"absolute top-full right-0 mt-2 w-64 bg-dark/95 rounded-lg border border-js/10 shadow-xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-js/10",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-js",children:[jsxRuntimeExports.jsx(FaHistory,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Historia"})]}),e.length>0&&jsxRuntimeExports.jsx("button",{onClick:a,className:"p-1.5 text-gray-400 hover:text-js transition-colors",title:"Wyczyść historię",children:jsxRuntimeExports.jsx(FaTrash,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsx("div",{className:"max-h-64 overflow-y-auto",children:e.length===0?jsxRuntimeExports.jsx("div",{className:"p-3 text-sm text-gray-400",children:"Brak historii"}):e.map((o,r)=>jsxRuntimeExports.jsxs(motion.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:r*.05},onClick:()=>s(o.code),className:"w-full p-3 text-left hover:bg-js/10 transition-colors border-b border-js/5 last:border-0",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-300 truncate",children:o.code.split(`
`)[0]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 mt-1",children:new Date(o.timestamp).toLocaleString()})]},o.timestamp))})]}));CodeHistory.displayName="CodeHistory";const CodeEditor=reactExports.memo(()=>{const{output:e,isExecuting:s,executeCode:a,clearConsole:o}=useCodeExecution$1(),{history:r,addToHistory:i,clearHistory:l}=useCodeHistory(),{code:n,isEditorReady:x,handleEditorDidMount:d,handleEditorChange:m}=useEditor(defaultCode),{saveToFile:p}=useFileOperations(),[u,j]=reactExports.useState(!1),g=()=>{j(!1)},y=reactExports.useCallback(async()=>{await a(n),i(n)},[n,a,i]);return jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},className:"h-full p-6",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold font-space text-js",children:"Edytor Kodu JavaScript"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>p(n),disabled:!x,className:"px-4 py-2 text-sm text-js border border-js/20 rounded hover:bg-js/10 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[jsxRuntimeExports.jsx(FaDownload,{className:"w-4 h-4 mr-2 inline-block"}),"Zapisz do Pliku"]}),jsxRuntimeExports.jsx("button",{onClick:()=>j(E=>!E),className:"p-2 text-gray-400 hover:text-js transition-colors",title:"Historia kodu",children:jsxRuntimeExports.jsx(FaHistory,{className:"w-5 h-5"})}),u&&jsxRuntimeExports.jsx(CodeHistory,{history:r,onSelect:g,onClear:l})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-[calc(100vh-12rem)]",children:[jsxRuntimeExports.jsx(EditorComponent,{code:n,onChange:m,onMount:()=>d(null),isEditorReady:x}),jsxRuntimeExports.jsx(ConsoleComponent,{output:e,isExecuting:s,onClear:o,onRun:y})]})]})});CodeEditor.displayName="CodeEditor";const updateLessonProgress=async(e,s,a,o)=>{const r=await fetch(`${API_URL}users/${e}/lessons/${s}/progress`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify(a)});if(!r.ok)throw new Error("Failed to update progress");return r.json()},useLessonData=e=>{const{userId:s,token:a}=useAuth(),o=useQueryClient(),{refetch:r}=useLearningPaths(),[i,l]=reactExports.useState(0),{data:n,isLoading:x,error:d,refetch:m}=useQuery({queryKey:["lesson",e],queryFn:()=>fetchLesson(e,a),enabled:!!e,retry:!1}),p=(d==null?void 0:d.message)==="lesson_not_found",u=useMutation({mutationFn:completeLesson,onSuccess:()=>{o.invalidateQueries({queryKey:["userProgress"]}),o.invalidateQueries({queryKey:["lessons"]}),o.invalidateQueries({queryKey:["lesson",e]}),r()}}),j=useMutation({mutationFn:R=>updateLessonProgress(s,e,R,a),onSuccess:()=>{o.invalidateQueries({queryKey:["userProgress"]})}}),g=R=>{l(R)},y=async R=>{!s||!e||await j.mutateAsync({completedSections:[...(n==null?void 0:n.completedSections)||[],R],isCompleted:!1,points:0})},E=async R=>{!s||!e||await j.mutateAsync({completedSections:(n==null?void 0:n.completedSections)||[],isCompleted:!1,points:R})},f=async()=>{if(!s||!e||!n)return console.error("Brak wymaganych danych:",{userId:s,lessonSlug:e,lesson:n}),Promise.reject(new Error("Brak wymaganych danych"));try{const R=await u.mutateAsync({userId:s,lessonId:n.id,pathId:n.pathId,token:a});return await m(),await r(),c.success("Lekcja ukończona!",{duration:3e3,position:"bottom-right"}),R}catch(R){throw console.error("Błąd podczas kończenia lekcji:",R),c.error("Nie udało się ukończyć lekcji. Spróbuj ponownie.",{duration:4e3,position:"bottom-right"}),R}};return{lesson:n,isLoading:x,error:d,isNotFound:p,activeSection:i,progress:n==null?void 0:n.progress,refetch:m,handleSectionChange:g,handleSectionComplete:y,handleQuizComplete:E,handleLessonComplete:f,completeLessonMutation:u}},LessonLayout=reactExports.memo(({children:e})=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen bg-dark/50 backdrop-blur-sm py-8",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e})}));LessonLayout.displayName="LessonLayout";const BackToLessons=reactExports.memo(()=>jsxRuntimeExports.jsxs(Link,{to:"/dashboard/learn",className:"inline-flex items-center gap-2 text-js hover:text-js/80 transition-colors mb-6",children:[jsxRuntimeExports.jsx(FaChevronLeft,{className:"w-4 h-4"}),"Wróć do listy lekcji"]}));BackToLessons.displayName="BackToLessons";const LESSON_DIFFICULTY={BEGINNER:"beginner",INTERMEDIATE:"intermediate",ADVANCED:"advanced"},DIFFICULTY_STYLES={[LESSON_DIFFICULTY.BEGINNER]:"bg-green-500/10 text-green-400",[LESSON_DIFFICULTY.INTERMEDIATE]:"bg-yellow-500/10 text-yellow-400",[LESSON_DIFFICULTY.ADVANCED]:"bg-red-500/10 text-red-400"},DifficultyBadge=reactExports.memo(({difficulty:e})=>jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs font-medium ${DIFFICULTY_STYLES[e]}`,children:e==="beginner"?"Podstawowy":e==="intermediate"?"Średni":"Zaawansowany"}));DifficultyBadge.displayName="DifficultyBadge";const XpBadge=reactExports.memo(({xp:e})=>jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 text-js bg-js/10 px-2.5 py-1 rounded-lg text-sm",children:[jsxRuntimeExports.jsx(FaStar,{className:"w-4 h-4"}),e," XP"]}));XpBadge.displayName="XpBadge";const LessonHeader=reactExports.memo(({title:e,duration:s,difficulty:a,xp:o})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx(DifficultyBadge,{difficulty:a}),jsxRuntimeExports.jsx(XpBadge,{xp:o})]}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-js mb-4",children:e}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(FaClock,{className:"w-4 h-4"}),s," min"]})})]})),SyntaxHighlighterComponent$1=highlighter,CodeBlock=reactExports.memo(({code:e,language:s,showLineNumbers:a=!0,className:o})=>{const r=()=>{navigator.clipboard.writeText(e)};return jsxRuntimeExports.jsxs("div",{className:`relative group ${o}`,children:[jsxRuntimeExports.jsx("button",{onClick:r,className:`absolute right-2 top-2 p-2 rounded-lg bg-dark/50 text-gray-400 \r
          opacity-0 group-hover:opacity-100 transition-opacity hover:text-js`,title:"Kopiuj kod",children:jsxRuntimeExports.jsx(FaCopy,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(SyntaxHighlighterComponent$1,{language:s,style:atomDark,showLineNumbers:a,wrapLines:!0,customStyle:{margin:0,borderRadius:"0.5rem",background:"transparent"},codeTagProps:{style:{fontFamily:"JetBrains Mono, monospace"}},children:e})]})});CodeBlock.displayName="CodeBlock";const CodeExample=reactExports.memo(({example:e,index:s})=>e.code?jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-medium text-gray-200",children:["Przykład ",s+1,":"]}),jsxRuntimeExports.jsx(CodeBlock,{code:e.code,language:e.language||"javascript",showLineNumbers:!0,className:"rounded-lg border border-js/10"}),e.explanation&&jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:e.explanation})]}):jsxRuntimeExports.jsx("div",{className:"p-4 bg-dark-800/50 rounded-lg border border-js/10",children:jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm text-center",children:"Ten przykład nie zawiera jeszcze kodu."})})),LessonSection=reactExports.memo(({section:e,index:s})=>jsxRuntimeExports.jsxs("section",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-js",children:[s+1,". ",e.title]}),jsxRuntimeExports.jsx("div",{className:"prose prose-invert max-w-none",children:e.content}),jsxRuntimeExports.jsx("div",{className:"space-y-8 mt-8",children:e.examples&&e.examples.length>0&&jsxRuntimeExports.jsx("div",{className:"space-y-8 mt-8",children:e.examples.map((a,o)=>jsxRuntimeExports.jsx(CodeExample,{example:a,index:o},o))})})]}));LessonSection.displayName="LessonSection";const quizBadges={perfect:{icon:FaTrophy,label:"Perfekcyjnie!",color:"text-yellow-500"},excellent:{icon:FaMedal,label:"Świetnie!",color:"text-js"},good:{icon:FaStar,label:"Mogło być lepiej!",color:"text-blue-500"}},getQuizBadge=e=>e===100?quizBadges.perfect:e>=80?quizBadges.excellent:quizBadges.good,QuizSummary=reactExports.memo(({correctAnswers:e,totalQuestions:s})=>{const a=e/s*100,o=getQuizBadge(a),r=o.icon;return jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-dark-800/50 border border-js/10 rounded-lg p-6 text-center",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center mb-4",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(r,{className:`w-12 h-12 ${o.color}`}),jsxRuntimeExports.jsx(motion.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3},className:"absolute -right-2 -bottom-2",children:jsxRuntimeExports.jsx(FaStar,{className:"w-6 h-6 text-yellow-500 animate-pulse"})})]})}),jsxRuntimeExports.jsx("h3",{className:`text-xl font-bold ${o.color} mb-2`,children:o.label}),jsxRuntimeExports.jsxs("p",{className:"text-gray-400 mb-4",children:["Poprawne odpowiedzi: ",e," z ",s]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(motion.div,{initial:{width:0},animate:{width:"100%"},className:"h-2 bg-dark rounded-full overflow-hidden mx-auto",children:jsxRuntimeExports.jsx(motion.div,{initial:{width:0},animate:{width:`${a}%`},className:`h-full ${a===100?"bg-yellow-500":"bg-js"}`,transition:{delay:.5,duration:.8}})}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-400",children:[Math.round(a),"% poprawnych odpowiedzi"]})]})]})}),LessonQuiz=reactExports.memo(({questions:e,onComplete:s})=>{const[a,o]=reactExports.useState(0),[r,i]=reactExports.useState(null),[l,n]=reactExports.useState(0),[x,d]=reactExports.useState(!1),[m,p]=reactExports.useState(!1),u=100,j=a/e.length*100,g=E=>{i(E),p(!0),E===e[a].correctAnswer&&n(f=>f+1)},y=()=>{a<e.length-1?(o(E=>E+1),i(null),p(!1)):(s(l,e.length),d(!0))};return x?jsxRuntimeExports.jsx(QuizSummary,{correctAnswers:l,totalQuestions:e.length,earnedXP:Math.round(l/e.length*u)}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-400",children:["Pytanie ",a+1," z ",e.length]}),jsxRuntimeExports.jsx("span",{className:"text-js",children:"•"})]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-400",children:[Math.round(j),"% ukończone"]})]}),m&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-dark-800/50 border border-js/10 rounded-lg text-gray-400 text-sm",children:e[a].explanation}),r!==null&&jsxRuntimeExports.jsx(motion.button,{initial:{opacity:0},animate:{opacity:1},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:y,className:"w-full py-3 bg-js/10 text-js rounded-lg hover:bg-js/20 transition-colors",children:a<e.length-1?"Następne pytanie":"Zakończ quiz"}),jsxRuntimeExports.jsx("div",{className:"text-lg font-medium text-gray-200",children:e[a].question}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:e[a].options.map((E,f)=>jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},disabled:r!==null,onClick:()=>g(f),className:`w-full p-4 rounded-lg border text-left transition-colors
              ${r===null?"border-js/10 hover:border-js/20":f===e[a].correctAnswer?"border-green-500 bg-green-500/10 text-green-400":r===f?"border-red-500 bg-red-500/10 text-red-400":"border-js/10 opacity-50"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{children:E}),r!==null&&(f===e[a].correctAnswer?jsxRuntimeExports.jsx(FaCheck,{className:"w-4 h-4 text-green-400"}):r===f?jsxRuntimeExports.jsx(FaTimes,{className:"w-4 h-4 text-red-400"}):null)]})},f))})]})});LessonQuiz.displayName="LessonQuiz";QuizSummary.displayName="QuizSummary";const LessonMainContent=reactExports.memo(({lesson:e,onQuizComplete:s})=>{if(!e)return null;const{sections:a=[]}=e.content;return jsxRuntimeExports.jsx("div",{className:"w-[85vw] mb-32 md:w-auto md:mb-auto col-span-9 lesson-content overflow-y-auto max-h-[calc(100vh-200px)]",children:jsxRuntimeExports.jsx(motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"bg-dark-800/50 border border-js/10 rounded-xl p-6 md:p-8",children:jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsx(LessonHeader,{title:e.title,duration:String(e.duration),difficulty:e.difficulty,xp:e.points}),jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[a.map((o,r)=>jsxRuntimeExports.jsx(LessonSection,{section:o,index:r},r)),e.content.quiz&&jsxRuntimeExports.jsx(LessonQuiz,{questions:e.content.quiz,onComplete:s})]})]})})})});LessonMainContent.displayName="LessonMainContent";const LessonProgress=reactExports.memo(({isCompleted:e,onComplete:s})=>{const[a,o]=reactExports.useState(0),[r,i]=reactExports.useState(!1),l=useMotionValue(0),n=useNavigate();reactExports.useEffect(()=>{const m=document.querySelector(".lesson-content");if(!m)return;const p=()=>{const{scrollTop:u,scrollHeight:j,clientHeight:g}=m,y=u/(j-g)*100;o(Math.min(y,100)),l.set(Math.min(y,100))};return m.addEventListener("scroll",p),p(),()=>m.removeEventListener("scroll",p)},[l]);const x=a>=98&&!e,d=async()=>{if(!x||r){console.log("Nie można ukończyć lekcji:",{isLessonCompleted:x,isSubmitting:r});return}try{i(!0),await s(),n("/dashboard/learn?tab=lessons")}catch{}finally{i(!1)}};return jsxRuntimeExports.jsx("div",{className:"mb-5 fixed bottom-0 left-0 right-0 bg-dark-800/95 border-t border-js/10 backdrop-blur-sm",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 mr-8",children:[jsxRuntimeExports.jsx("div",{className:"relative h-2 bg-dark rounded-full overflow-hidden",children:jsxRuntimeExports.jsx(motion.div,{style:{width:`${a}%`},className:"absolute inset-y-0 left-0 bg-js rounded-full"})}),jsxRuntimeExports.jsx("div",{className:"flex justify-between text-sm text-gray-400 mt-2",children:jsxRuntimeExports.jsxs("span",{children:[Math.round(a),"% przeczytane"]})})]}),jsxRuntimeExports.jsxs(motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:d,disabled:!x||r,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors
            ${x&&!r?"bg-js/10 text-js hover:bg-js/20":"bg-gray-800/50 text-gray-500 cursor-not-allowed"}`,children:[jsxRuntimeExports.jsx(FaCheck,{className:"w-4 h-4"}),r?"Zapisywanie...":x?"Zakończ lekcję":"Przeczytaj całą lekcję"]})]})})});LessonProgress.displayName="LessonProgress";const LessonContent=reactExports.memo(({lesson:e,activeSection:s,progress:a,onSectionComplete:o,onQuizComplete:r,onLessonComplete:i})=>{if(!e)return null;const n=(e.sections||[]).length;return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(LessonLayout,{children:[jsxRuntimeExports.jsx(BackToLessons,{}),jsxRuntimeExports.jsx("div",{className:"w-full flex items-center justify-center",children:jsxRuntimeExports.jsx(LessonMainContent,{lesson:e,onSectionComplete:o,onQuizComplete:r})}),jsxRuntimeExports.jsx(LessonProgress,{currentSection:s,totalSections:n,progress:a,isCompleted:e.isCompleted||!1,onComplete:i})]})})});LessonContent.displayName="LessonContent";const LessonNotFound=reactExports.memo(()=>jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-dark/50 backdrop-blur-sm py-8",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-js mb-4",children:"Lekcja nie została znaleziona"}),jsxRuntimeExports.jsxs(Link,{to:"/dashboard/learn",className:"inline-flex items-center gap-2 text-js hover:text-js/80 transition-colors",children:[jsxRuntimeExports.jsx(FaChevronLeft,{className:"w-4 h-4"}),"Wróć do listy lekcji"]})]})})}));LessonNotFound.displayName="LessonNotFound";const LessonPage=()=>{const{lessonSlug:e}=useParams();if(!e)return jsxRuntimeExports.jsx(Navigate,{to:"/dashboard/learn",replace:!0});const{lesson:s,isLoading:a,error:o,isNotFound:r,activeSection:i,progress:l,handleSectionComplete:n,handleQuizComplete:x,handleLessonComplete:d}=useLessonData(e);return a?jsxRuntimeExports.jsx(LessonLoadingState,{}):r?jsxRuntimeExports.jsx(LessonNotFound,{}):o?jsxRuntimeExports.jsx(LessonErrorState,{onRetry:()=>window.location.reload()}):s?jsxRuntimeExports.jsx(LessonContent,{lesson:s,activeSection:i,progress:typeof l=="number"?l:0,onSectionComplete:n,onQuizComplete:x,onLessonComplete:d}):jsxRuntimeExports.jsx(LessonNotFound,{})},LessonLoadingState=()=>jsxRuntimeExports.jsx(LessonLayout,{children:jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:jsxRuntimeExports.jsx(LoadingScreen,{})})}),LessonErrorState=({onRetry:e})=>jsxRuntimeExports.jsx(LessonLayout,{children:jsxRuntimeExports.jsx(ErrorMessage,{message:"Nie udało się pobrać lekcji. Spróbuj ponownie później.",onRetry:e})});LessonPage.displayName="LessonPage";const GameplayHeader=reactExports.memo(({title:e})=>jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-js",children:e})})),GameContentContext=reactExports.createContext(null),GameContentProvider=({children:e})=>{const[s,a]=reactExports.useState(null),[o,r]=reactExports.useState(!1),[i,l]=reactExports.useState(null),n=reactExports.useCallback(async x=>{r(!0),l(null);const{token:d}=useAuth$1();try{const m=await fetch(`${API_URL}/games`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`}});if(!m.ok)throw new Error("Nie udało się pobrać zawartości gry");const u=(await m.json()).data.games.find(j=>j.slug===x);if(!u)throw new Error("Nie znaleziono gry");a({title:u.title,description:u.description,difficulty:u.difficulty,rating:u.rating,completions:u.completions,rewardPoints:u.rewardPoints,gameData:u.gameData,estimatedTime:u.estimatedTime,isCompleted:u.isCompleted})}catch(m){l(m instanceof Error?m.message:"Wystąpił nieznany błąd")}finally{r(!1)}},[]);return jsxRuntimeExports.jsx(GameContentContext.Provider,{value:{gameContent:s,isLoading:o,error:i,fetchGameContent:n},children:e})},gameComponents={"scope-explorer":reactExports.lazy(()=>__vitePreload(()=>Promise.resolve().then(()=>ScopeExplorer_component),void 0)),"js-typo-hunter":reactExports.lazy(()=>__vitePreload(()=>Promise.resolve().then(()=>JSTypoHunter_component),void 0)),"async-quest":reactExports.lazy(()=>__vitePreload(()=>Promise.resolve().then(()=>AsyncQuest_component),void 0)),"regex-raider":reactExports.lazy(()=>__vitePreload(()=>Promise.resolve().then(()=>RegexRaider_component),void 0))},GameplayArea=reactExports.memo(()=>{const{slug:e}=useParams();if(!e||!gameComponents[e])return jsxRuntimeExports.jsx("div",{className:"w-full h-full flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:"Gra nie została znaleziona"})});const s=gameComponents[e];return jsxRuntimeExports.jsx(GameContentProvider,{children:jsxRuntimeExports.jsx("div",{className:"w-full h-full",children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx("div",{children:"Ładowanie gry..."}),children:jsxRuntimeExports.jsx(s,{})})})})});GameplayArea.displayName="GameplayArea";const GameplaySection=reactExports.memo(({game:e})=>{const s=useNavigate(),a=()=>{s("/dashboard/play")};return jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen bg-dark-800 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl w-full mx-auto px-4 py-6",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-6",children:jsxRuntimeExports.jsxs(motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:a,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-js/10 text-js hover:bg-js/20 transition-colors",children:[jsxRuntimeExports.jsx(FaArrowLeft,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Powrót do menu"})]})}),jsxRuntimeExports.jsx(GameplayHeader,{title:e.title}),jsxRuntimeExports.jsx("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-12 gap-6",children:jsxRuntimeExports.jsx("div",{className:"lg:col-span-12",children:jsxRuntimeExports.jsx(GameplayArea,{})})})]})})});GameplaySection.displayName="GameplaySection";const GameplayRouter=reactExports.memo(()=>{const{slug:e}=useParams(),{data:s}=useGamesQuery();if(!(s!=null&&s.games))return null;const a=s.games.find(o=>o.slug===e);return a?jsxRuntimeExports.jsx(GameplaySection,{game:a}):jsxRuntimeExports.jsx(Navigate,{to:"/dashboard/play",replace:!0})});GameplayRouter.displayName="GameplayRouter";const useGameTimer=({maxTime:e,onTimeEnd:s,isPaused:a})=>{const[o,r]=reactExports.useState(0),[i,l]=reactExports.useState(!1),n=reactExports.useCallback(()=>{l(!0)},[]),x=reactExports.useCallback(()=>{l(!1)},[]),d=reactExports.useCallback(()=>{r(0),l(!1)},[]);return reactExports.useEffect(()=>{let m;return i&&!a&&(m=window.setInterval(()=>{r(p=>{const u=p+1;return u>=e?(x(),s(),e):u})},1e3)),()=>{m&&window.clearInterval(m)}},[i,a,e,s,x]),{timeElapsed:o,resetTimer:d,startTimer:n,stopTimer:x,isRunning:i}},CategoryProgress$1=reactExports.memo(({category:e,stats:s})=>{const a=()=>{switch(e){case"scope":return FaCode;case"closure":return FaCube;case"hoisting":return FaArrowUp}},o=()=>{switch(e){case"scope":return"Zakres zmiennych";case"closure":return"Domknięcia";case"hoisting":return"Hoisting"}},r=a(),i=s.correct/s.total*100;return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 p-2 bg-dark-800/50 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-js/10",children:jsxRuntimeExports.jsx(r,{className:"w-4 h-4 text-js"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-1",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-400",children:o()}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500",children:[s.correct,"/",s.total]})]}),jsxRuntimeExports.jsx("div",{className:"h-1 bg-dark-900 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx(motion.div,{initial:{width:0},animate:{width:`${i}%`},className:"h-full bg-js",transition:{duration:.3}})})]})]})});CategoryProgress$1.displayName="CategoryProgress";const ScopeExplorerStats=reactExports.memo(({stats:e,isGameOver:s,finalTime:a})=>{const o=i=>{const l=Math.floor(i/60),n=i%60;return`${l}:${n.toString().padStart(2,"0")}`},r=s?a:e.timeElapsed;return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[jsxRuntimeExports.jsx(FaCode,{className:"w-5 h-5 text-js"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:"Poziom"}),jsxRuntimeExports.jsxs("div",{className:"text-lg font-bold text-js",children:[e.currentLevel,"/",e.totalLevels]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[jsxRuntimeExports.jsx(FaStar,{className:"w-5 h-5 text-js"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:"Punkty"}),jsxRuntimeExports.jsx("div",{className:"text-lg font-bold text-js",children:e.score}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500",children:["Poprawne: ",e.correctAnswers,"/",e.totalLevels]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[jsxRuntimeExports.jsx(FaClock,{className:"w-5 h-5 text-js"}),jsxRuntimeExports.jsxs("div",{className:"w-full",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:"Czas"}),jsxRuntimeExports.jsx("div",{className:"text-lg font-bold text-js flex flex-wrap w-full",children:jsxRuntimeExports.jsxs("span",{className:"block w-full break-words",children:[o(r),"/",o(e.maxTime)]})})]})]})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-2",children:[jsxRuntimeExports.jsx(CategoryProgress$1,{category:"scope",stats:e.categoryStats.scope}),jsxRuntimeExports.jsx(CategoryProgress$1,{category:"closure",stats:e.categoryStats.closure}),jsxRuntimeExports.jsx(CategoryProgress$1,{category:"hoisting",stats:e.categoryStats.hoisting})]})]})});ScopeExplorerStats.displayName="ScopeExplorerStats";const getCategoryIcon$1=e=>{switch(e){case"scope":return FaCode;case"closure":return FaCube;case"hoisting":return FaArrowUp}},getCategoryLabel=e=>{switch(e){case"scope":return"Zakres zmiennych";case"closure":return"Domknięcia";case"hoisting":return"Hoisting"}},getDifficultyColor$1=e=>{switch(e){case"easy":return"text-green-400 bg-green-500/10";case"medium":return"text-yellow-400 bg-yellow-500/10";case"hard":return"text-red-400 bg-red-500/10"}},getDifficultyLabel=e=>{switch(e){case"easy":return"Łatwy";case"medium":return"Średni";case"hard":return"Trudny"}},useKeyboardShortcuts=({onEscape:e,onEnter:s,onNumber1:a,onNumber2:o,onNumber3:r,disabled:i=!1})=>{const l=reactExports.useCallback(n=>{if(!i)switch(n.key){case"Escape":e==null||e();break;case"Enter":s==null||s();break;case"1":a==null||a();break;case"2":o==null||o();break;case"3":r==null||r();break}},[e,s,a,o,r,i]);reactExports.useEffect(()=>(window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)),[l])},ScopeExplorerProgress=reactExports.memo(({currentLevel:e,totalLevels:s})=>{const a=(e-1)/s*100;return jsxRuntimeExports.jsx("div",{className:"w-full bg-dark-800/50 h-1 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx(motion.div,{initial:{width:0},animate:{width:`${a}%`},className:"h-full bg-js",transition:{duration:.3}})})});ScopeExplorerProgress.displayName="ScopeExplorerProgress";const SyntaxHighlighterComponent=highlighter$1,ScopeExplorerGame=reactExports.memo(({currentChallenge:e,onScoreUpdate:s,onLevelComplete:a,currentLevel:o,totalLevels:r,onGameOver:i})=>{const[l,n]=reactExports.useState(null),[x,d]=reactExports.useState(!1),[m,p]=reactExports.useState(null),[u,j]=reactExports.useState(!1),g=reactExports.useCallback(f=>{n(f);const R=f===e.correct;p(R),d(!0),R?(s(e.points||10,e.category),setTimeout(()=>{a(),n(null),d(!1),p(null),j(!1)},1500)):setTimeout(()=>{i()},2e3)},[e,s,a,i]),y=reactExports.useCallback(f=>{!x&&f<e.options.length&&g(e.options[f])},[x,e.options,g]);useKeyboardShortcuts({onNumber1:()=>y(0),onNumber2:()=>y(1),onNumber3:()=>y(2),disabled:x});const E=getCategoryIcon$1(e.category);return jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},className:"w-full space-y-6",children:[jsxRuntimeExports.jsx(ScopeExplorerProgress,{currentLevel:o,totalLevels:r}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-js/10",children:jsxRuntimeExports.jsx(E,{className:"w-4 h-4 text-js"})}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:getCategoryLabel(e.category)})]}),jsxRuntimeExports.jsx("div",{className:`px-3 py-1 rounded-lg text-sm ${getDifficultyColor$1(e.difficulty)}`,children:getDifficultyLabel(e.difficulty)})]}),jsxRuntimeExports.jsx("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg overflow-hidden",children:jsxRuntimeExports.jsx(SyntaxHighlighterComponent,{language:"javascript",style:vs2015,customStyle:{padding:"1.5rem",borderRadius:"0.5rem",fontSize:"1.1rem",background:"transparent"},children:e.code})}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 gap-4",children:e.options.map((f,R)=>jsxRuntimeExports.jsxs(motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>g(f),disabled:x,className:`
              w-full break-words
              relative p-4 rounded-lg font-mono text-lg transition-colors
              ${l===f?m?"bg-green-500/20 border-green-500/30 text-green-400":"bg-red-500/20 border-red-500/30 text-red-400":"bg-dark-800/50 border border-js/10 text-gray-300 hover:border-js/30"}
            `,children:[jsxRuntimeExports.jsx("span",{className:"absolute top-2 left-2 text-xs text-gray-500",children:R+1}),f]},f))}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500 text-center",children:"Użyj klawiszy numerycznych (1-3) aby wybrać odpowiedź"}),x&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-4 rounded-lg ${m?"bg-green-500/20 border border-green-500/30":"bg-red-500/20 border border-red-500/30"}`,children:jsxRuntimeExports.jsxs("p",{className:`text-sm ${m?"text-green-400":"text-red-400"}`,children:[m?"Świetnie! ":"Spróbuj jeszcze raz. ",e.explanation]})}),u&&!m&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-js/10 border border-js/20 rounded-lg",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-js",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Podpowiedź:"})," Zwróć uwagę na zakres zmiennych i ich dostępność w różnych kontekstach."]})})]},o)});ScopeExplorerGame.displayName="ScopeExplorerGame";const updateUserPoints=async(e,s)=>{try{const a=await fetch(`${API_URL}progress/points`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({points:s})});if(!a.ok)throw new Error("Nie udało się zaktualizować punktów");return await a.json()}catch(a){throw console.error("Błąd podczas aktualizacji punktów:",a),a}},useUpdatePoints=()=>{const{token:e}=useAuth$1(),s=useQueryClient(),a=useMutation({mutationFn:async o=>updateUserPoints(e||"",o),onSuccess:()=>{s.invalidateQueries({queryKey:["userProgress"]})}});return{updatePoints:a.mutate,isUpdating:a.isPending,error:a.error}},ScopeExplorerSummary=reactExports.memo(({score:e,timeElapsed:s,challenges:a,correctAnswers:o,categoryStats:r,onRestart:i})=>{const{updatePoints:l}=useUpdatePoints();reactExports.useEffect(()=>{l(e)},[e,l]);const n=d=>{const m=Math.floor(d/60),p=d%60;return`${m}:${p.toString().padStart(2,"0")}`},x=d=>{switch(d){case"scope":return FaCode;case"closure":return FaCube;case"hoisting":return FaArrowUp;default:return FaCode}};return jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"p-6 bg-dark-800/50 border border-js/10 rounded-lg",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-js mb-6 text-center",children:o===a.length?"Gratulacje!":"Koniec gry!"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx(FaStar,{className:"w-5 h-5 text-js"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:"Wynik końcowy"}),jsxRuntimeExports.jsxs("div",{className:"text-lg font-bold text-js",children:[e," punktów"]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500",children:["Poprawne odpowiedzi: ",o,"/",a.length]})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx(FaClock,{className:"w-5 h-5 text-js"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:"Czas ukończenia"}),jsxRuntimeExports.jsx("div",{className:"text-lg font-bold text-js",children:n(s)})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-js",children:"Statystyki kategorii:"}),Object.entries(r).map(([d,m])=>{const p=x(d);return jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-900/50 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-js/10",children:jsxRuntimeExports.jsx(p,{className:"w-4 h-4 text-js"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-js",children:d==="scope"?"Zakres zmiennych":d==="closure"?"Domknięcia":"Hoisting"}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-400",children:["Ukończone zadania: ",m.correct,"/",m.total]})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-sm font-medium text-js",children:[m.points," pkt"]})]},d)})]}),jsxRuntimeExports.jsx("button",{onClick:i,className:"w-full px-6 py-3 rounded-lg bg-js text-dark font-medium hover:bg-js/90 transition-colors",children:"Zagraj ponownie"})]})});ScopeExplorerSummary.displayName="ScopeExplorerSummary";const GameIntro=reactExports.memo(({gameContent:e,onStart:s})=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-2xl mx-auto p-6 bg-dark-800/50 border border-js/10 rounded-lg",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-js mb-4 text-center",children:e.title}),jsxRuntimeExports.jsx("div",{className:"mb-6 text-gray-400 text-center",children:e.description}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:"Poziom trudności"}),jsxRuntimeExports.jsx("div",{className:"text-lg font-bold text-js capitalize",children:e.difficulty})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:"Punkty do zdobycia"}),jsxRuntimeExports.jsxs("div",{className:"text-lg font-bold text-js flex items-center justify-center gap-1",children:[jsxRuntimeExports.jsx(FaStar,{className:"w-4 h-4"}),e.rewardPoints]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:"Szacowany czas"}),jsxRuntimeExports.jsxs("div",{className:"text-lg font-bold text-js",children:[e.estimatedTime," min"]})]})]}),jsxRuntimeExports.jsxs("button",{onClick:s,className:"w-full px-6 py-4 rounded-lg bg-js text-dark font-medium hover:bg-js/90 transition-colors flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(FaPlay,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Rozpocznij grę"})]})]}));GameIntro.displayName="GameIntro";const ScopeExplorer=reactExports.memo(({isPaused:e=!1})=>{const{data:s,isLoading:a,error:o}=useGamesQuery(),r=s==null?void 0:s.games.find(h=>h.slug==="scope-explorer"),[i,l]=reactExports.useState(!1),[n,x]=reactExports.useState({currentLevel:1,totalLevels:0,score:0,timeElapsed:0,maxTime:300,correctAnswers:0,categoryStats:{scope:{total:0,correct:0,points:0},closure:{total:0,correct:0,points:0},hoisting:{total:0,correct:0,points:0}}}),[d,m]=reactExports.useState(!1),[p,u]=reactExports.useState(0),{timeElapsed:j,resetTimer:g,startTimer:y,stopTimer:E}=useGameTimer({maxTime:r!=null&&r.estimatedTime?r.estimatedTime*60:300,onTimeEnd:()=>{m(!0),u(j),E()},isPaused:e});reactExports.useEffect(()=>{x(h=>({...h,timeElapsed:j}))},[j]),reactExports.useEffect(()=>{const h={scope:{total:0,correct:0,points:0},closure:{total:0,correct:0,points:0},hoisting:{total:0,correct:0,points:0}};r==null||r.gameData.forEach(b=>{const N=b.category;h[N].total++,h[N].points+=b.points||0}),x(b=>({...b,categoryStats:h}))},[r]);const f=reactExports.useCallback((h,b)=>{x(N=>({...N,score:N.score+h,correctAnswers:N.correctAnswers+1,categoryStats:{...N.categoryStats,[b]:{...N.categoryStats[b],correct:N.categoryStats[b].correct+1}}}))},[]),R=reactExports.useCallback(()=>{const h=n.currentLevel+1;if(h>((r==null?void 0:r.gameData.length)||0)){m(!0),u(j),g();return}x(b=>({...b,currentLevel:h}))},[n.currentLevel,g,j,r]),k=reactExports.useCallback(()=>{const h={scope:{total:0,correct:0,points:0},closure:{total:0,correct:0,points:0},hoisting:{total:0,correct:0,points:0}};r==null||r.gameData.forEach(b=>{const N=b.category;h[N].total++,h[N].points+=b.points||0}),x({currentLevel:1,totalLevels:(r==null?void 0:r.gameData.length)||0,score:0,timeElapsed:0,maxTime:r!=null&&r.estimatedTime?r.estimatedTime*60:300,correctAnswers:0,categoryStats:h}),m(!1),u(0),g(),y()},[g,y,r]),w=()=>{l(!0),y()},v=reactExports.useCallback(()=>{m(!0),u(j),E()},[j,E]);return a?jsxRuntimeExports.jsx("div",{children:"Ładowanie..."}):o?jsxRuntimeExports.jsxs("div",{children:["Błąd: ",o.message]}):r?i?jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-full flex flex-col",children:[jsxRuntimeExports.jsx(ScopeExplorerStats,{stats:n,isGameOver:d,finalTime:p}),jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto py-6",children:d?jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},children:jsxRuntimeExports.jsx(ScopeExplorerSummary,{score:n.score,timeElapsed:p,challenges:r.gameData,correctAnswers:n.correctAnswers,categoryStats:n.categoryStats,onRestart:k})},"game-over"):jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.3},className:"w-full",children:jsxRuntimeExports.jsx(ScopeExplorerGame,{currentChallenge:r.gameData[n.currentLevel-1],onScoreUpdate:f,onLevelComplete:R,currentLevel:n.currentLevel,totalLevels:n.totalLevels,onGameOver:v})},`level-${n.currentLevel}`)})})]}):jsxRuntimeExports.jsx(GameIntro,{gameContent:r,onStart:w}):null});ScopeExplorer.displayName="ScopeExplorer";const ScopeExplorer_component=Object.freeze(Object.defineProperty({__proto__:null,default:ScopeExplorer},Symbol.toStringTag,{value:"Module"})),JSTypoHunterStats=reactExports.memo(({stats:e})=>{const s=a=>{const o=Math.floor(a/60),r=a%60;return`${o}:${r.toString().padStart(2,"0")}`};return jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[jsxRuntimeExports.jsx(FaCode,{className:"w-5 h-5 text-js"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:"Poziom"}),jsxRuntimeExports.jsxs("div",{className:"text-lg font-bold text-js",children:[e.currentLevel,"/",e.totalLevels]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[jsxRuntimeExports.jsx(FaStar,{className:"w-5 h-5 text-js"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:"Punkty"}),jsxRuntimeExports.jsx("div",{className:"text-lg font-bold text-js",children:e.score})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 gap-3 flex items-center",children:[jsxRuntimeExports.jsx(FaClock,{className:"w-5 h-5 text-js"}),jsxRuntimeExports.jsxs("div",{className:"w-full",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:"Czas"}),jsxRuntimeExports.jsx("div",{className:"text-lg font-bold text-js flex flex-wrap w-full",children:jsxRuntimeExports.jsxs("span",{className:"block w-full break-words",children:[s(e.timeElapsed),"/",s(e.maxTime)]})})]})]})]})});JSTypoHunterStats.displayName="JSTypoHunterStats";const JSTypoHunterFeedback=reactExports.memo(({type:e,message:s})=>e?jsxRuntimeExports.jsx(AnimatePresence,{children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:`
          absolute top-4 left-1/2 -translate-x-1/2 
          px-4 py-2 rounded-lg flex items-center gap-2
          ${e==="success"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}
        `,children:[e==="success"?jsxRuntimeExports.jsx(FaCheck,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(FaTimes,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:s})]})}):null);JSTypoHunterFeedback.displayName="JSTypoHunterFeedback";const JSTypoHunterHint=reactExports.memo(({hint:e,isVisible:s})=>s?jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"mt-4 p-3 bg-js/10 border border-js/20 rounded-lg flex items-start gap-3",children:[jsxRuntimeExports.jsx(FaLightbulb,{className:"w-5 h-5 text-js flex-shrink-0 mt-0.5"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-js mb-1",children:"Podpowiedź:"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:e})]})]}):null);JSTypoHunterHint.displayName="JSTypoHunterHint";const getCategoryIcon=e=>{switch(e){case"syntax":return FaCode;case"naming":return FaPuzzlePiece;case"logic":return FaLightbulb}},getDifficultyColor=e=>{switch(e){case"easy":return"text-green-400 bg-green-500/10";case"medium":return"text-yellow-400 bg-yellow-500/10";case"hard":return"text-red-400 bg-red-500/10"}},JSTypoHunterGame=reactExports.memo(({currentChallenge:e,onScoreUpdate:s,onLevelComplete:a,onIncorrectAnswer:o})=>{const[r,i]=reactExports.useState(e.code),[l,n]=reactExports.useState({type:null,message:""}),x=p=>{p!==void 0&&i(p)},d=reactExports.useCallback(()=>{r.replace(/\s+/g,"")===e.correct.replace(/\s+/g,"")?(n({type:"success",message:"Świetnie! Poprawna odpowiedź!"}),s(10),setTimeout(()=>{a(),i(e.code),n({type:null,message:""})},1500)):(n({type:"error",message:"Niestety, to nie jest prawidłowa odpowiedź."}),setTimeout(()=>{o()},1500))},[r,e,s,a,o]),m=getCategoryIcon(e.category);return jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative",children:[jsxRuntimeExports.jsx(JSTypoHunterFeedback,{type:l.type,message:l.message}),jsxRuntimeExports.jsxs("div",{className:"mb-4 p-5",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-js/10",children:jsxRuntimeExports.jsx(m,{className:"w-4 h-4 text-js"})}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:e.category==="syntax"?"Błąd składni":e.category==="naming"?"Błąd nazewnictwa":"Błąd logiki"})]}),jsxRuntimeExports.jsx("div",{className:`px-3 py-1 rounded-lg text-sm ${getDifficultyColor(e.difficulty)}`,children:e.difficulty==="easy"?"Łatwy":e.difficulty==="medium"?"Średni":"Trudny"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Znajdź i popraw błąd w kodzie."}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-gray-500 text-sm",children:"Wskazówka: Naciśnij przycisk, aby zatwierdzić."})]}),jsxRuntimeExports.jsx("div",{className:"rounded-lg",children:jsxRuntimeExports.jsx(de,{className:"w-full h-full flex flex-wrap",theme:"vs-dark",height:"400px",defaultLanguage:"javascript",value:r,onChange:x,options:{selectOnLineNumbers:!0,automaticLayout:!0,theme:"vs-dark",wordWrap:"on"}})}),jsxRuntimeExports.jsx("div",{className:"flex justify-end mt-4",children:jsxRuntimeExports.jsx("button",{onClick:d,className:"px-4 py-2 rounded-lg bg-js text-dark font-medium hover:bg-js/90 transition-colors",children:"Sprawdź"})}),jsxRuntimeExports.jsx(JSTypoHunterHint,{hint:e.hint||"",isVisible:!0})]})});JSTypoHunterGame.displayName="JSTypoHunterGame";const JSTypoHunterSummary=reactExports.memo(({score:e,timeElapsed:s,correctAnswers:a,totalLevels:o,onRestart:r})=>{const{updatePoints:i}=useUpdatePoints();reactExports.useEffect(()=>{i(e)},[e,i]);const l=n=>{const x=Math.floor(n/60),d=n%60;return`${x}:${d.toString().padStart(2,"0")}`};return jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"p-6 bg-dark-800/50 border border-js/10 rounded-lg",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-js mb-6 text-center",children:a===o?"Gratulacje!":"Koniec gry!"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx(FaStar,{className:"w-5 h-5 text-js"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:"Wynik końcowy"}),jsxRuntimeExports.jsxs("div",{className:"text-lg font-bold text-js",children:[e," punktów"]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500",children:["Poprawne odpowiedzi: ",a,"/",o]})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx(FaClock,{className:"w-5 h-5 text-js"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:"Czas ukończenia"}),jsxRuntimeExports.jsx("div",{className:"text-lg font-bold text-js flex flex-wrap",children:l(s)})]})]})]}),jsxRuntimeExports.jsx("button",{onClick:r,className:"w-full px-6 py-3 rounded-lg bg-js text-dark font-medium hover:bg-js/90 transition-colors",children:"Zagraj ponownie"})]})});JSTypoHunterSummary.displayName="JSTypoHunterSummary";const getDifficultyPoints=e=>{switch(e){case"easy":return 10;case"medium":return 20;case"hard":return 30;default:return 10}},JSTypoHunter=reactExports.memo(({isPaused:e=!1})=>{const{data:s,isLoading:a,error:o}=useGamesQuery(),r=s==null?void 0:s.games.find(w=>w.slug==="js-typo-hunter"),[i,l]=reactExports.useState(!1),[n,x]=reactExports.useState({currentLevel:1,totalLevels:0,score:0,timeElapsed:0,maxTime:300,correctAnswers:0}),[d,m]=reactExports.useState(!1),{timeElapsed:p,resetTimer:u,startTimer:j,stopTimer:g}=useGameTimer({maxTime:n.maxTime,onTimeEnd:()=>{m(!0),g()},isPaused:e}),y=reactExports.useCallback(w=>{const v=r==null?void 0:r.gameData[n.currentLevel-1],h=getDifficultyPoints((v==null?void 0:v.difficulty)||"easy"),b=w+h;x(N=>({...N,score:N.score+b,correctAnswers:N.correctAnswers+1}))},[n.currentLevel,r]),E=reactExports.useCallback(()=>{m(!0),g()},[g]),f=reactExports.useCallback(()=>{setTimeout(()=>{const w=n.currentLevel+1;w>((r==null?void 0:r.gameData.length)||0)?(m(!0),g()):x(v=>({...v,currentLevel:w}))},1e3)},[n.currentLevel,r,g]),R=reactExports.useCallback(()=>{x({currentLevel:1,totalLevels:(r==null?void 0:r.gameData.length)||0,score:0,timeElapsed:0,maxTime:300,correctAnswers:0}),m(!1),u(),j()},[u,j,r]),k=()=>{l(!0),j()};return reactExports.useEffect(()=>{x(w=>({...w,timeElapsed:p}))},[p]),reactExports.useEffect(()=>{r&&x(w=>({...w,totalLevels:r.gameData.length}))},[r]),a?jsxRuntimeExports.jsx("div",{children:"Ładowanie..."}):o?jsxRuntimeExports.jsxs("div",{children:["Błąd: ",o.message]}):r?i?jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full space-y-6",children:[jsxRuntimeExports.jsx(JSTypoHunterStats,{stats:n}),jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:d?jsxRuntimeExports.jsx(JSTypoHunterSummary,{score:n.score,timeElapsed:p,correctAnswers:n.correctAnswers,totalLevels:(r==null?void 0:r.gameData.length)||0,onRestart:R},"game-over"):jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},children:jsxRuntimeExports.jsx(JSTypoHunterGame,{currentChallenge:r==null?void 0:r.gameData[n.currentLevel-1],onScoreUpdate:y,onLevelComplete:f,onIncorrectAnswer:E})},`level-${n.currentLevel}`)})]}):jsxRuntimeExports.jsx(GameIntro,{gameContent:r,onStart:k}):null});JSTypoHunter.displayName="JSTypoHunter";const JSTypoHunter_component=Object.freeze(Object.defineProperty({__proto__:null,default:JSTypoHunter},Symbol.toStringTag,{value:"Module"})),CategoryProgress=reactExports.memo(({category:e,stats:s})=>{const a=()=>{switch(e){case"promises":return FaCode;case"async-await":return FaSync;case"callbacks":return FaPhoneVolume}},o=()=>{switch(e){case"promises":return"Promises";case"async-await":return"Async/Await";case"callbacks":return"Callbacks"}},r=a(),i=s.correct/s.total*100;return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 p-2 bg-dark-800/50 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-js/10",children:jsxRuntimeExports.jsx(r,{className:"w-4 h-4 text-js"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-1",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-400",children:o()}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500",children:[s.correct,"/",s.total]})]}),jsxRuntimeExports.jsx("div",{className:"h-1 bg-dark-900 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx(motion.div,{initial:{width:0},animate:{width:`${i}%`},className:"h-full bg-js",transition:{duration:.3}})})]})]})});CategoryProgress.displayName="CategoryProgress";const AsyncQuestStats=reactExports.memo(({stats:e,isGameOver:s,finalTime:a})=>{const o=i=>{const l=Math.floor(i/60),n=i%60;return`${l}:${n.toString().padStart(2,"0")}`},r=s?a:e.timeElapsed;return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[jsxRuntimeExports.jsx(FaCode,{className:"w-5 h-5 text-js"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:"Poziom"}),jsxRuntimeExports.jsxs("div",{className:"text-lg font-bold text-js",children:[e.currentLevel,"/",e.totalLevels]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[jsxRuntimeExports.jsx(FaStar,{className:"w-5 h-5 text-js"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:"Punkty"}),jsxRuntimeExports.jsx("div",{className:"text-lg font-bold text-js",children:e.score}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500",children:["Poprawne: ",e.correctAnswers,"/",e.totalLevels]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[jsxRuntimeExports.jsx(FaClock,{className:"w-5 h-5 text-js"}),jsxRuntimeExports.jsxs("div",{className:"w-full",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:"Czas"}),jsxRuntimeExports.jsx("div",{className:"text-lg font-bold text-js flex flex-wrap w-full",children:jsxRuntimeExports.jsxs("span",{className:"block w-full break-words",children:[o(r),"/",o(e.maxTime)]})})]})]})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-2",children:[jsxRuntimeExports.jsx(CategoryProgress,{category:"promises",stats:e.categoryStats.promises}),jsxRuntimeExports.jsx(CategoryProgress,{category:"async-await",stats:e.categoryStats["async-await"]}),jsxRuntimeExports.jsx(CategoryProgress,{category:"callbacks",stats:e.categoryStats.callbacks})]})]})});AsyncQuestStats.displayName="AsyncQuestStats";const AsyncQuestSummary=reactExports.memo(({score:e,timeElapsed:s,challenges:a,correctAnswers:o,categoryStats:r,onRestart:i})=>{const{updatePoints:l}=useUpdatePoints();reactExports.useEffect(()=>{l(e)},[e,l]);const n=x=>{const d=Math.floor(x/60),m=x%60;return`${d}:${m.toString().padStart(2,"0")}`};return jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"p-6 bg-dark-800/50 border border-js/10 rounded-lg",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-js mb-6 text-center",children:o===a.length?"Gratulacje!":"Koniec gry!"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx(FaStar,{className:"w-5 h-5 text-js"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:"Wynik końcowy"}),jsxRuntimeExports.jsxs("div",{className:"text-lg font-bold text-js",children:[e," punktów"]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500",children:["Poprawne odpowiedzi: ",o,"/",a.length]})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx(FaClock,{className:"w-5 h-5 text-js"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:"Czas ukończenia"}),jsxRuntimeExports.jsx("div",{className:"text-lg font-bold text-js",children:n(s)})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-js",children:"Statystyki kategorii:"}),jsxRuntimeExports.jsx(CategoryProgress,{category:"promises",stats:r.promises}),jsxRuntimeExports.jsx(CategoryProgress,{category:"async-await",stats:r["async-await"]}),jsxRuntimeExports.jsx(CategoryProgress,{category:"callbacks",stats:r.callbacks})]}),jsxRuntimeExports.jsx("button",{onClick:i,className:"w-full px-6 py-3 rounded-lg bg-js text-dark font-medium hover:bg-js/90 transition-colors",children:"Zagraj ponownie"})]})});AsyncQuestSummary.displayName="AsyncQuestSummary";const AsyncQuestProgress=reactExports.memo(({currentLevel:e,totalLevels:s})=>{const a=(e-1)/s*100;return jsxRuntimeExports.jsx("div",{className:"w-full bg-dark-800/50 h-1 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx(motion.div,{initial:{width:0},animate:{width:`${a}%`},className:"h-full bg-js",transition:{duration:.3}})})});AsyncQuestProgress.displayName="AsyncQuestProgress";const useCodeExecution=()=>{const[e,s]=reactExports.useState(!1),[a,o]=reactExports.useState([]);return{executeCode:reactExports.useCallback(async i=>{s(!0),o([]);try{const d={console:{log:(...p)=>{o(u=>[...u,p.map(j=>String(j)).join(" ")])},error:(...p)=>{o(u=>[...u,`Error: ${p.map(j=>String(j)).join(" ")}`])}},fetch:()=>Promise.resolve({json:()=>Promise.resolve({data:"mock data"})}),setTimeout:(p,u)=>setTimeout(p,Math.min(u,1e3)),Promise},m=`
        with (context) {
          ${i}
        }
      `;return await new Function("context",m)(d),{success:!0,output:a}}catch(l){return console.error("Błąd podczas wykonywania kodu:",l),{success:!1,output:a,error:l.message}}finally{s(!1)}},[]),isRunning:e,output:a,clearOutput:()=>o([])}},validateAsyncCode=(e,s)=>{const a=x=>x.replace(/\s+/g," ").trim(),o=a(e),r=a(s);if(o===r)return!0;const i=x=>x.includes("async")&&x.includes("function"),l=x=>x.includes(".then(")&&x.includes(".catch("),n=x=>x.includes("try")&&x.includes("catch");return!(i(s)&&!i(e)||l(s)&&!l(e)||n(s)&&!n(e))},AsyncQuestHint=reactExports.memo(({type:e,message:s,code:a,explanation:o})=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:e==="hint"?-10:10},animate:{opacity:1,y:0},className:`p-4 rounded-lg ${e==="hint"?"bg-js/10 border border-js/20":"bg-red-500/20 border border-red-500/30"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[e==="hint"?jsxRuntimeExports.jsx(FaLightbulb,{className:"w-5 h-5 text-js flex-shrink-0 mt-0.5"}):jsxRuntimeExports.jsx(FaExclamationTriangle,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:`text-sm font-medium ${e==="hint"?"text-js":"text-red-400"}`,children:e==="hint"?"Podpowiedź:":"Błąd:"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:s}),a&&jsxRuntimeExports.jsx("div",{className:"mt-2 p-2 bg-dark-900 rounded-lg font-mono text-sm text-gray-300",children:a}),o&&jsxRuntimeExports.jsxs("div",{className:"mt-2 text-sm text-gray-400",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-js",children:"Wyjaśnienie: "}),o]})]})]})}));AsyncQuestHint.displayName="AsyncQuestHint";const getErrorHint=(e,s)=>{if(s==="async-await"){if(!e.includes("async"))return{message:"Funkcja powinna być oznaczona jako asynchroniczna.",explanation:"Użyj słowa kluczowego async przed deklaracją funkcji.",example:"async function getData() { ... }"};if(!e.includes("await"))return{message:"Brak słowa kluczowego await przy wywołaniu asynchronicznym.",explanation:"Użyj await aby poczekać na wynik operacji asynchronicznej.",example:"const data = await fetchData();"}}if(s==="promises"){if(!e.includes(".catch"))return{message:"Brak obsługi błędów w łańcuchu Promise.",explanation:"Dodaj .catch() aby obsłużyć potencjalne błędy.",example:"fetch(url).then(...).catch(error => { ... })"};if(!e.includes(".then"))return{message:"Brak obsługi wyniku Promise.",explanation:"Użyj .then() aby obsłużyć wynik pomyślnego wykonania.",example:"promise.then(result => { ... })"}}return s==="callbacks"&&!e.includes("new Promise")?{message:"Przekształć callback w Promise.",explanation:"Użyj konstruktora Promise aby opakować callback.",example:"new Promise((resolve, reject) => { ... })"}:{message:"Sprawdź poprawność składni kodu.",explanation:"Upewnij się, że kod jest zgodny z wymaganiami zadania."}},AsyncQuestGame=reactExports.memo(({currentChallenge:e,onScoreUpdate:s,onLevelComplete:a,currentLevel:o,totalLevels:r,onGameOver:i})=>{const[l,n]=reactExports.useState(e.code),[x,d]=reactExports.useState(!1),[m,p]=reactExports.useState(null),[u,j]=reactExports.useState(null),[g,y]=reactExports.useState(!1),E=reactExports.useRef(null),f=reactExports.useRef(null),R=reactExports.useRef(null),{executeCode:k,isRunning:w,clearOutput:v}=useCodeExecution();reactExports.useEffect(()=>{f.current&&f.current.scrollIntoView({behavior:"smooth",block:"center"})},[]);const h=S=>{E.current=S,y(!0),setTimeout(()=>{S.focus()},100)},b=reactExports.useCallback(S=>{S!==void 0&&(n(S),p(null),j(null),v())},[v]),N=reactExports.useCallback(()=>{R.current&&R.current.scrollIntoView({behavior:"smooth",block:"center"})},[]),L=reactExports.useCallback(async()=>{if(l){d(!1),v(),j(null);try{const S=await validateAsyncCode(l,e.correct),C=await k(l);if(S&&C.success)p(!0),d(!0),s(e.points,e.category),setTimeout(()=>{N()},100),setTimeout(()=>{a()},1500);else{p(!1),d(!0);const F=getErrorHint(l,e.category);j(F),setTimeout(()=>{N()},100),setTimeout(()=>{i()},2e3)}}catch{p(!1),d(!0);const C=getErrorHint(l,e.category);j(C),setTimeout(()=>{N()},100),setTimeout(()=>{i()},2e3)}}},[l,e,k,s,a,i,v,N]),P={minimap:{enabled:!1},fontSize:14,lineHeight:24,fontFamily:"JetBrains Mono, monospace",fontLigatures:!0,wordWrap:"on",automaticLayout:!0,padding:{top:16,bottom:16},scrollBeyondLastLine:!1,folding:!0,lineNumbers:"on",renderLineHighlight:"all",suggestOnTriggerCharacters:!0,parameterHints:{enabled:!0},tabSize:2,theme:"vs-dark"};return jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-6xl mx-auto p-4 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-js",children:e.title}),jsxRuntimeExports.jsx(AsyncQuestProgress,{currentLevel:o,totalLevels:r})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-6 mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-js mb-3",children:"Opis zadania"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-lg leading-relaxed mb-6",children:e.description}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-dark-700/50 border border-js/20 rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-js mb-2",children:"Zadanie"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-base",children:e.task})]})]})]}),jsxRuntimeExports.jsxs("div",{ref:f,className:"bg-dark-800/50 rounded-xl p-6",children:[jsxRuntimeExports.jsx("div",{className:"h-[500px] relative rounded-lg overflow-hidden border border-js/10",children:jsxRuntimeExports.jsx(Ft,{height:"100%",defaultLanguage:"javascript",value:l,onChange:b,onMount:h,options:{...P,fontSize:16,lineHeight:26},className:"w-full"})}),jsxRuntimeExports.jsx("button",{onClick:L,disabled:w||!g,className:`mt-4 w-full px-6 py-3 rounded-lg font-medium transition-colors ${w||!g?"bg-gray-500 cursor-not-allowed":"bg-js text-dark hover:bg-js/90"}`,children:w?"Wykonywanie...":"Uruchom kod"})]}),x&&jsxRuntimeExports.jsx(motion.div,{ref:R,initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-dark-800/50 rounded-xl p-6",children:jsxRuntimeExports.jsx(AsyncQuestHint,{type:m?"hint":"error",message:m?"Świetnie! Rozwiązanie jest poprawne.":e.error,explanation:m||u==null?void 0:u.explanation,code:m||u==null?void 0:u.example})})]})});AsyncQuestGame.displayName="AsyncQuestGame";const AsyncQuest=reactExports.memo(({isPaused:e=!1})=>{const{data:s,isLoading:a,error:o}=useGamesQuery(),r=s==null?void 0:s.games.find(h=>h.slug==="async-quest"),[i,l]=reactExports.useState(!1),[n,x]=reactExports.useState({currentLevel:1,totalLevels:0,score:0,timeElapsed:0,maxTime:r!=null&&r.estimatedTime?r.estimatedTime*60:300,correctAnswers:0,categoryStats:{promises:{total:0,correct:0,points:0},"async-await":{total:0,correct:0,points:0},callbacks:{total:0,correct:0,points:0}}}),[d,m]=reactExports.useState(!1),[p,u]=reactExports.useState(0),{timeElapsed:j,resetTimer:g,startTimer:y,stopTimer:E}=useGameTimer({maxTime:r!=null&&r.estimatedTime?r.estimatedTime*60:300,onTimeEnd:()=>{m(!0),u(j),E()},isPaused:e});reactExports.useEffect(()=>{r&&x(h=>({...h,totalLevels:r.gameData.length}))},[r]),reactExports.useEffect(()=>{!d&&!e&&x(h=>({...h,timeElapsed:j}))},[j,d,e]),reactExports.useEffect(()=>{!d&&!e&&y()},[d,e,y]);const f=(h,b)=>{x(N=>({...N,score:N.score+h,correctAnswers:N.correctAnswers+1,categoryStats:{...N.categoryStats,[b]:{...N.categoryStats[b],total:N.categoryStats[b].total+1,correct:N.categoryStats[b].correct+1,points:N.categoryStats[b].points+h}}}))},R=()=>{const h=n.currentLevel+1;h>n.totalLevels?(m(!0),u(j),E()):x(b=>({...b,currentLevel:h}))},k=()=>{m(!0),u(j),E()},w=()=>{const h={promises:{total:0,correct:0,points:0},"async-await":{total:0,correct:0,points:0},callbacks:{total:0,correct:0,points:0}};r==null||r.gameData.forEach(b=>{b.category&&h[b.category].total++}),x({currentLevel:1,totalLevels:(r==null?void 0:r.gameData.length)||0,score:0,timeElapsed:0,maxTime:r!=null&&r.estimatedTime?r.estimatedTime*60:300,correctAnswers:0,categoryStats:h}),m(!1),g(),y()},v=()=>{l(!0),y()};return a?jsxRuntimeExports.jsx("div",{children:"Ładowanie..."}):o?jsxRuntimeExports.jsxs("div",{children:["Błąd: ",o.message]}):r?i?jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-full flex flex-col",children:[jsxRuntimeExports.jsx(AsyncQuestStats,{stats:n,isGameOver:d,finalTime:p}),jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto py-6",children:d?jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},children:jsxRuntimeExports.jsx(AsyncQuestSummary,{score:n.score,timeElapsed:p,challenges:r.gameData,correctAnswers:n.correctAnswers,categoryStats:n.categoryStats,onRestart:w})},"game-over"):jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.3},className:"w-full",children:jsxRuntimeExports.jsx(AsyncQuestGame,{currentChallenge:r.gameData[n.currentLevel-1],onScoreUpdate:f,onLevelComplete:R,currentLevel:n.currentLevel,totalLevels:n.totalLevels,onGameOver:k})},`level-${n.currentLevel}`)})})]}):jsxRuntimeExports.jsx(GameIntro,{gameContent:r,onStart:v}):null});AsyncQuest.displayName="AsyncQuest";const AsyncQuest_component=Object.freeze(Object.defineProperty({__proto__:null,default:AsyncQuest},Symbol.toStringTag,{value:"Module"})),RegexRaiderStats=reactExports.memo(({stats:e,isGameOver:s,finalTime:a})=>{const o=i=>{const l=Math.floor(i/60),n=i%60;return`${l}:${n.toString().padStart(2,"0")}`},r=s?a:e.timeElapsed;return jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[jsxRuntimeExports.jsx(FaCode,{className:"w-5 h-5 text-js"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:"Poziom"}),jsxRuntimeExports.jsxs("div",{className:"text-lg font-bold text-js",children:[e.currentLevel,"/",e.totalLevels]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[jsxRuntimeExports.jsx(FaStar,{className:"w-5 h-5 text-js"}),jsxRuntimeExports.jsxs("div",{className:"w-full",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:"Punkty"}),jsxRuntimeExports.jsx("div",{className:"text-lg font-bold text-js",children:e.score}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500",children:["Poprawne: ",e.correctAnswers,"/",e.totalLevels]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[jsxRuntimeExports.jsx(FaClock,{className:"w-5 h-5 text-js"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:"Czas"}),jsxRuntimeExports.jsx("div",{className:"text-lg font-bold text-js flex flex-wrap w-full",children:jsxRuntimeExports.jsxs("span",{className:"block w-full break-words",children:[o(r),"/",o(e.maxTime)]})})]})]})]})});RegexRaiderStats.displayName="RegexRaiderStats";const RegexRaiderHint=reactExports.memo(({pattern:e,explanation:s,example:a})=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-dark-800/50 border border-js/10 rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-js/10",children:jsxRuntimeExports.jsx(FaLightbulb,{className:"w-4 h-4 text-js"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:s}),e&&jsxRuntimeExports.jsx("div",{className:"font-mono text-sm bg-dark-900/50 p-2 rounded text-js",children:e}),a&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500",children:["Przykład: ",jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:a})]})]})]})}));RegexRaiderHint.displayName="RegexRaiderHint";const RegexRaiderGame=reactExports.memo(({onScoreUpdate:e,onLevelComplete:s,currentLevel:a,onGameOver:o})=>{const{data:r}=useGamesQuery(),i=r==null?void 0:r.games.find(y=>y.slug==="regex-raider"),[l,n]=reactExports.useState(""),[x,d]=reactExports.useState([]),[m,p]=reactExports.useState(null);if(!i)return null;const u=i.gameData[a-1],j=reactExports.useCallback(y=>{const E=y.target.value;n(E),p(null);try{const f=new RegExp(E,"g"),R=u.text.match(f)||[];d(R)}catch{d([])}},[u]),g=reactExports.useCallback(()=>{try{const y=u.text.match(new RegExp(l,"g"))||[],E=u.text.match(new RegExp(u.correctRegex,"g"))||[],f=y.length===E.length&&y.every(R=>E.includes(R));p(f),f?(e(10),setTimeout(()=>{s(),n(""),d([]),p(null)},1500)):setTimeout(()=>{o()},1500)}catch{p(!1),setTimeout(()=>{o()},1500)}},[l,u,e,s,o]);return jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 bg-dark-800/50 border border-js/10 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Zadanie:"}),jsxRuntimeExports.jsx("div",{className:"text-lg text-js mb-4",children:u.task}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Tekst:"}),jsxRuntimeExports.jsx("div",{className:"font-mono bg-dark-900/50 p-4 rounded-lg text-gray-300",children:u.text})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("input",{type:"text",value:l,onChange:j,placeholder:"Wpisz wyrażenie regularne...",className:"flex-1 bg-dark-900/50 border border-js/10 rounded-lg px-4 py-2 text-gray-300 font-mono"}),jsxRuntimeExports.jsx("button",{onClick:g,className:"px-6 py-2 bg-js text-dark font-medium rounded-lg hover:bg-js/90 transition-colors",children:"Sprawdź"})]}),x.length>0&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 bg-dark-900/50 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Znalezione dopasowania:"}),jsxRuntimeExports.jsx("div",{className:"space-y-1",children:x.map((y,E)=>jsxRuntimeExports.jsx("div",{className:"font-mono text-js",children:y},E))})]}),m!==null&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-4 rounded-lg ${m?"bg-green-500/20 border border-green-500/30":"bg-red-500/20 border border-red-500/30"}`,children:jsxRuntimeExports.jsx("p",{className:`text-sm ${m?"text-green-400":"text-red-400"}`,children:m?"Świetnie! Wyrażenie regularne jest poprawne!":"Wyrażenie nie znajduje wszystkich wymaganych dopasowań."})}),m===!1&&jsxRuntimeExports.jsx(RegexRaiderHint,{pattern:u.correctRegex,explanation:"Niepoprawne wyrażenie regularne. Gra zostanie zakończona...",example:`Poprawne wyrażenie: ${u.correctRegex}`})]})]})});RegexRaiderGame.displayName="RegexRaiderGame";const RegexRaiderSummary=reactExports.memo(({score:e,timeElapsed:s,correctAnswers:a,totalLevels:o,onRestart:r})=>{const{updatePoints:i}=useUpdatePoints();reactExports.useEffect(()=>{i(e)},[e,i]);const l=n=>{const x=Math.floor(n/60),d=n%60;return`${x}:${d.toString().padStart(2,"0")}`};return jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"p-6 bg-dark-800/50 border border-js/10 rounded-lg",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-js mb-6 text-center",children:"Koniec gry!"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx(FaStar,{className:"w-5 h-5 text-js"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:"Wynik końcowy"}),jsxRuntimeExports.jsxs("div",{className:"text-lg font-bold text-js",children:[e," punktów"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx(FaTrophy,{className:"w-5 h-5 text-js"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:"Rozwiązane zadania"}),jsxRuntimeExports.jsxs("div",{className:"text-lg font-bold text-js",children:[a,"/",o]})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx(FaClock,{className:"w-5 h-5 text-js"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:"Czas gry"}),jsxRuntimeExports.jsx("div",{className:"text-lg font-bold text-js",children:l(s)})]})]})]}),jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsx("button",{onClick:r,className:"px-6 py-3 bg-js text-dark font-medium rounded-lg hover:bg-js/90 transition-colors",children:"Zagraj ponownie"})})]})});RegexRaiderSummary.displayName="RegexRaiderSummary";const RegexRaider=reactExports.memo(({isPaused:e=!1})=>{const{data:s,isLoading:a,error:o}=useGamesQuery(),r=s==null?void 0:s.games.find(h=>h.slug==="regex-raider"),[i,l]=reactExports.useState(!1),[n,x]=reactExports.useState({currentLevel:1,totalLevels:0,score:0,timeElapsed:0,maxTime:300,correctAnswers:0}),[d,m]=reactExports.useState(!1),[p,u]=reactExports.useState(0),{timeElapsed:j,resetTimer:g,startTimer:y,stopTimer:E}=useGameTimer({maxTime:n.maxTime,onTimeEnd:()=>{m(!0),u(j),E()},isPaused:e});reactExports.useEffect(()=>{r&&x(h=>({...h,totalLevels:r.gameData.length}))},[r]),reactExports.useEffect(()=>(y(),()=>E()),[y,E]),reactExports.useEffect(()=>{d||x(h=>({...h,timeElapsed:j}))},[j,d]);const f=reactExports.useCallback(h=>{x(b=>({...b,score:b.score+h,correctAnswers:b.correctAnswers+1}))},[]),R=reactExports.useCallback(()=>{x(h=>{const b=h.currentLevel+1;return b>h.totalLevels&&(m(!0),u(j),E()),{...h,currentLevel:b}})},[j,E]),k=reactExports.useCallback(()=>{x({currentLevel:1,totalLevels:n.totalLevels,score:0,timeElapsed:0,maxTime:300,correctAnswers:0}),m(!1),g(),y()},[g,y]),w=reactExports.useCallback(()=>{m(!0),u(j),E()},[j,E]),v=()=>{l(!0),y()};return a?jsxRuntimeExports.jsx("div",{children:"Ładowanie..."}):o?jsxRuntimeExports.jsxs("div",{children:["Błąd: ",o.message]}):r?i?jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full space-y-6",children:[jsxRuntimeExports.jsx(RegexRaiderStats,{stats:n,isGameOver:d,finalTime:p}),jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:d?jsxRuntimeExports.jsx(RegexRaiderSummary,{score:n.score,timeElapsed:p,correctAnswers:n.correctAnswers,totalLevels:n.totalLevels,onRestart:k},"game-over"):jsxRuntimeExports.jsx(RegexRaiderGame,{onScoreUpdate:f,onLevelComplete:R,currentLevel:n.currentLevel,onGameOver:w},`level-${n.currentLevel}`)})]}):jsxRuntimeExports.jsx(GameIntro,{gameContent:r,onStart:v}):null});RegexRaider.displayName="RegexRaider";const RegexRaider_component=Object.freeze(Object.defineProperty({__proto__:null,default:RegexRaider},Symbol.toStringTag,{value:"Module"}));export{CodeEditor as C,Dashboard as D,GamesSection as G,LearnSection as L,StatsSection$1 as S,DashboardContent as a,LessonPage as b,SettingsSection as c,GameplayRouter as d};
