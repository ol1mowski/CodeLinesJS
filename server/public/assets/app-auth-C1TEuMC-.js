var Y=Object.defineProperty,Q=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable;var W=(s,t,a)=>t in s?Y(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,g=(s,t)=>{for(var a in t||(t={}))q.call(t,a)&&W(s,a,t[a]);if(F)for(var a of F(t))ee.call(t,a)&&W(s,a,t[a]);return s},z=(s,t)=>Q(s,X(t));var h=(s,t,a)=>new Promise((o,r)=>{var n=m=>{try{c(a.next(m))}catch(l){r(l)}},i=m=>{try{c(a.throw(m))}catch(l){r(l)}},c=m=>m.done?o(m.value):Promise.resolve(m.value).then(n,i);c((a=a.apply(s,t)).next())});import{r as w,j as e,H as se,u as b,G as te,a as A,F as I,b as re,c as ae,d as oe,L as R,k as G,e as ne,f as U,g as ie,h as le,i as B}from"./vendor-react-CJ54LlXd.js";import{F as E,a as S,b as O,c as T,P as v,A as ce,S as me,E as de,B as ue}from"./app-components-Csu1_1TR.js";import{m as k,A as we}from"./vendor-framer-motion-CjTqnTsN.js";import{z as j,t as P}from"./vendor-other-CaWO9hIU.js";import{h as f}from"./app-services-jNV7Sc-I.js";const ge="CodeLinesJS - Nauka JavaScript przez gry i praktykę",xe="Ucz się JavaScript w interaktywny sposób przez gry, wyzwania i praktyczne ćwiczenia. Dołącz do społeczności programistów i rozwijaj swoje umiejętności.",J=w.memo(({title:s,description:t=xe,type:a="website",children:o})=>{const r=s?`${s} | CodeLinesJS`:ge;return e.jsxs(se,{children:[e.jsx("title",{children:r}),e.jsx("meta",{name:"description",content:t}),e.jsx("meta",{property:"og:title",content:r}),e.jsx("meta",{property:"og:description",content:t}),e.jsx("meta",{property:"og:type",content:a}),e.jsx("meta",{name:"twitter:title",content:r}),e.jsx("meta",{name:"twitter:description",content:t}),o]})});J.displayName="SEO";const pe=()=>{const[s,t]=w.useState(!1),[a,o]=w.useState(null),[r,n]=w.useState(!1),[i,c]=w.useState(!0),[m,l]=w.useState(null);return{loading:s,setLoading:t,error:a,setError:o,isAuthenticated:r,setIsAuthenticated:n,isLoading:i,setIsLoading:c,user:m,setUser:l}},je=s=>{const t=b(),{setLoading:a,setError:o,setIsAuthenticated:r,setUser:n}=s;return(c,m,l=!1)=>h(void 0,null,function*(){try{a(!0),o(null);const d=yield f.post("auth/login",{email:c,password:m,rememberMe:l});if(d.error)throw new Error(d.error);if(!d.data)throw new Error("Nieznany błąd logowania. Spróbuj ponownie później.");const{user:u}=d.data;n(u),r(!0),t("/dashboard")}catch(d){const u=d instanceof Error?d.message:"Wystąpił błąd podczas logowania";o(u),r(!1)}finally{a(!1)}})},he=s=>{const t=b(),{setLoading:a,setError:o,setIsAuthenticated:r,setUser:n}=s;return(c,m,l)=>h(void 0,null,function*(){try{a(!0),o(null);const d=yield f.post("auth/register",{email:c,password:m,username:l});if(d.error)throw d.error.includes("już istnieje")?(o("Użytkownik o podanym adresie email lub nazwie użytkownika już istnieje w systemie"),new Error("Użytkownik o podanym adresie email lub nazwie użytkownika już istnieje w systemie")):(o(d.error),new Error(d.error));if(!d.data){const x="Nieznany błąd rejestracji. Spróbuj ponownie później.";throw o(x),new Error(x)}const{user:u}=d.data;n&&u&&n(u),r(!0),t("/dashboard")}catch(d){const u=d instanceof Error?d.message:"Wystąpił błąd podczas rejestracji";o(u),r(!1)}finally{a(!1)}})},ye=s=>{const{setLoading:t,setError:a}=s;return r=>h(void 0,null,function*(){var n;try{t(!0),a(null);const i=yield f.post("auth/forgot-password",{email:r});if(i.error)throw new Error(i.error);return((n=i.data)==null?void 0:n.message)||"Link do resetowania hasła został wysłany na Twój adres email."}catch(i){if(i instanceof Error)throw a(i.message),i;{const c="Wystąpił błąd podczas wysyłania linku resetującego hasło";throw a(c),new Error(c)}}finally{t(!1)}})},fe=s=>{const t=b(),{setLoading:a,setIsAuthenticated:o,setUser:r}=s;return()=>h(void 0,null,function*(){try{a(!0),yield f.post("auth/logout",{}),r&&r(null),o(!1),t("/")}catch(i){console.error("Błąd podczas wylogowania:",i),r&&r(null),o(!1),t("/")}finally{a(!1)}})},be=s=>{const t=b(),{setLoading:a,setError:o,setIsAuthenticated:r,setUser:n}=s;return(c,m=!1)=>h(void 0,null,function*(){try{if(a(!0),o(null),!c.credential){o("Nie udało się uzyskać tokenu uwierzytelniającego z Google. Spróbuj ponownie."),r(!1);return}const l=yield f.post("auth/google-login",{credential:c.credential,rememberMe:m});if(l.error)throw new Error(l.error);if(!l.data)throw new Error("Nieznany błąd logowania przez Google. Spróbuj ponownie później.");const d=l.data,u=d.user||d.user&&d.user.user;n&&n(u),r(!0),t("/dashboard")}catch(l){const d=l instanceof Error?l.message:"Wystąpił błąd podczas logowania przez Google";o(d),r(!1)}finally{a(!1)}})},ze=s=>{const t=b(),{setLoading:a,setError:o}=s;return(n,i,c)=>h(void 0,null,function*(){var m;try{if(!n||n.length<10)throw new Error("Nieprawidłowy token resetowania hasła. Sprawdź, czy link jest poprawny.");if(i!==c)throw new Error("Hasła nie są identyczne. Upewnij się, że oba pola zawierają to samo hasło.");a(!0),o(null);const l=yield f.post("auth/reset-password",{token:n,password:i,confirmPassword:c});if(l.error)throw new Error(l.error);return setTimeout(()=>{t("/logowanie")},3e3),((m=l.data)==null?void 0:m.message)||"Hasło zostało pomyślnie zmienione. Za chwilę zostaniesz przekierowany do strony logowania."}catch(l){if(l instanceof Error)throw o(l.message),l;{const d="Wystąpił nieznany błąd podczas resetowania hasła";throw o(d),new Error(d)}}finally{a(!1)}})},Se=s=>{const t=je(s),a=he(s),o=ye(s),r=fe(s),n=be(s),i=ze(s);return{login:t,register:a,forgotPassword:o,logout:r,loginWithGoogle:n,resetPassword:i}},N=()=>{const s=pe(),t=Se(s),a=b(),[o,r]=w.useState(!0),n=()=>h(void 0,null,function*(){var m;try{r(!0);const l=yield f.get("auth/verify");if(l.error)throw new Error(l.error);if((m=l.data)!=null&&m.user)s.setUser(l.data.user),s.setIsAuthenticated(!0);else throw new Error("Odpowiedź API nie zawiera danych użytkownika")}catch(l){s.setError(l instanceof Error?l.message:"Wystąpił błąd podczas weryfikacji tokenu"),s.setIsAuthenticated(!1)}finally{r(!1)}});w.useEffect(()=>{n()},[]);const i=()=>h(void 0,null,function*(){try{yield f.post("auth/logout",{})}catch(m){console.error("Błąd podczas wylogowania:",m)}finally{s.setIsAuthenticated(!1),s.setUser(null),a("/")}}),c=z(g({},s),{isAuthChecking:o,token:null});return z(g(g({},c),t),{logout:i})},L=({text:s,description:t,icon:a="⚡"})=>e.jsxs("div",{className:"flex items-start justify-center lg:justify-start gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-[#f7df1e] rounded-lg flex items-center justify-center flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-black text-sm sm:text-base font-bold",children:a})}),e.jsxs("div",{className:"flex flex-col text-center lg:text-left",children:[e.jsx("span",{className:"text-white font-semibold text-base sm:text-lg",children:s}),t&&e.jsx("span",{className:"text-gray-300 text-sm sm:text-base mt-1",children:t})]})]}),ke=()=>e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsx(L,{text:"Szybki rozwój",description:"Naucz się nowoczesnych technologii JS",icon:"⚡"}),e.jsx(L,{text:"Społeczność",description:"Połącz się z innymi developerami",icon:"☕"}),e.jsx(L,{text:"Praktyka",description:"Rozwiązuj prawdziwe problemy",icon:">"})]}),Ne=()=>e.jsxs("div",{className:"w-full max-w-xl",children:[e.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-3 mb-6 sm:mb-8",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-[#f7df1e] rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-black font-bold text-xl sm:text-2xl",children:"JS"})}),e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"CodeLines"})]}),e.jsxs("h1",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-bold text-white mb-4 sm:mb-6 leading-tight",children:["Witaj w świecie ",e.jsx("span",{className:"text-[#f7df1e]",children:"JavaScript"})]}),e.jsx("p",{className:"text-base sm:text-lg text-gray-300 mb-6 sm:mb-8 leading-relaxed",children:"Dołącz do społeczności programistów i rozwijaj swoje umiejętności w najpopularniejszym języku programowania na świecie."}),e.jsx(ke,{}),e.jsx("div",{className:"mt-8 sm:mt-12 bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-4 sm:p-6 border border-gray-700",children:e.jsx("pre",{className:"text-[#f7df1e] text-xs sm:text-sm font-mono leading-relaxed",children:e.jsx("code",{children:`const developer = {
  name: "Twoje imię",
  skills: ["JavaScript", "React", "Node.js"],
  passion: "coding"
};`})})})]}),Ee=()=>e.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"w-full max-w-xl flex flex-col items-center lg:items-start text-center lg:text-left px-4 sm:px-0",children:e.jsx(Ne,{})}),ve=({activeTab:s,onTabChange:t})=>e.jsxs("div",{className:"flex items-center justify-center gap-1 mb-6 sm:mb-8 bg-gray-50 rounded-lg p-1",children:[e.jsx(_,{isActive:s==="login",onClick:()=>t("login"),label:"Logowanie"}),e.jsx(_,{isActive:s==="register",onClick:()=>t("register"),label:"Rejestracja"}),e.jsx(_,{isActive:s==="forgot",onClick:()=>t("forgot"),label:"Reset hasła"})]}),_=({isActive:s,onClick:t,label:a})=>e.jsx("button",{onClick:t,className:`flex-1 px-2 sm:px-4 py-2 rounded-md text-xs sm:text-sm font-medium transition-colors duration-150 ${s?"bg-white text-gray-900 border border-gray-900 border-2":"bg-white text-gray-900"}`,children:a}),Ae=j.object({email:j.string().min(1,"Email jest wymagany").email("Nieprawidłowy format email"),password:j.string().min(1,"Hasło jest wymagane"),rememberMe:j.boolean().optional()}),Re=j.object({username:j.string().min(3,"Nazwa użytkownika musi mieć minimum 3 znaki").max(20,"Nazwa użytkownika nie może przekraczać 20 znaków").regex(/^[a-zA-Z0-9_]+$/,"Nazwa użytkownika może zawierać tylko litery, cyfry i podkreślenia"),email:j.string().email("Nieprawidłowy format adresu email"),password:j.string().min(8,"Hasło musi mieć minimum 8 znaków").regex(/[A-Z]/,"Hasło musi zawierać przynajmniej jedną wielką literę").regex(/[a-z]/,"Hasło musi zawierać przynajmniej jedną małą literę").regex(/[0-9]/,"Hasło musi zawierać przynajmniej jedną cyfrę"),confirmPassword:j.string(),acceptPrivacy:j.boolean().refine(s=>s===!0,{message:"Musisz zaakceptować politykę prywatności"})}).refine(s=>s.password===s.confirmPassword,{message:"Hasła muszą być identyczne",path:["confirmPassword"]}),Pe=j.object({email:j.string().min(1,"Email jest wymagany").email("Nieprawidłowy format email")}),Le=j.object({password:j.string().min(8,"Hasło musi mieć minimum 8 znaków").regex(/[A-Z]/,"Hasło musi zawierać przynajmniej jedną wielką literę").regex(/[a-z]/,"Hasło musi zawierać przynajmniej jedną małą literę").regex(/[0-9]/,"Hasło musi zawierać przynajmniej jedną cyfrę"),confirmPassword:j.string()}).refine(s=>s.password===s.confirmPassword,{message:"Hasła muszą być identyczne",path:["confirmPassword"]}),Z=w.memo(({rememberMe:s})=>{const{loginWithGoogle:t}=N(),[a,o]=w.useState(null),r=i=>{t(i,s)},n=()=>{o("Logowanie przez Google nie powiodło się. Spróbuj ponownie później.")};return e.jsxs(e.Fragment,{children:[a&&e.jsx("div",{className:"mb-4 p-3 rounded-lg bg-red-50 border border-red-200 text-red-600 text-sm",children:a}),e.jsx("div",{className:"w-full",children:e.jsx(te,{onSuccess:r,onError:n,theme:"outline",shape:"rectangular",text:"continue_with",locale:"pl",useOneTap:!1,context:"signin",type:"standard",size:"large",width:"100%"})})]})});Z.displayName="GoogleLoginButton";const V=w.memo(({register:s})=>e.jsx("div",{className:"flex items-center",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",g({type:"checkbox",className:"peer sr-only"},s("rememberMe"))),e.jsx("div",{className:"w-4 h-4 border border-gray-300 rounded bg-white peer-checked:bg-[#f7df1e] peer-checked:border-[#f7df1e] transition-colors"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-black scale-0 peer-checked:scale-100 transition-transform",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),e.jsx("span",{className:"text-sm text-gray-600 group-hover:text-gray-800 transition-colors",children:"Zapamiętaj mnie"})]})}));V.displayName="RememberMeCheckbox";const _e=()=>{var u,x;const{login:s,loading:t,error:a}=N(),{register:o,handleSubmit:r,formState:{errors:n},watch:i}=A({resolver:P(Ae),mode:"onSubmit"}),c=i("rememberMe",!1)||!1,[m,l]=w.useState(!1),d=y=>h(void 0,null,function*(){yield s(y.email,y.password,y.rememberMe)});return e.jsxs("form",{onSubmit:r(d),className:"space-y-6",children:[a&&e.jsx(E,{message:a,withIcon:!0,variant:"standard"}),e.jsx(Z,{rememberMe:c}),e.jsxs("div",{className:"relative flex items-center justify-center my-6",children:[e.jsx("div",{className:"border-t border-gray-200 w-full"}),e.jsx("span",{className:"bg-white px-4 text-sm text-gray-500 absolute",children:"LUB"})]}),e.jsx(S,g({type:"email",label:"Email",placeholder:"twoj@email.com",icon:e.jsx(I,{}),error:(u=n.email)==null?void 0:u.message,styles:"white"},o("email"))),e.jsx(S,z(g({type:m?"text":"password",label:"Hasło",placeholder:"Wprowadź hasło",icon:e.jsx(re,{}),error:(x=n.password)==null?void 0:x.message,styles:"white"},o("password")),{rightIcon:e.jsx("button",{type:"button",onClick:()=>l(!m),className:"bg-white focus:outline-none hover:text-gray-600 transition-colors",children:m?e.jsx(ae,{}):e.jsx(oe,{})})})),e.jsx("div",{className:"flex items-center justify-between",children:e.jsx(V,{register:o})}),e.jsx("div",{className:"pt-2",children:e.jsx(O,{isLoading:t,loadingText:"Logowanie...",children:"Zaloguj się"})})]})},qe=()=>{const[s,t]=w.useState(!1);return{isVisible:s,toggleVisibility:()=>t(o=>!o),inputType:s?"text":"password"}},K=w.memo(({register:s,error:t})=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"flex items-start gap-2 cursor-pointer group",children:[e.jsx("input",g({type:"checkbox",className:`
          mt-1 w-4 h-4 rounded bg-dark text-js 
          transition-colors duration-200 ease-in-out
          ${t?"border-red-500 focus:ring-red-500/20":"border-js/20 focus:ring-js/20 hover:border-js/30"}
        `},s)),e.jsxs("span",{className:"text-sm text-gray-400 group-hover:text-gray-300 transition-colors",children:["Akceptuję"," ",e.jsx(R,{to:"/polityka-prywatnosci",className:"text-js hover:text-js/80 underline transition-colors",target:"_blank",rel:"noopener noreferrer",children:"politykę prywatności"})]})]}),t&&e.jsx(k.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-sm text-red-400",children:t})]}));K.displayName="PrivacyPolicyCheckbox";const M=({initialError:s=null,resetOnSuccess:t=!0,showToasts:a=!0}={})=>{const[o,r]=w.useState(null),[n,i]=w.useState(s);w.useEffect(()=>{s!=null&&i(s)},[s]);const c=w.useCallback(u=>{r(u),i(null),a&&G.success(u),t&&setTimeout(()=>{r(null)},5e3)},[t,a]),m=w.useCallback(u=>{i(u),r(null),a&&G.error(u)},[a]),l=w.useCallback(u=>{var y;let x="";if(u instanceof Error)x=u.message;else if(typeof u=="string")x=u;else if(u&&typeof u=="object"){const p=u;x=p.message||p.error||p.errors&&((y=p.errors[0])==null?void 0:y.message)||"Wystąpił nieznany błąd. Spróbuj ponownie później."}else x="Wystąpił nieznany błąd. Spróbuj ponownie później.";return m(x),x},[m]),d=w.useCallback(()=>{r(null),i(null)},[]);return{successMessage:o,errorMessage:n,setSuccess:c,setError:m,handleError:l,resetStatus:d,hasSuccess:!!o,hasError:!!n}},Ie=({schema:s,defaultValues:t,mode:a="onSubmit",resetOnSuccess:o=!0,onSuccess:r,onError:n})=>{const[i,c]=w.useState(!1),m=M({resetOnSuccess:o}),l=A({resolver:P(s),defaultValues:t,mode:a}),d=w.useCallback(p=>h(void 0,null,function*(){try{c(!0),m.resetStatus(),r&&(yield r(p))}catch(C){m.handleError(C),n&&n(C)}finally{c(!1)}}),[r,n,m]),u=w.useCallback(p=>{d(p)},[d]),x=w.useCallback(p=>{console.error("Form validation errors:",p),m.setError("Formularz zawiera błędy. Sprawdź wprowadzone dane.")},[m]),y=l.handleSubmit(u,x);return z(g({},l),{isSubmitting:i,errorMessage:m.errorMessage,successMessage:m.successMessage,onFormSubmit:y,handleSubmitWithValidation:d})},Oe=()=>{const{register:s,loading:t,error:a}=N(),[o,r]=w.useState(!1),[n,i]=w.useState(null),c=Ie({schema:Re,mode:"onChange",defaultValues:{acceptPrivacy:!1},onSuccess(l){return h(this,null,function*(){try{r(!0),i(null),yield s(l.email,l.password,l.username)}catch(d){const u=d instanceof Error?d.message:"Wystąpił błąd podczas rejestracji";i(u)}finally{r(!1)}})}});return w.useEffect(()=>{a&&i(a)},[a]),{register:c.register,errors:c.formState.errors,loading:t||o||c.isSubmitting,handleSubmit:c.onFormSubmit,errorMessage:n||a||c.errorMessage,successMessage:c.successMessage}},Te=()=>{var n,i,c,m,l;const{register:s,errors:t,loading:a,handleSubmit:o,errorMessage:r}=Oe();return e.jsxs(T,{onSubmit:o,children:[r&&e.jsx(E,{message:r,variant:"alert",title:"Błąd rejestracji",className:"mb-6 text-base border-2"}),e.jsx(S,g({type:"text",label:"Nazwa użytkownika",placeholder:"jankowalski",icon:e.jsx(ne,{}),error:(n=t.username)==null?void 0:n.message,styles:"white"},s("username"))),e.jsx(S,g({type:"email",label:"Email",placeholder:"twoj@email.com",icon:e.jsx(I,{}),error:(i=t.email)==null?void 0:i.message,styles:"white"},s("email"))),e.jsx(v,g({label:"Hasło",error:(c=t.password)==null?void 0:c.message,styles:"white"},s("password"))),e.jsx(v,g({label:"Potwierdź hasło",error:(m=t.confirmPassword)==null?void 0:m.message,styles:"white"},s("confirmPassword"))),e.jsx(K,{register:s("acceptPrivacy"),error:(l=t.acceptPrivacy)==null?void 0:l.message}),e.jsx(O,{isLoading:a,loadingText:"Rejestracja...",children:"Zarejestruj się"}),r&&e.jsx("div",{className:"mt-4",children:e.jsx(E,{message:r,withIcon:!0,className:"text-sm"})})]})},Me=()=>{const{forgotPassword:s,loading:t,error:a}=N(),o=M({initialError:a}),{register:r,handleSubmit:n,reset:i,formState:{errors:c}}=A({resolver:P(Pe)});return g({register:r,errors:c,loading:t,handleSubmit:n(l=>h(void 0,null,function*(){try{o.resetStatus();const d=yield s(l.email);o.setSuccess(d),i()}catch(d){o.handleError(d)}}))},o)},Ce=()=>{var i;const{register:s,errors:t,loading:a,handleSubmit:o,errorMessage:r,successMessage:n}=Me();return e.jsxs(T,{onSubmit:o,children:[r&&e.jsx(E,{message:r,withIcon:!0,variant:"alert",title:"Błąd resetowania hasła"}),n&&e.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Email wysłany!"}),e.jsx("p",{children:n})]}),!n&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"Podaj swój adres email, a wyślemy Ci link do zresetowania hasła."}),e.jsx(S,g({type:"email",label:"Email",placeholder:"twoj@email.com",icon:e.jsx(I,{}),error:(i=t.email)==null?void 0:i.message,styles:"white"},s("email"))),e.jsx(O,{isLoading:a,loadingText:"Wysyłanie...",children:"Wyślij link resetujący"})]})]})},Fe=({mode:s}={})=>{const[t,a]=U(),o=t.get("mode")||"login",[r,n]=w.useState(s||o);w.useEffect(()=>{n(s||o)},[s,o]);const i=c=>{n(c),a({mode:c})};return e.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"w-full max-w-sm sm:max-w-md bg-white rounded-xl sm:rounded-2xl p-6 sm:p-8 border border-gray-100",role:"main","aria-label":"Formularz autoryzacji",children:[e.jsxs("div",{className:"flex flex-col justify-center items-center mb-6 sm:mb-8",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-[#f7df1e] rounded-lg flex items-center justify-center mb-3 sm:mb-4",children:e.jsx("span",{className:"text-black font-bold text-lg sm:text-xl",children:"JS"})}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"CodeLinesJS"})]}),e.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[e.jsxs("h1",{className:"text-xl sm:text-2xl font-medium text-gray-900 mb-2",children:[r==="login"&&"Zaloguj się",r==="register"&&"Dołącz do nas",r==="forgot"&&"Odzyskaj hasło"]}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[r==="login"&&"Wprowadź swoje dane aby uzyskać dostęp do konta",r==="register"&&"Rozpocznij swoją przygodę z programowaniem",r==="forgot"&&"Wprowadź swój email aby zresetować hasło"]})]}),e.jsx(ve,{activeTab:r,onTabChange:i}),e.jsx(we,{mode:"wait",children:e.jsxs(k.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:[r==="login"&&e.jsx(_e,{}),r==="register"&&e.jsx(Te,{}),r==="forgot"&&e.jsx(Ce,{})]},r)}),e.jsx("div",{className:"mt-4 sm:mt-6 text-center text-xs text-gray-500",children:e.jsxs("p",{children:["Logując się, akceptujesz"," ",e.jsx(R,{to:"/polityka-prywatnosci",className:"text-[#f7df1e] hover:underline font-medium",children:"Politykę Prywatności"}),"."]})})]})},We=({children:s,title:t,subtitle:a,mode:o})=>e.jsx("div",{className:"w-full max-w-sm sm:max-w-md",children:s?e.jsxs("div",{className:"w-full bg-white rounded-xl sm:rounded-2xl p-6 sm:p-8 border border-gray-100",children:[e.jsxs("div",{className:"flex flex-col justify-center items-center mb-6 sm:mb-8",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-[#f7df1e] rounded-lg flex items-center justify-center mb-3 sm:mb-4",children:e.jsx("span",{className:"text-black font-bold text-lg sm:text-xl",children:"JS"})}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"CodeLinesJS"})]}),e.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-medium text-gray-900 mb-2",children:t||"Zaloguj się"}),a&&e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:a})]}),s]}):e.jsx(Fe,{mode:o})}),H=({children:s,title:t,subtitle:a}={})=>{const[o]=U(),r=o.get("mode")||"login",n=()=>{switch(r){case"register":return"Rejestracja | CodeLinesJS";case"forgot":return"Reset hasła | CodeLinesJS";default:return"Logowanie | CodeLinesJS"}},i=()=>{switch(r){case"register":return"Dołącz do platformy CodeLinesJS - rozpocznij swoją przygodę z programowaniem w JavaScript.";case"forgot":return"Zresetuj hasło do swojego konta CodeLinesJS i wróć do nauki programowania.";default:return"Logowanie do platformy CodeLinesJS - dołącz do nas i rozwijaj swoje umiejętności w przyjaznym środowisku."}};return e.jsxs("main",{className:"min-h-screen w-full flex",children:[e.jsx(J,{title:n(),description:i(),type:"website"}),e.jsx("div",{className:"hidden lg:flex w-1/2 bg-black items-center justify-center p-8",children:e.jsx(Ee,{})}),e.jsx("div",{className:"w-full lg:w-1/2 bg-[#f7df1e] flex items-center justify-center p-4 sm:p-6 lg:p-8",children:e.jsx(ce,{children:e.jsx(We,{children:s,title:t,subtitle:a,mode:r})})})]})},Ge={INVALID_TOKEN:"Nieprawidłowy lub wygasły token resetowania hasła. Sprawdź, czy link jest poprawny lub spróbuj ponownie zresetować hasło.",MISSING_TOKEN:"Brak tokenu resetowania hasła. Sprawdź, czy link jest poprawny.",TOKEN_TOO_SHORT:"Token resetowania hasła jest nieprawidłowy. Sprawdź, czy link jest poprawny.",PASSWORDS_NOT_MATCH:"Hasła nie są identyczne. Upewnij się, że oba pola zawierają to samo hasło.",PASSWORD_TOO_SHORT:"Hasło musi mieć co najmniej 8 znaków.",PASSWORD_REQUIREMENTS:"Hasło musi zawierać co najmniej 8 znaków, w tym jedną wielką literę, jedną małą literę i jedną cyfrę.",PASSWORD_CHANGED:"Hasło zostało pomyślnie zmienione.",PASSWORD_CHANGED_REDIRECT:"Hasło zostało pomyślnie zmienione. Za chwilę zostaniesz przekierowany do strony logowania.",EMAIL_SENT:"Link do resetowania hasła został wysłany na Twój adres email.",UNKNOWN_ERROR:"Wystąpił nieznany błąd. Spróbuj ponownie później.",NETWORK_ERROR:"Wystąpił błąd połączenia. Sprawdź połączenie z internetem.",SERVER_ERROR:"Wystąpił błąd serwera. Spróbuj ponownie później.",INVALID_CREDENTIALS:"Nieprawidłowe dane logowania.",GOOGLE_LOGIN_ERROR:"Nie udało się uzyskać tokenu uwierzytelniającego z Google. Spróbuj ponownie.",GOOGLE_LOGIN_FAILED:"Nieznany błąd logowania przez Google. Spróbuj ponownie później.",USER_EXISTS:"Użytkownik o podanym adresie email lub nazwie użytkownika już istnieje w systemie",REGISTRATION_ERROR:"Wystąpił błąd podczas rejestracji",RESET_PASSWORD_ERROR:"Wystąpił błąd podczas resetowania hasła",RESET_PASSWORD_SENDING_ERROR:"Wystąpił błąd podczas wysyłania linku resetującego hasło"},D={REDIRECTING_TO_LOGIN:"Za chwilę zostaniesz przekierowany do strony logowania.",GO_BACK_TO_LOGIN:"Wróć do strony logowania",TRY_AGAIN:"Spróbuj ponownie zresetować hasło",CHECK_EMAIL:"Sprawdź swoją skrzynkę email"},$=({errorMessage:s,showBackIcon:t=!1,className:a=""})=>{const o=s||Ge.INVALID_TOKEN;return e.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},className:`space-y-6 ${a}`,children:[e.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm flex items-start",children:[e.jsx(ie,{className:"mr-2 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"Błąd tokenu resetowania hasła"}),e.jsx("p",{children:o})]})]}),e.jsxs("div",{className:"text-center mt-6",children:[e.jsx("p",{className:"text-gray-400 mb-4",children:D.TRY_AGAIN}),e.jsxs(R,{to:"/logowanie",className:"inline-flex items-center text-js hover:underline ",children:[t&&e.jsx(le,{className:"mr-2"}),D.GO_BACK_TO_LOGIN]})]})]})},He=({errorMessage:s})=>e.jsx($,{errorMessage:s}),De=({message:s})=>s?e.jsxs(e.Fragment,{children:[e.jsx(me,{message:s,title:"Hasło zostało zmienione"}),e.jsxs("div",{className:"text-center mt-4",children:[e.jsx("p",{className:"text-gray-400 mb-2",children:"Za chwilę zostaniesz przekierowany do strony logowania."}),e.jsx(R,{to:"/logowanie",className:"text-js hover:underline",children:"Przejdź do logowania"})]})]}):null,Ue=()=>{const{token:s}=B(),{resetPassword:t,loading:a,error:o}=N(),r=M({initialError:o}),[n,i]=w.useState(!1),{register:c,handleSubmit:m,formState:{errors:l},reset:d}=A({resolver:P(Le),mode:"onSubmit"});return w.useEffect(()=>{s?s.length<10&&(i(!0),r.setError("Token resetowania hasła jest nieprawidłowy. Sprawdź, czy link jest poprawny.")):(i(!0),r.setError("Brak tokenu resetowania hasła. Sprawdź, czy link jest poprawny."))},[s,r]),g({register:c,errors:l,loading:a,tokenError:n,handleSubmit:m(x=>h(void 0,null,function*(){if(!s){r.setError("Brak tokenu resetowania hasła. Sprawdź, czy link jest poprawny.");return}try{r.resetStatus();const y=yield t(s,x.password,x.confirmPassword);r.setSuccess(y),d()}catch(y){const p=r.handleError(y);typeof p=="string"&&(p.includes("token")||p.includes("Token")||p.includes("wygasł"))&&i(!0)}}))},r)},Be=()=>{var c,m;const{register:s,errors:t,loading:a,handleSubmit:o,errorMessage:r,successMessage:n,tokenError:i}=Ue();return i?e.jsx(He,{errorMessage:r}):e.jsxs(T,{onSubmit:o,children:[r&&e.jsx(de,{message:r,title:"Błąd resetowania hasła"}),e.jsx(De,{message:n}),!n&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Wprowadź nowe hasło dla swojego konta. Hasło musi zawierać co najmniej 8 znaków, w tym jedną wielką literę, jedną małą literę i jedną cyfrę."}),e.jsx(v,g({label:"Nowe hasło",error:(c=t.password)==null?void 0:c.message,styles:"white"},s("password"))),e.jsx(v,g({label:"Potwierdź nowe hasło",error:(m=t.confirmPassword)==null?void 0:m.message,styles:"white"},s("confirmPassword"))),e.jsx(ue,{type:"submit",className:"w-full",disabled:a,children:a?"Resetowanie hasła...":"Zresetuj hasło"})]})]})},Je=()=>e.jsx($,{showBackIcon:!0}),Ze=()=>{const{token:s}=B();return s?e.jsx(H,{title:"Resetowanie hasła",subtitle:"Wprowadź nowe hasło dla swojego konta",children:e.jsx(Be,{})}):e.jsx(H,{title:"Nieprawidłowy link",subtitle:"Link do resetowania hasła jest nieprawidłowy lub wygasł.",children:e.jsx(Je,{})})},es=Object.freeze(Object.defineProperty({__proto__:null,ResetPasswordPage:Ze},Symbol.toStringTag,{value:"Module"}));export{H as A,J as S,qe as a,es as i,N as u};
