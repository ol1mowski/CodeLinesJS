var $i=Object.defineProperty,Fi=Object.defineProperties;var Di=Object.getOwnPropertyDescriptors;var Es=Object.getOwnPropertySymbols;var Mi=Object.prototype.hasOwnProperty,Bi=Object.prototype.propertyIsEnumerable;var As=(s,t,a)=>t in s?$i(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,k=(s,t)=>{for(var a in t||(t={}))Mi.call(t,a)&&As(s,a,t[a]);if(Es)for(var a of Es(t))Bi.call(t,a)&&As(s,a,t[a]);return s},z=(s,t)=>Fi(s,Di(t));var S=(s,t,a)=>new Promise((r,n)=>{var o=l=>{try{d(a.next(l))}catch(x){n(x)}},c=l=>{try{d(a.throw(l))}catch(x){n(x)}},d=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,c);d((a=a.apply(s,t)).next())});import{r as i,P as _e,j as e,Q as Rs,R as Oi,S as $s,w as R,p as _i,T as Ii,o as cs,v as Te,A as ds,U as Qs,V as Ws,u as pe,W as Gi,C as J,X as he,Y as ae,Z as ms,q as Hi,z as q,_ as Us,M as D,$ as xs,a0 as Vs,g as Z,f as Js,L as Ie,l as G,a1 as M,b as Y,a2 as Ks,a3 as Ge,a4 as us,a5 as Qi,a6 as Zs,a7 as qs,a8 as xe,a9 as Wi,x as ps,aa as He,ab as Ui,h as le,ac as Vi,ad as hs,m as Qe,ae as js,af as ys,ag as Xs,c as Ji,d as Ki,ah as gs,ai as Zi,aj as qi,ak as re,al as Ys,am as et,an as A,ao as st,ap as Xi,i as bs,N as tt,e as at,aq as fs,a as Ce,ar as ws,as as Yi,at as en,au as rt,av as it,aw as sn,ax as tn,ay as an,az as rn,aA as nn,aB as on,aC as ln,aD as Ns,aE as Le,aF as cn,aG as dn,aH as mn,aI as xn,aJ as un,aK as pn,aL as hn,aM as jn,aN as nt,aO as is}from"./vendor-react-CJ54LlXd.js";import{L as H,u as yn,M as gn,d as vs,e as bn,f as fn,a as ke,B as Se}from"./app-components-Csu1_1TR.js";import{S as B,u as W}from"./app-auth-C1TEuMC-.js";import{m as u,A as Q,u as wn}from"./vendor-framer-motion-CjTqnTsN.js";import{h as P}from"./app-services-jNV7Sc-I.js";import{f as Nn,p as vn,z as O,t as We,a as de}from"./vendor-other-CaWO9hIU.js";import{R as kn,L as Sn,C as zn,X as Tn,Y as Cn,T as Ln,a as Pn}from"./vendor-charts-DUrpc1Q5.js";import{l as En}from"./vendor-monaco-BhOdgGZI.js";const An="modulepreload",Rn=function(s){return"/"+s},Fs={},ne=function(t,a,r){let n=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));n=Promise.allSettled(a.map(l=>{if(l=Rn(l),l in Fs)return;Fs[l]=!0;const x=l.endsWith(".css"),m=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${m}`))return;const p=document.createElement("link");if(p.rel=x?"stylesheet":An,x||(p.as="script"),p.crossOrigin="",p.href=l,d&&p.setAttribute("nonce",d),document.head.appendChild(p),x)return new Promise((h,j)=>{p.addEventListener("load",h),p.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return n.then(c=>{for(const d of c||[])d.status==="rejected"&&o(d.reason);return t().catch(o)})},$n={activeView:"community"},Fn=(s,t)=>{switch(t.type){case"SET_ACTIVE_VIEW":return z(k({},s),{activeView:t.payload});default:return s}},Dn=()=>{const[s,t]=i.useReducer(Fn,$n),a=i.useCallback(r=>{t({type:"SET_ACTIVE_VIEW",payload:r})},[]);return{state:s,setActiveView:a}},ot=i.memo(()=>{const t=_e().pathname,a=t==="/dashboard/community"||t==="/dashboard/community/"||/^\/dashboard\/community\/?$/.test(t),r=t.includes("/dashboard/community/ranking");return e.jsxs("div",{className:"flex gap-4 mb-8 pb-2",children:[e.jsxs(Rs,{to:"/dashboard/community",className:`flex items-center gap-2 px-6 py-3 font-semibold rounded-lg transition-all ${a?"bg-js/10 text-js border-b-2 border-js shadow-md":"text-gray-400 hover:text-js hover:bg-js/5"}`,children:[e.jsx("i",{className:"fas fa-newspaper"}),"Aktualności"]}),e.jsxs(Rs,{to:"/dashboard/community/ranking",className:`flex items-center gap-2 px-6 py-3 font-semibold rounded-lg transition-all ${r?"bg-js/10 text-js border-b-2 border-js shadow-md":"text-gray-400 hover:text-js hover:bg-js/5"}`,children:[e.jsx("i",{className:"fas fa-trophy"}),"Ranking"]})]})});ot.displayName="CommunityNavigation";const Mn=i.lazy(()=>ne(()=>Promise.resolve().then(()=>cc),void 0)),Bn=i.lazy(()=>ne(()=>Promise.resolve().then(()=>xc),void 0)),lt=i.memo(()=>{const s=_e(),{state:{activeView:t},setActiveView:a}=Dn();return i.useEffect(()=>{const r=s.pathname.split("community").pop()||"community";r!==t&&a(r)},[s.pathname,t,a]),e.jsxs("div",{className:"p-8 w-full min-h-screen bg-dark/50 backdrop-blur-sm",children:[e.jsx(B,{title:"Community",description:"Community CodeLinesJS - dołącz do nas i rozwijaj swoje umiejętności w przyjaznym środowisku.",type:"website"}),e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"bg-dark/30 backdrop-blur-sm rounded-xl border border-js/10 p-6 shadow-lg",children:[e.jsx(ot,{}),e.jsxs(Oi,{children:[e.jsx($s,{index:!0,element:e.jsx(i.Suspense,{fallback:e.jsx(H,{text:"Ładowanie aktualności..."}),children:e.jsx(Mn,{})})}),e.jsx($s,{path:"ranking",element:e.jsx(i.Suspense,{fallback:e.jsx(H,{text:"Ładowanie rankingu..."}),children:e.jsx(Bn,{})})})]})]})})]})});lt.displayName="CommunitySection";const od=Object.freeze(Object.defineProperty({__proto__:null,CommunitySection:lt},Symbol.toStringTag,{value:"Module"})),On=()=>{const[s,t]=i.useState(!1),[a,r]=i.useState("dashboard"),n=_e();return i.useEffect(()=>{const c=n.pathname.split("/").pop()||"dashboard";r(c)},[n]),i.useEffect(()=>{const o=()=>{window.innerWidth<768&&t(!1)};return window.addEventListener("resize",o),o(),()=>window.removeEventListener("resize",o)},[]),{isExpanded:s,setIsExpanded:t,activeItem:a,setActiveItem:r}},_n={expanded:{width:"240px",transition:{type:"spring",stiffness:300,damping:30}},collapsed:{width:"100px",transition:{type:"spring",stiffness:300,damping:30}}},ks={expanded:{opacity:1,x:0,transition:{type:"spring",stiffness:300,damping:30}},collapsed:{opacity:0,x:-10,transition:{duration:.2}}},ct=i.memo(({isExpanded:s})=>e.jsx("div",{className:"px-4 mb-8",children:e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 min-w-[40px] rounded-xl bg-js/20 flex items-center justify-center",children:e.jsx(R,{className:"text-xl text-js"})}),e.jsx(Q,{mode:"wait",children:s&&e.jsx(u.span,{variants:ks,initial:"collapsed",animate:"expanded",exit:"collapsed",className:"font-bold text-js font-space",children:"CodeLinesJS"})})]})}));ct.displayName="NavigationLogo";const Ss=i.memo(({icon:s,label:t,isActive:a=!1,isExpanded:r,onClick:n,variant:o="default",id:c})=>e.jsxs(u.button,{onClick:n,"data-testid":`nav-button-${t==null?void 0:t.toLowerCase().replace(/\s/g,"-")}`,className:`
      ${c==="code"&&"hidden lg:flex"}
      w-full flex items-center gap-3 px-4 py-3 
      rounded-lg transition-all duration-200
      backdrop-blur-sm
      ${o==="default"?a?"bg-js/20 border-l-2 border-js text-js":"text-gray-400 hover:text-js hover:bg-js/10":a?"bg-red-500/20 text-red-400":"text-red-400 hover:bg-red-500/10"}
    `,whileHover:{scale:1.02,x:5},whileTap:{scale:.98},children:[e.jsx(u.span,{className:"text-xl min-w-[24px]",whileHover:{rotate:10},style:{color:"currentColor"},children:s}),e.jsx(Q,{mode:"wait",children:r&&t&&e.jsx(u.span,{variants:ks,initial:"collapsed",animate:"expanded",exit:"collapsed",className:"font-medium font-space whitespace-nowrap",style:{color:"currentColor"},children:t})})]}));Ss.displayName="NavigationButton";const dt=i.memo(({title:s,items:t,isExpanded:a,activeItem:r,onItemClick:n,index:o,isLastSection:c})=>e.jsxs(u.div,{className:"space-y-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.1},children:[a&&e.jsx(u.h2,{variants:ks,initial:"collapsed",animate:"expanded",exit:"collapsed",className:"text-xs font-bold text-js/60 uppercase tracking-wider px-3 mb-2",children:s}),t.map(d=>e.jsx(Ss,{id:d.id,icon:d.icon,label:d.label,isActive:r===d.id,isExpanded:a,onClick:()=>n(d)},d.id)),!c&&e.jsx("div",{className:"mx-3 my-4",children:e.jsx("div",{className:"border-t border-js/5"})})]},s));dt.displayName="NavigationSection";const K="/dashboard",In=[`${K}/community`,`${K}/community/ranking`,`${K}/community/groups`,`${K}/learn`,`${K}/play`,`${K}/play/regex-raider`,`${K}/play/async-quest`,`${K}/play/js-typo-hunter`,`${K}/play/scope-explorer`,`${K}/settings`],Gn=()=>{const s=_e();return i.useMemo(()=>{const t=s.pathname,a=In.includes(t),r=t.startsWith(`${K}/learn/lesson/`);return a||r},[s.pathname])},Hn=[{id:"dashboard",label:"Dashboard",icon:e.jsx(_i,{}),section:"main",path:"/dashboard"},{id:"stats",label:"Statystyki",icon:e.jsx(Ii,{}),section:"main",path:"/dashboard/stats"},{id:"play",label:"Graj",icon:e.jsx(cs,{}),section:"game",path:"/dashboard/play"},{id:"learn",label:"Nauka",icon:e.jsx(Te,{}),section:"game",path:"/dashboard/learn"},{id:"code",label:"Edytor",icon:e.jsx(R,{}),section:"game",path:"/dashboard/code"},{id:"community",label:"Społeczność",icon:e.jsx(ds,{}),section:"social",path:"/dashboard/community"},{id:"settings",label:"Ustawienia",icon:e.jsx(Qs,{}),section:"social",path:"/dashboard/settings"},{id:"report",label:"Zgłoś błąd",icon:e.jsx(Ws,{}),section:"social",path:"/dashboard/report"}],Qn={main:"Główne",game:"Nauka",social:"Społeczność"},Wn=i.memo(()=>{const s=pe(),{isExpanded:t,setIsExpanded:a,activeItem:r,setActiveItem:n}=On(),{logout:o}=W(),c=Gn(),d=yn(),l=i.useCallback(h=>{n(h.id),h.path&&s(h.path)},[s,n]),x=i.useCallback(()=>{a(h=>!h)},[a]),m=i.useMemo(()=>Object.entries(Hn.reduce((h,j)=>(h[j.section]||(h[j.section]=[]),h[j.section].push(j),h),{})),[]),p=i.useMemo(()=>c||d?"hidden md:flex":"",[c,d]);return c&&window.innerWidth<gn?null:e.jsx(vs,{children:e.jsxs(u.nav,{initial:"collapsed",animate:t?"expanded":"collapsed",variants:_n,className:`${p} fixed left-0 top-0 bg-gradient-to-b from-dark via-dark-medium to-dark backdrop-blur-lg border-r border-js/10 flex flex-col py-6 z-40 shadow-xl shadow-black/10 h-full`,"aria-label":"Menu nawigacyjne",children:[e.jsx(ct,{isExpanded:t}),e.jsx(u.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:x,className:"absolute -right-3 top-8 w-6 h-6 bg-js rounded-full flex items-center justify-center hover:opacity-90 transition-all shadow-lg shadow-js/20","aria-label":t?"Zwiń menu":"Rozwiń menu",children:e.jsx(u.span,{animate:{rotate:t?180:0},className:"text-dark text-sm font-bold",initial:"collapsed","aria-hidden":"true",children:"→"})}),e.jsx("div",{className:"overflow-x-hidden flex-1 px-3 space-y-6",children:e.jsx(Q,{mode:"sync",children:m.map(([h,j],b)=>e.jsx(dt,{title:Qn[h]||h,items:j,isExpanded:t,activeItem:r,onItemClick:l,index:b,isLastSection:b===m.length-1},h))})}),e.jsx("div",{className:"pt-4 border-t border-js/10",children:e.jsx(Ss,{id:"logout",icon:e.jsx(Gi,{"aria-hidden":"true"}),label:"Wyloguj się",isExpanded:t,onClick:o,variant:"danger"})})]})})});Wn.displayName="DashboardNavigation";const mt=i.memo(({username:s})=>e.jsx(u.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center gap-4",children:e.jsxs("div",{children:[e.jsxs("h2",{className:"text-js font-bold text-xl",children:["Witaj, ",s,"! 👋"]}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Miło Cię znów widzieć"})]})}));mt.displayName="WelcomeSection";const zs=()=>{const{isAuthenticated:s,isAuthChecking:t}=W(),a=J({queryKey:["userProgress"],queryFn:()=>S(void 0,null,function*(){const n=yield P.get("users/stats");if(n.error)throw new Error(n.error);if(!n.data)throw new Error("Brak danych z serwera");return n.data}),enabled:s&&!t,staleTime:1e3*60*5,refetchInterval:1e3*60,retry:(n,o)=>n<2&&!o.message.includes("autoryzacji")}),r=a.isLoading||t;return z(k({},a),{isLoading:r})},F={dropdown:{container:`
      absolute right-0 top-12 w-80 bg-dark/95 rounded-xl 
      border border-js/10 shadow-xl backdrop-blur-sm z-[2147483647]
    `,header:{wrapper:"flex justify-between items-center mb-4 p-4",title:"text-xl font-bold text-js",badge:"px-2 py-1 text-xs bg-js/20 text-js rounded-full"},content:{wrapper:"space-y-2 max-h-[400px] overflow-y-auto custom-scrollbar p-4",loading:"py-8 text-center text-gray-400",empty:"py-8 text-center text-gray-400",item:{wrapper:`
          p-3 rounded-lg bg-dark/50 hover:bg-dark/70
          border border-js/10 hover:border-js/20
          cursor-pointer transition-all duration-200
        `,content:"flex items-start gap-3",icon:"mt-1",text:{wrapper:"flex-1",message:"text-white",time:"text-sm text-gray-400 mt-1"}}}},button:{wrapper:"hidden xl:block relative",base:`
      relative p-2 rounded-lg
      hover:bg-js/5 transition-colors duration-200
    `,active:"bg-dark/50",icon:{base:"w-5 h-5",active:"text-js",inactive:"text-gray-400"},badge:`
      absolute -top-1 -right-1 bg-red-500 text-white 
      rounded-full min-w-[18px] h-[18px] text-xs 
      flex items-center justify-center px-1 font-medium
    `}},Un=()=>{const s=he(),t=ae({mutationFn:r=>S(void 0,null,function*(){const n=yield P.put(`notifications/${r}/read`,{});if(n.error)throw new Error(n.error);return n.data}),onSuccess:()=>{s.invalidateQueries({queryKey:["notifications"]})}}),a=ae({mutationFn:()=>S(void 0,null,function*(){const r=yield P.put("notifications/read-all",{});if(r.error)throw new Error(r.error);return r.data}),onSuccess:()=>{s.invalidateQueries({queryKey:["notifications"]})}});return{markAsRead:t,markAllAsRead:a}},xt=s=>{try{const t=s instanceof Date?s:new Date(s);return isNaN(t.getTime())?"Nieprawidłowa data":Nn(t,"dd MMM, HH:mm",{locale:vn})}catch(t){return console.error("Error formatting date:",t),"Nieprawidłowa data"}},Vn=s=>{switch(s){case"challenge":return e.jsx(q,{className:"text-yellow-500"});case"achievement":return e.jsx(Hi,{className:"text-green-500"});case"social":return e.jsx(ds,{className:"text-blue-500"});default:return e.jsx(ms,{className:"text-gray-400"})}},ut=i.memo(({notification:s,onRead:t})=>e.jsx(u.div,{className:`
      ${F.dropdown.content.item.wrapper}
      ${s.read?"opacity-60":""}
    `,whileHover:{x:5},onClick:()=>!s.read&&t(s._id),children:e.jsxs("div",{className:F.dropdown.content.item.content,children:[e.jsx("div",{className:F.dropdown.content.item.icon,children:Vn(s.type)}),e.jsxs("div",{className:F.dropdown.content.item.text.wrapper,children:[e.jsx("p",{className:F.dropdown.content.item.text.message,children:s.message}),e.jsx("span",{className:F.dropdown.content.item.text.time,children:xt(s.createdAt)})]})]})}));ut.displayName="NotificationItem";const pt=i.memo(({unreadCount:s})=>e.jsxs("div",{className:F.dropdown.header.wrapper,children:[e.jsx("h3",{className:F.dropdown.header.title,children:"Powiadomienia"}),s>0&&e.jsxs("span",{className:F.dropdown.header.badge,children:[s," nowe"]})]}));pt.displayName="NotificationsHeader";const ht=i.memo(({onClose:s})=>{var n,o;const{data:t,isLoading:a}=zs(),{markAsRead:r}=Un();return i.useEffect(()=>{const c=d=>{d.key==="Escape"&&s()};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[s]),e.jsxs(u.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:F.dropdown.container,onClick:c=>c.stopPropagation(),children:[e.jsx(pt,{unreadCount:(n=t==null?void 0:t.unreadCount)!=null?n:0}),a?e.jsx("div",{className:F.dropdown.content.loading,children:"Ładowanie powiadomień..."}):(o=t==null?void 0:t.notifications)!=null&&o.length?e.jsx("div",{className:F.dropdown.content.wrapper,children:t.notifications.map(c=>e.jsx(ut,{notification:c,onRead:d=>r.mutate(d)},c._id))}):e.jsx("div",{className:F.dropdown.content.empty,children:"Brak nowych powiadomień"})]})});ht.displayName="NotificationsDropdown";const jt=i.memo(()=>{var c;const[s,t]=i.useState(!1),{data:a}=zs(),r=(c=a==null?void 0:a.unreadCount)!=null?c:0,n=i.useCallback(()=>t(!1),[]),o=i.useCallback(d=>{d.stopPropagation(),t(l=>!l)},[]);return e.jsxs("div",{className:F.button.wrapper,children:[e.jsxs(u.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:o,className:`${F.button.base} ${s?F.button.active:""}`,children:[e.jsx(ms,{className:`
          ${F.button.icon.base}
          ${s?F.button.icon.active:F.button.icon.inactive}
        `}),e.jsx(Q,{children:r>0&&e.jsx(u.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:F.button.badge,children:r>9?"9+":r})})]}),e.jsx(Q,{children:s&&e.jsx(ht,{onClose:n})})]})});jt.displayName="NotificationsButton";const Xe={container:`
    w-[90%]
    xl:w-full
    flex justify-between items-center
    xl:block
    mt-5
    pb-2
    bg-dark/50 backdrop-blur-sm
    border-b border-js/10 
    fixed top-0
    md:top-4 right-0
    h-14
    z-[0]
    rounded-lg mx-4
  `,content:`
    h-full
    ml-32
    sm:ml-auto
    flex justify-between items-center
    max-w-[1000px]
    mx-auto
    relative
  `,actions:"flex items-center gap-3 absolute right-6",gradients:{text:"bg-gradient-to-r from-js to-js/80 bg-clip-text text-transparent",hover:"hover:bg-js/5",base:"bg-gradient-to-br from-js/5 to-js/10"},borders:{base:"border-js/20",hover:"hover:border-js/30"},transitions:{base:"transition-all duration-200"},text:{heading:"text-lg font-bold text-js",primary:"text-white",secondary:"text-gray-400"}},Jn=()=>i.useMemo(()=>({container:{initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{duration:.3,ease:"easeOut"}}}}),[]),Kn=()=>S(void 0,null,function*(){const s=yield P.get("users/profile");if(s.error)throw new Error(s.error);if(!s.data)throw new Error("Brak danych z serwera");return s.data}),Zn=["userProfile"],qn=()=>{const{isAuthenticated:s,isAuthChecking:t}=W(),a=J({queryKey:Zn,queryFn:()=>Kn(),enabled:s&&!t}),r=a.isLoading||t;return z(k({},a),{isLoading:r})},Xn=i.memo(()=>{var o;const s=Jn(),{data:t,isLoading:a,error:r}=qn(),n=i.useMemo(()=>{var c;return r?"Użytkowniku":a?"Ładowanie...":((c=t==null?void 0:t.user)==null?void 0:c.username)||(t==null?void 0:t.username)||"Użytkowniku"},[(o=t==null?void 0:t.user)==null?void 0:o.username,t==null?void 0:t.username,a,r]);return e.jsx(vs,{children:e.jsx(u.nav,{variants:s.container,initial:"initial",animate:"animate",className:Xe.container,"aria-label":"Górna nawigacja",children:e.jsxs("div",{className:Xe.content,children:[e.jsx(mt,{username:n}),e.jsx("div",{className:Xe.actions,children:e.jsx(i.Suspense,{fallback:e.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-700 animate-pulse"}),children:e.jsx(jt,{})})})]})})})});Xn.displayName="TopNavigation";const we={text:{heading:"font-bold text-js"},grid:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",card:{base:"bg-dark/50 backdrop-blur-sm border border-js/10 shadow-xl",community:`
      col-span-1 md:col-span-2 lg:col-span-1
      order-2 lg:order-1
    `,game:`
      col-span-1 md:col-span-2 lg:col-span-1
      order-1 lg:order-2
    `,stats:`
      col-span-1 md:col-span-2 lg:col-span-1
      order-3
    `}},$={container:"bg-dark/50 backdrop-blur-sm rounded-xl border border-js/10 p-6",header:{wrapper:"flex justify-between items-center mb-6",title:"text-xl font-bold text-js flex items-center gap-2",icon:"w-5 h-5"},content:{wrapper:"space-y-6",description:"text-gray-400 text-sm leading-relaxed",button:{wrapper:"flex justify-center",base:"px-6 py-3 bg-js text-dark font-medium rounded-lg transition-all duration-200",hover:"hover:bg-js/90 hover:shadow-lg hover:shadow-js/20",active:"active:scale-95"}}},yt=()=>i.useMemo(()=>({container:{hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}}},button:{hover:{scale:1.05},tap:{scale:.95}}}),[]),gt=i.memo(()=>{const s=pe(),t=yt(),a=()=>{s("/dashboard/learn")};return e.jsxs(u.div,{variants:t.container,initial:"hidden",animate:"show",className:$.container,children:[e.jsx("div",{className:$.header.wrapper,children:e.jsxs("h2",{className:$.header.title,children:[e.jsx(Te,{className:$.header.icon}),"Nauka"]})}),e.jsxs("div",{className:$.content.wrapper,children:[e.jsx("p",{className:$.content.description,children:"Sprawdź najnowsze informacje i aktualności związane z nauką."}),e.jsx("div",{className:$.content.button.wrapper,children:e.jsx(u.button,{onClick:a,whileHover:"hover",whileTap:"tap",variants:t.button,className:`
              ${$.content.button.base}
              ${$.content.button.hover}
              ${$.content.button.active}
            `,children:"Sprawdź aktualności"})})]})]})});gt.displayName="CommunityBlock";const bt=i.memo(()=>{const s=pe(),t=yt(),a=()=>{s("/dashboard/play")};return e.jsxs(u.div,{variants:t.container,initial:"hidden",animate:"show",className:$.container,children:[e.jsx("div",{className:$.header.wrapper,children:e.jsxs("h2",{className:$.header.title,children:[e.jsx(cs,{className:$.header.icon}),"Tryb Gry"]})}),e.jsxs("div",{className:$.content.wrapper,children:[e.jsx("p",{className:$.content.description,children:"Rozpocznij nową sesję gry, rozwiązuj wyzwania i zdobywaj punkty. Sprawdź swoje umiejętności w praktyce!"}),e.jsx("div",{className:$.content.button.wrapper,children:e.jsx(u.button,{onClick:a,whileHover:"hover",whileTap:"tap",variants:t.button,className:`
              ${$.content.button.base}
              ${$.content.button.hover}
              ${$.content.button.active}
            `,children:"Rozpocznij Grę"})})]})]})});bt.displayName="GameBlock";const oe={container:"bg-dark/50 backdrop-blur-sm rounded-xl border border-js/10 p-6",header:{wrapper:"flex justify-between items-center mb-4",title:"text-xl font-bold text-js",refreshButton:"p-2 text-js hover:text-js/80 transition-colors cursor-pointer"},stats:{grid:"grid grid-cols-1 sm:grid-cols-2 gap-4",item:{wrapper:"flex items-center gap-4 p-4 bg-dark/30 rounded-lg",icon:"text-2xl text-js",content:{wrapper:"flex flex-col",label:"text-sm text-gray-400",value:"text-xl font-bold text-js"}}},lastActive:"text-sm text-gray-400 mt-4"},Yn=()=>i.useCallback(t=>xt(t),[]),Me=i.memo(({icon:s,label:t,value:a})=>e.jsxs("div",{className:oe.stats.item.wrapper,children:[e.jsx("div",{className:oe.stats.item.icon,children:s}),e.jsxs("div",{className:oe.stats.item.content.wrapper,children:[e.jsx("p",{className:oe.stats.item.content.label,children:t}),e.jsx("p",{className:oe.stats.item.content.value,children:a})]})]}));Me.displayName="StatItem";const ft=i.memo(({stats:s})=>{const t=Yn();return e.jsxs("div",{className:oe.container,children:[e.jsxs("div",{className:oe.stats.grid,children:[e.jsx(Me,{icon:e.jsx(Us,{}),label:"Poziom",value:s.progress.level}),e.jsx(Me,{icon:e.jsx(D,{}),label:"Punkty",value:s.progress.points}),e.jsx(Me,{icon:e.jsx(xs,{}),label:"Seria",value:`${s.achievements.streak.current} dni`})]}),e.jsxs("p",{className:oe.lastActive,children:["Ostatnia aktywność: ",t(s.user.lastActive)]})]})});ft.displayName="StatsBlock";const ze=i.memo(({type:s,message:t})=>{const a=()=>{switch(s){case"error":return"text-red-400";default:return"text-gray-400"}};return e.jsx("div",{className:"p-8 w-full flex items-center justify-center min-h-[400px]",children:e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},className:`text-xl ${a()}`,children:t||(s==="loading"?"Ładowanie danych...":s==="error"?"Wystąpił błąd podczas ładowania danych":"Brak danych do wyświetlenia")})})});ze.displayName="DashboardState";const eo=()=>i.useMemo(()=>({container:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},item:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}}}),[]),wt=i.memo(()=>{const{data:s,isLoading:t,error:a}=zs(),r=eo();return t?e.jsx(H,{fullScreen:!0,text:"Ładowanie dashboard..."}):a?e.jsx(ze,{type:"error",message:a.message}):s?e.jsxs(u.div,{className:"p-1 md:p-12 w-full overflow-y-auto",variants:r.container,initial:"hidden",animate:"visible",children:[e.jsx(u.h1,{className:`${we.text.heading} text-3xl mb-12`,variants:r.item,children:"Dashboard"}),e.jsxs("div",{className:we.grid,children:[e.jsx(u.div,{variants:r.item,className:we.card.community,children:e.jsx(gt,{})}),e.jsx(u.div,{variants:r.item,className:we.card.game,children:e.jsx(bt,{})}),e.jsx(u.div,{variants:r.item,className:we.card.stats,children:e.jsx(ft,{stats:s})})]})]}):e.jsx(ze,{type:"empty"})});wt.displayName="DashboardContent";const ld=Object.freeze(Object.defineProperty({__proto__:null,DashboardContent:wt},Symbol.toStringTag,{value:"Module"})),Ts=()=>{const{isAuthenticated:s,isAuthChecking:t}=W(),a=J({queryKey:["userStats"],queryFn:()=>S(void 0,null,function*(){const n=yield P.get("users/stats");if(n.error)throw new Error(n.error);if(!n.data)throw new Error("Brak danych z serwera");return n.data}),enabled:s&&!t,staleTime:1e3*60*5,gcTime:1e3*60*30,retry:(n,o)=>o.message==="Brak autoryzacji"?!1:n<3}),r=a.isLoading||t;return{stats:a.data,isLoading:r,error:a.error}},me={card:{base:"bg-dark/50 backdrop-blur-sm rounded-xl border border-js/10 p-6",title:"text-xl font-bold text-js mb-6",content:"h-full"},text:{heading:"text-3xl font-bold font-space text-js",subtitle:"text-gray-400 text-sm"}},Nt=i.memo(({level:s,experience:t,nextLevel:a})=>{const r=t/a*100;return e.jsxs("div",{className:me.card.base,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:me.card.title,children:["Poziom ",s]}),e.jsxs("p",{className:"text-gray-400 text-sm",children:[t," / ",a," XP do następnego poziomu"]})]}),e.jsx("div",{className:"hidden w-16 h-16 rounded-full bg-js/20 md:flex items-center justify-center",children:e.jsx("span",{className:"text-2xl font-bold text-js",children:s})})]}),e.jsx("div",{className:"relative h-4 bg-dark/50 rounded-full overflow-hidden",children:e.jsx(u.div,{initial:{width:0},animate:{width:`${r}%`},transition:{duration:1,ease:"easeOut"},className:"absolute top-0 left-0 h-full bg-js/50"})})]})});Nt.displayName="LevelProgress";const so={hidden:{opacity:0,y:20},show:{opacity:1,y:0}},vt=i.memo(({icon:s,label:t,value:a,subValue:r})=>e.jsx(u.div,{variants:so,className:`${me.card.base} hover:border-js/30 transition-all p-3 md:p-4`,children:e.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[e.jsx("div",{className:"p-2 md:p-3 rounded-lg bg-js/10 shrink-0",children:e.jsx(s,{className:"w-5 h-5 md:w-6 md:h-6 text-js"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-gray-400 text-xs md:text-sm mb-0.5 md:mb-1",children:t}),e.jsx("p",{className:"text-xl md:text-2xl font-bold font-space text-js truncate",children:a}),r&&e.jsx("p",{className:"text-xs md:text-sm text-gray-500 mt-0.5 md:mt-1",children:r})]})]})}));vt.displayName="StatCard";const to=()=>s=>{try{const t=new Date(s);return isNaN(t.getTime())?"Data nieznana":t.toLocaleDateString("pl-PL",{year:"numeric",month:"short",day:"numeric"})}catch(t){return"Data nieznana"}},ao={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},ro={hidden:{opacity:0,y:20},show:{opacity:1,y:0}},kt=i.memo(({badge:s})=>{const t=to();return e.jsxs(u.div,{variants:ro,className:"min-w-[8rem] flex flex-col items-center p-4 bg-dark/30 rounded-lg border border-js/10 hover:border-js/30 transition-colors",children:[e.jsx("span",{className:"text-3xl mb-2",children:s.icon||"🏆"}),e.jsx("h4",{className:"text-js font-medium text-sm text-center",children:s.name}),e.jsx("p",{className:"text-gray-400 text-xs mt-1",children:t(s.earnedAt)}),s.description&&e.jsx("p",{className:"text-gray-400 text-xs mt-1 text-center",children:s.description},`${s.id}-description`)]})});kt.displayName="BadgeCard";const St=i.memo(()=>e.jsxs("div",{className:me.card.base,children:[e.jsx("h3",{className:me.card.title,children:"Odznaki"}),e.jsx("p",{className:"text-gray-400 text-center py-4",children:"Nie zdobyto jeszcze żadnych odznak"})]}));St.displayName="EmptyBadges";const zt=i.memo(({badges:s})=>s!=null&&s.length?e.jsxs("div",{className:me.card.base,children:[e.jsx("h3",{className:me.card.title,children:"Odznaki"}),e.jsx(u.div,{variants:ao,initial:"hidden",animate:"show",className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:s.map(t=>e.jsx(kt,{badge:t},t.name))})]}):e.jsx(St,{}));zt.displayName="BadgesGrid";const Tt=i.memo(({message:s})=>e.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:e.jsx("p",{className:"text-red-500",children:s})}));Tt.displayName="ErrorState";const io=s=>i.useMemo(()=>{var t;return s?[{id:"completed-lessons",icon:q,label:"Ukończone Lekcje",value:((t=s.achievements.completedChallenges)==null?void 0:t.toString())||"0",gradient:"from-amber-500 to-orange-500"},{id:"current-streak",icon:Vs,label:"Aktualny Streak",value:`${s.achievements.streak.current||0} dni`,subValue:`Najlepszy: ${s.achievements.streak.best||0} dni`,gradient:"from-red-500 to-pink-500"}]:[]},[s]),no={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},Ct=i.memo(({stats:s,isLoading:t,error:a})=>{const r=io(s);return t?e.jsx(H,{}):a?e.jsx(Tt,{message:`Wystąpił błąd podczas ładowania statystyk: ${a.message}`}):s?e.jsxs(u.div,{variants:no,initial:"hidden",animate:"show",className:"space-y-6",children:[e.jsx(Nt,{level:s.progress.level,experience:s.progress.points,nextLevel:s.progress.pointsToNextLevel}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:r.map(n=>e.jsx(vt,k({},n),n.id))}),e.jsx(zt,{badges:s.achievements.badges})]}):e.jsx("div",{className:"p-4 bg-dark/50 rounded-lg",children:e.jsx("p",{className:"text-gray-400",children:"Brak dostępnych statystyk"})})});Ct.displayName="StatsOverview";const Lt=i.memo(({data:s})=>e.jsx(kn,{width:"100%",height:300,children:e.jsxs(Sn,{data:s,margin:{top:5,right:20,bottom:5,left:0},children:[e.jsx(zn,{strokeDasharray:"3 3",stroke:"#2A2A2A"}),e.jsx(Tn,{dataKey:"date",stroke:"#666",tickLine:!1,tick:{fill:"#666"},axisLine:{stroke:"#333"}}),e.jsx(Cn,{stroke:"#666",tickLine:!1,tick:{fill:"#666"},axisLine:{stroke:"#333"},label:{value:"Punkty",angle:-90,position:"insideLeft",fill:"#666"}}),e.jsx(Ln,{contentStyle:{background:"#1A1A1A",border:"1px solid #333",borderRadius:"4px",padding:"8px"},labelStyle:{color:"#666"},itemStyle:{color:"#F7DF1E"}}),e.jsx(Pn,{type:"monotone",dataKey:"points",stroke:"#F7DF1E",strokeWidth:2,dot:{fill:"#F7DF1E",strokeWidth:2},activeDot:{r:6,fill:"#F7DF1E"}})]})}));Lt.displayName="DailyChart";const Pt=i.memo(({data:s,isLoading:t})=>t?e.jsx(H,{fullScreen:!0,text:"Ładowanie statystyk..."}):s?e.jsx("div",{className:"hidden md:flex flex-col gap-6 h-full",children:e.jsxs("div",{className:"bg-dark/50 rounded-lg p-6 flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-js mb-6",children:"Aktywność"}),e.jsx("div",{className:"h-[300px]",children:e.jsx(Lt,{data:s.daily})})]})}):null);Pt.displayName="StatsCharts";const Et=i.memo(()=>{var l;const{stats:s,isLoading:t,error:a}=Ts(),[r,n]=i.useState(!1),[o,c]=i.useState(null);if(i.useEffect(()=>{var x,m;(x=s==null?void 0:s.progress)!=null&&x.levelUp&&(c({level:s.progress.level,rewards:((m=s.achievements)==null?void 0:m.badges)||[]}),n(!0))},[s]),t)return e.jsx(H,{fullScreen:!0,text:"Ładowanie statystyk..."});if(a)return e.jsx(ze,{type:"error",message:"Nie udało się załadować statystyk. Spróbuj ponownie później."});if(!s)return e.jsx(ze,{type:"empty",message:"Brak dostępnych statystyk."});const d={progress:{level:s.progress.level,points:s.progress.points,pointsToNextLevel:s.progress.pointsToNextLevel},achievements:{streak:{current:s.achievements.streak.current,best:s.achievements.streak.best},completedChallenges:s.achievements.completedChallenges,badges:s.achievements.badges},badges:s.achievements.badges,unlockedFeatures:[],levelUp:s.progress.levelUp,rewards:(l=s.achievements.badges)!=null&&l.length?{badges:s.achievements.badges,bonusPoints:0,unlockedFeatures:[]}:void 0,chartData:{daily:s.stats.daily,categories:[]}};return e.jsxs(e.Fragment,{children:[e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col h-full p-6 gap-6",children:[e.jsx(B,{title:"Statystyki i Postępy",description:"Statystyki i Postępy CodeLinesJS - dołącz do nas i rozwijaj swoje umiejętności w przyjaznym środowisku.",type:"website"}),e.jsx(u.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-3xl font-bold font-space text-js",children:"Statystyki i Postępy"})}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 flex-1",children:[e.jsx("div",{className:"flex flex-col gap-6",children:e.jsx(Ct,{stats:d,isLoading:t,error:a})}),e.jsx("div",{className:"flex flex-col gap-6 h-full",children:e.jsx(Pt,{data:s.stats,isLoading:t})})]})]}),e.jsx(bn,{isVisible:r,onClose:()=>n(!1),level:(o==null?void 0:o.level)||0,rewards:{badges:(o==null?void 0:o.rewards)||[],bonusPoints:0,unlockedFeatures:[]}})]})});Et.displayName="StatsSection";const cd=Object.freeze(Object.defineProperty({__proto__:null,StatsSection:Et},Symbol.toStringTag,{value:"Module"})),Ue=i.memo(({message:s,onRetry:t})=>e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(Z,{className:"w-12 h-12 text-red-500 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-200 mb-2",children:"Wystąpił błąd"}),e.jsx("p",{className:"text-gray-400 mb-4",children:s}),t&&e.jsx("button",{onClick:t,className:"px-4 py-2 bg-js/10 text-js rounded-lg hover:bg-js/20 transition-colors",children:"Spróbuj ponownie"})]})),oo=[{id:"all",label:"Wszystkie"},{id:"beginner",label:"Podstawowe"},{id:"intermediate",label:"Średnie"},{id:"advanced",label:"Zaawansowane"}],At=i.memo(({onFilterChange:s,className:t=""})=>{const[a,r]=Js(),n=a.get("filter")||"all";i.useEffect(()=>{s(n)},[n,s]);const o=c=>{r(c==="all"?{tab:"lessons"}:{filter:c,tab:"lessons"})};return e.jsx("div",{className:`flex gap-2 flex-wrap ${t}`,children:oo.map(c=>{const d=n===c.id;return e.jsx(u.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>o(c.id),className:`w-fit px-3 py-1.5 rounded-lg text-sm font-medium transition-all
              ${d?"text-js bg-js/10 border border-js/20":"text-gray-400 hover:text-js/80 border border-transparent"}`,children:c.label},c.id)})})});At.displayName="LessonsFilter";const Rt=i.memo(({onFilterChange:s})=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-js mb-1",children:"Dostępne lekcje"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Wybierz interesującą Cię lekcję i rozpocznij naukę"})]}),e.jsx(At,{onFilterChange:s})]}));Rt.displayName="LessonsHeader";const lo={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}},$t=i.memo(({lesson:s})=>{const{title:t,description:a,duration:r,slug:n,isCompleted:o,isLocked:c,requiredLevel:d=1}=s,l=e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{className:"space-y-1 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:`text-lg font-semibold ${c?"text-gray-500":"text-js"}`,children:t}),o&&e.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-js/10 text-js",children:[e.jsx(G,{className:"w-3 h-3 mr-1"}),"Ukończono"]})]}),e.jsx("p",{className:`text-sm ${c?"text-gray-600":"text-gray-400"} line-clamp-2`,children:a})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsxs("span",{className:`flex items-center gap-1 ${c?"text-gray-600":"text-gray-400"}`,children:[e.jsx(M,{className:"w-3.5 h-3.5"}),r," min"]}),c&&e.jsxs("span",{className:"flex items-center gap-1 text-gray-500",children:[e.jsx(Y,{className:"w-3.5 h-3.5"}),"Poziom ",d]})]}),!c&&e.jsxs("div",{className:"flex items-center gap-2 text-js",children:[e.jsx("span",{children:o?"Powtórz":"Rozpocznij"}),e.jsx(Ks,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]});return e.jsx(u.div,{variants:lo,className:`group relative ${c?"opacity-75":""}`,children:c?e.jsx("div",{className:"block p-6 rounded-xl bg-dark-800 border border-gray-800 cursor-not-allowed",children:l}):e.jsx(Ie,{to:`/dashboard/learn/lesson/${n}`,className:"block p-6 rounded-xl bg-dark-800 border border-js/10 hover:border-js/20 transition-colors",children:l})})});$t.displayName="LessonCard";const co={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},mo=s=>{switch(s){case"beginner":return"podstawowym";case"intermediate":return"średnim";case"advanced":return"zaawansowanym";default:return""}},Ft=i.memo(({lessons:s,filter:t,userData:a,isLoading:r=!1})=>{if(r||s.length===0)return e.jsx(H,{fullScreen:!0,text:"Ładowanie lekcji..."});const o=s.map(c=>z(k({},c),{isLocked:c.requiredLevel?c.requiredLevel>a.userLevel:!1}));return o.length===0?e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx(Ge,{className:"w-20 h-20 text-gray-600 opacity-20"}),e.jsx("div",{className:"absolute -right-2 -bottom-2",children:e.jsx(us,{className:"w-8 h-8 text-gray-500"})})]}),e.jsx("h3",{className:"text-xl font-bold text-js mb-3",children:t==="all"?"Brak dostępnych lekcji":`Brak lekcji o poziomie ${mo(t)}`}),e.jsx("p",{className:"text-gray-400 text-sm max-w-md",children:t==="all"?"Aktualnie nie ma żadnych dostępnych lekcji. Sprawdź ponownie później.":"W tej kategorii nie znaleziono żadnych lekcji. Wybierz inny poziom trudności."})]}):e.jsxs(u.div,{variants:co,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(B,{title:"Lekcje",description:"Lekcje JavaScript - dołącz do nas i rozwijaj swoje umiejętności w przyjaznym środowisku.",type:"website"}),o.map(c=>e.jsx($t,{lesson:c},c.slug))]})});Ft.displayName="LessonsList";const Ds=s=>{switch(s){case"beginner":return"Początkujący";case"intermediate":return"Średniozaawansowany";case"advanced":return"Zaawansowany";default:return"Wszystkie"}},xo=()=>{var N,v,T;const[s,t]=i.useState("all"),[a]=i.useState("javascript"),{isAuthenticated:r,isAuthChecking:n}=W(),{data:o,isLoading:c,error:d,refetch:l}=J({queryKey:["lessons"],queryFn:()=>S(void 0,null,function*(){const C=yield P.get("lessons");if(C.error)throw new Error(C.error);if(!C.data)throw new Error("Brak danych z serwera");return C.data}),retry:2,staleTime:1e3*60*5,refetchOnWindowFocus:!0,enabled:r&&!n}),x=c||!o&&!d,m=(v=(N=o==null?void 0:o.lessons)==null?void 0:N[a])!=null?v:[],p=(T=o==null?void 0:o.stats)!=null?T:{total:0,completed:0,progress:0},h=i.useMemo(()=>s==="all"?m:m.filter(C=>C.difficulty===s),[m,s]),j=!m||m.length===0,b=!j&&h.length===0,g={currentFilter:s,label:Ds(s),isEmpty:j,hasNoLessonsForFilter:b,messages:{title:b?`Brak lekcji o poziomie ${Ds(s)}`:"Brak dostępnych lekcji",description:b?"W tej kategorii nie znaleziono żadnych lekcji. Wybierz inny poziom trudności lub wyświetl wszystkie lekcje.":"Aktualnie nie ma żadnych dostępnych lekcji. Sprawdź ponownie później."}};return{filteredLessons:h,filter:s,setFilter:t,resetFilter:()=>t("all"),isLoading:x,error:d,refetch:l,isEmpty:j,hasNoLessonsForFilter:b,filterState:g,requiredLevel:o==null?void 0:o.requiredLevel,stats:p}},Dt=i.memo(()=>{var p;const{user:s}=W(),{stats:t}=Ts(),a=(s==null?void 0:s.id)||"current-user",r=((p=t==null?void 0:t.progress)==null?void 0:p.level)||1,{filteredLessons:n,filter:o,setFilter:c,isLoading:d,requiredLevel:l,error:x,refetch:m}=xo();return x?e.jsx(Ue,{message:"Nie udało się pobrać listy lekcji. Spróbuj ponownie później.",onRetry:()=>m()}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(Rt,{onFilterChange:c}),e.jsx(Ft,{lessons:n,filter:o,userId:a,userData:{userLevel:r,requiredLevel:l||1},isLoading:d})]})});Dt.displayName="Lessons";const uo={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:200,damping:20}}},Mt=i.memo(({resource:s,isRecommended:t})=>e.jsxs(u.div,{variants:uo,whileHover:{scale:1.02},className:"group relative bg-dark-800/50 border border-js/10 rounded-xl p-5 hover:border-js/20 transition-colors",children:[t&&e.jsxs("div",{className:"absolute -top-2 -right-2 bg-js text-dark px-2 py-1 rounded-lg text-xs font-bold flex items-center gap-1",children:[e.jsx(D,{className:"w-3 h-3"}),"Polecane"]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-js mb-1 line-clamp-1",children:s.title}),e.jsx("p",{className:"text-gray-400 text-sm line-clamp-2",children:s.description})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs font-medium
            ${s.type==="documentation"?"bg-blue-500/10 text-blue-400":s.type==="tutorial"?"bg-green-500/10 text-green-400":s.type==="video"?"bg-red-500/10 text-red-400":"bg-purple-500/10 text-purple-400"}`,children:s.type==="documentation"?"Dokumentacja":s.type==="tutorial"?"Tutorial":s.type==="video"?"Wideo":"Artykuł"}),e.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs font-medium
            ${s.difficulty==="beginner"?"bg-green-500/10 text-green-400":s.difficulty==="intermediate"?"bg-yellow-500/10 text-yellow-400":"bg-red-500/10 text-red-400"}`,children:s.difficulty==="beginner"?"Podstawowy":s.difficulty==="intermediate"?"Średni":"Zaawansowany"})]}),e.jsxs("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-js hover:text-js/80 transition-colors text-sm",children:["Otwórz materiał",e.jsx(Qi,{className:"w-3 h-3"})]})]})]}));Mt.displayName="ResourceCard";const po={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},ns=i.memo(({title:s,subtitle:t,resources:a,isRecommended:r})=>e.jsxs("section",{children:[e.jsx(B,{title:s,description:"Zasoby JavaScript - dołącz do nas i rozwijaj swoje umiejętności w przyjaznym środowisku.",type:"website"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-js mb-1",children:s}),e.jsx("p",{className:"text-gray-400 text-sm",children:t})]}),e.jsx(u.div,{variants:po,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(n=>e.jsx(Mt,{resource:n,isRecommended:r},n.id))})]}));ns.displayName="ResourceSection";const ho=()=>{const{isAuthenticated:s,isAuthChecking:t}=W(),{data:a,isLoading:r,error:n,refetch:o}=J({queryKey:["resources"],queryFn:()=>S(void 0,null,function*(){const c=yield P.get("resources");if(c.error)throw new Error(c.error);if(!c.data)throw new Error("Brak danych z serwera");return c.data}),enabled:s&&!t,staleTime:1e3*60*5,retry:2});return{resources:(a==null?void 0:a.resources)||[],total:(a==null?void 0:a.total)||0,isLoading:r,error:n,refetch:o}},Bt=i.memo(()=>{const{resources:s,isLoading:t,error:a,refetch:r}=ho(),n=s.filter(d=>d.isRecommended)||[],o=s.filter(d=>!d.isRecommended)||[],c=t||(!n||n.length===0)&&(!o||o.length===0)&&!a;return a?e.jsx("div",{className:"flex flex-col items-center justify-center py-12",children:e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl",children:e.jsx(Ue,{message:"Nie udało się pobrać materiałów. Spróbuj ponownie później.",onRetry:()=>r()})})}):c?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(H,{text:"Ładowanie materiałów..."})}):!(n!=null&&n.length)&&!(o!=null&&o.length)?e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx(Zs,{className:"w-20 h-20 text-gray-600 opacity-20"}),e.jsx("div",{className:"absolute -right-2 -bottom-2",children:e.jsx(us,{className:"w-8 h-8 text-gray-500"})})]}),e.jsx("h3",{className:"text-xl font-bold text-js mb-3",children:"Brak dostępnych materiałów"}),e.jsx("p",{className:"text-gray-400 text-sm max-w-md",children:"Aktualnie nie ma żadnych dostępnych materiałów. Sprawdź ponownie później lub skontaktuj się z administratorem."}),e.jsx(u.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r(),className:"mt-6 px-4 py-2 bg-js/10 text-js border border-js/20 rounded-lg text-sm font-medium hover:bg-js/20 transition-colors",children:"Odśwież materiały"})]}):e.jsxs("div",{className:"space-y-8",children:[(n==null?void 0:n.length)>0&&e.jsx(ns,{title:"Polecane materiały",subtitle:"Wyselekcjonowane materiały, które pomogą Ci w nauce",resources:n,isRecommended:!0}),(o==null?void 0:o.length)>0&&e.jsx(ns,{title:"Wszystkie materiały",subtitle:"Przeglądaj wszystkie dostępne materiały",resources:o})]})});Bt.displayName="Resources";const Ye=i.memo(({icon:s,title:t,label:a,value:r})=>e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(s,{className:"w-5 h-5 text-js"}),e.jsx("h4",{className:"font-medium text-gray-200",children:t})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:a}),e.jsx("span",{className:"text-js",children:r})]})]})),jo=i.memo(({stats:s})=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(Ye,{icon:qs,title:"Postęp nauki",label:"Ukończone ścieżki",value:`${s.completedPaths}/${s.totalPaths}`}),e.jsx(Ye,{icon:xs,title:"Punkty XP",label:"Zdobyte punkty",value:`${s.totalPoints} XP`}),e.jsx(Ye,{icon:M,title:"W trakcie",label:"Aktywne ścieżki",value:s.pathsInProgress})]})),Ot=()=>{const{isAuthenticated:s,isAuthChecking:t}=W(),{data:a,isLoading:r,error:n,refetch:o}=J({queryKey:["learningPaths","userProgress"],queryFn:()=>S(void 0,null,function*(){const d=yield P.get("Learning-paths");if(d.error)throw new Error(d.error);if(!d.data)throw new Error("Brak danych z serwera");return d.data}),staleTime:1e3*60*5,retry:2,refetchOnWindowFocus:!0,refetchOnReconnect:!0,enabled:s&&!t}),c=r||!a&&!n;return{paths:(a==null?void 0:a.paths)||[],userStats:a==null?void 0:a.userStats,isLoading:c,error:n,refetch:o,isEmpty:!(a!=null&&a.paths)||a.paths.length===0}},yo=i.memo(()=>e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx("h3",{className:"text-xl font-bold text-js mb-2",children:"Brak dostępnych ścieżek nauki"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Aktualnie nie ma żadnych dostępnych ścieżek nauki. Sprawdź ponownie później."})]})),go=s=>{const t=i.useMemo(()=>{var n,o,c,d;return{id:s.id,title:s.title||"Brak tytułu",description:s.description||"Brak opisu",estimatedTime:s.estimatedTime||0,isLocked:s.isLocked,requiredLevel:s.requiredLevel,progress:{completed:Array.isArray((n=s.progress)==null?void 0:n.completed)?s.progress.completed.length:Number((o=s.progress)==null?void 0:o.completed)||0,total:Number((c=s.progress)==null?void 0:c.total)||0,percentage:Number((d=s.progress)==null?void 0:d.percentage)||0},outcomes:Array.isArray(s.outcomes)?s.outcomes.map(l=>String(l)):[],requirements:Array.isArray(s.requirements)?s.requirements.map(l=>String(l)):[]}},[s]),a=i.useMemo(()=>`
    bg-dark-800/50 border rounded-xl p-6 transition-all
    ${t.isLocked?"border-gray-700/50 opacity-75":"border-js/10 hover:border-js/20"}
  `,[t.isLocked]),r=i.useMemo(()=>t.isLocked?{}:{scale:1.02},[t.isLocked]);return{safeData:t,cardStyles:a,hoverAnimation:r}},_t=i.memo(({title:s,isLocked:t,requiredLevel:a})=>e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsx("h3",{className:`text-lg font-bold ${t?"text-gray-400":"text-js"}`,children:s}),t&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm",children:[e.jsx(Y,{className:"w-4 h-4"}),e.jsxs("span",{children:["Poziom ",a]})]})]}));_t.displayName="PathHeader";const It=i.memo(({description:s,outcomes:t,requirements:a})=>e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:s}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-js",children:"Czego się nauczysz:"}),e.jsx("ul",{className:"text-sm text-gray-400 list-disc list-inside space-y-1",children:t.map((r,n)=>e.jsx("li",{children:r},n))})]}),a.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-js",children:"Wymagania:"}),e.jsx("ul",{className:"text-sm text-gray-400 list-disc list-inside space-y-1",children:a.map((r,n)=>e.jsx("li",{children:r},n))})]})]}));It.displayName="PathContent";const Gt=i.memo(({progress:s})=>e.jsxs("div",{children:[e.jsx("div",{className:"relative h-2 bg-dark rounded-full overflow-hidden",children:e.jsx(u.div,{initial:{width:0},animate:{width:`${s.percentage}%`},className:"absolute inset-y-0 left-0 bg-js rounded-full"})}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mt-1",children:[e.jsxs("span",{children:[s.completed,"/",s.total," ukończone"]}),e.jsxs("span",{children:[s.percentage,"%"]})]})]}));Gt.displayName="ProgressBar";const Ht=i.memo(({id:s,isLocked:t,estimatedTime:a,progress:r})=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1 text-gray-400",children:[e.jsx(M,{className:"w-4 h-4"}),a," min"]}),!t&&e.jsx(Ie,{to:`/dashboard/learn?tab=lessons&pathId=${s}`,className:"text-js hover:text-js/80 transition-colors",children:e.jsx(Ks,{className:"w-4 h-4"})})]}),e.jsx(Gt,{progress:r})]}));Ht.displayName="PathFooter";const Qt=i.memo(({path:s})=>{const{safeData:t,cardStyles:a,hoverAnimation:r}=go(s);return e.jsx(u.div,{whileHover:r,className:a,children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(_t,{title:t.title,isLocked:t.isLocked,requiredLevel:t.requiredLevel}),e.jsx(It,{description:t.description,outcomes:t.outcomes,requirements:t.requirements}),e.jsx(Ht,{id:t.id,isLocked:t.isLocked,estimatedTime:t.estimatedTime,progress:t.progress})]})})});Qt.displayName="PathCard";const Wt=i.memo(()=>{const{paths:s,userStats:t,isLoading:a,error:r,refetch:n,isEmpty:o}=Ot();return a||s.length===0&&!r?e.jsx(H,{text:"Ładowanie ścieżek nauki..."}):r?(console.error("Learning paths error:",r),e.jsx(Ue,{message:"Nie udało się pobrać ścieżek nauki. Spróbuj ponownie później.",onRetry:n})):o?e.jsx(yo,{}):e.jsxs("div",{className:"space-y-8",children:[e.jsx(jo,{stats:t||{completedPaths:0,totalPaths:0,totalPoints:0,pathsInProgress:0,recentActivity:[]}}),e.jsxs("section",{children:[e.jsx("header",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-js mb-1",children:"Ścieżki nauki"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Wybierz ścieżkę nauki dopasowaną do Twoich potrzeb"})]})}),e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},transition:{staggerChildren:.1},className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:s.map(d=>e.jsx(Qt,{path:d},d.id))})]})]})});Wt.displayName="LearningPaths";const bo=[{id:"paths",label:"Ścieżki nauki",icon:qs},{id:"lessons",label:"Lekcje",icon:Te},{id:"resources",label:"Materiały",icon:xe},{id:"recruitment",label:"Rekrutacja",icon:Wi,badge:"Nowość"}],Ut=i.memo(({activeTab:s,onTabChange:t})=>e.jsx("div",{className:"flex gap-2 flex-wrap",children:bo.map(a=>e.jsxs(u.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t(a.id),className:`relative flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all
            ${s===a.id?"text-js bg-js/10 border border-js/20":"text-gray-400 hover:text-js/80 border border-transparent"}`,children:[e.jsx(a.icon,{className:"w-4 h-4"}),a.label,a.badge&&e.jsx("span",{className:"ml-1 px-2 py-0.5 text-xs font-bold bg-gradient-to-r from-js to-js/80 text-dark rounded-full",children:a.badge}),s===a.id&&e.jsx(u.div,{layoutId:"activeTab",className:"absolute inset-0 bg-js/5 rounded-lg -z-10",transition:{type:"spring",bounce:.2,duration:.6}})]},a.id))}));Ut.displayName="LearnTabs";const fo=()=>{const s=i.useMemo(()=>[{id:"technical-interview",title:"Przygotowanie do rozmowy technicznej",description:"Naucz się odpowiadać na pytania techniczne i rozwiązywać zadania programistyczne na żywo",icon:ps,isAvailable:!0,features:["Typowe pytania JavaScript","Zadania algorytmiczne","Code review na żywo","Whiteboarding"]},{id:"cv-preparation",title:"Przygotowanie CV",description:"Stwórz profesjonalne CV, które przyciągnie uwagę rekruterów i wyróżni Cię na rynku",icon:He,isAvailable:!0,features:["Szablony CV dla programistów","Opis projektów i umiejętności","Portfolio prezentacja","LinkedIn optimization"]}],[]),t=i.useMemo(()=>({technicalQuestions:100,practicalTasks:10,cvTips:10}),[]),a=i.useMemo(()=>({hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}}),[]),r=i.useMemo(()=>({hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}}),[]);return{recruitmentSections:s,stats:t,containerVariants:a,itemVariants:r}},Vt=i.memo(()=>e.jsx("header",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[e.jsx(Ui,{className:"w-5 h-5 text-js"}),e.jsx("h3",{className:"text-xl font-bold text-js",children:"Rekrutacja"}),e.jsx("span",{className:"px-2 py-0.5 bg-js/20 text-js text-xs font-bold rounded-full",children:"NOWOŚĆ"})]}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Przygotuj się profesjonalnie do procesu rekrutacji w IT"})]})}));Vt.displayName="RecruitmentHeader";const Jt=i.memo(({section:s,variants:t,onClick:a})=>e.jsxs(u.div,{variants:t,whileHover:{scale:1.02},onClick:a,className:"bg-dark-700/50 border border-js/10 rounded-xl p-6 hover:border-js/20 transition-all cursor-pointer group",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:"p-3 rounded-lg bg-js/10 border border-js/20",children:e.jsx(s.icon,{className:"w-6 h-6 text-js"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-js transition-colors",children:s.title}),e.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:s.description})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Co znajdziesz w tej sekcji:"}),e.jsx("ul",{className:"space-y-2",children:s.features.map((r,n)=>e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-400",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-js rounded-full"}),r]},n))})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Status:"}),e.jsx("span",{className:`text-xs px-2 py-1 rounded border ${s.isAvailable?"bg-green-500/10 text-green-400 border-green-500/20":"bg-js/10 text-js border-js/20"}`,children:s.isAvailable?"Dostępne":"Wkrótce dostępne"})]})})]}));Jt.displayName="RecruitmentCard";const Kt=i.memo(({stats:s,variants:t})=>e.jsxs(u.div,{variants:t,className:"bg-dark-700/30 border border-js/10 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(ds,{className:"w-5 h-5 text-js"}),e.jsx("h3",{className:"text-lg font-bold text-white",children:"Przygotuj się z nami!"})]}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Nasze materiały rekrutacyjne zostały przygotowane przez doświadczonych programistów i rekruterów. Znajdziesz tu praktyczne porady, które pomogą Ci znaleźć wymarzoną pracę w IT."}),e.jsxs("div",{className:"grid sm:grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"bg-dark-700/50 border border-js/10 rounded-lg p-3",children:[e.jsxs("div",{className:"text-js font-bold text-lg",children:[s.technicalQuestions,"+"]}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Pytań technicznych"})]}),e.jsxs("div",{className:"bg-dark-700/50 border border-js/10 rounded-lg p-3",children:[e.jsxs("div",{className:"text-js font-bold text-lg",children:[s.practicalTasks,"+"]}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Zadań praktycznych"})]}),e.jsxs("div",{className:"bg-dark-700/50 border border-js/10 rounded-lg p-3",children:[e.jsxs("div",{className:"text-js font-bold text-lg",children:[s.cvTips,"+"]}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Praktycznych porad jak stworzyć skuteczne CV"})]})]})]}));Kt.displayName="RecruitmentStatsSection";const wo=[{id:"theory",title:"Teoria",description:"Podstawowe koncepty i wiedza teoretyczna niezbędna podczas rozmów technicznych",icon:Te,topics:["Podstawy JavaScript (var, let, const)","Hoisting i scope","Closures i funkcje wyższego rzędu","Prototypy i dziedziczenie","Event loop i asynchroniczność","ES6+ nowe funkcjonalności"]},{id:"practice",title:"Praktyka",description:"Zadania praktyczne i przykłady kodu często pojawiające się na rozmowach",icon:R,topics:["Algorytmy sortowania i wyszukiwania","Manipulacja tablicami i obiektami","Zadania z rekurencją","Problemy z string-ami","Live coding challenges","Debugowanie kodu"]}],No=[{category:"Przed rozmową",tips:["Przejrzyj podstawy JavaScript","Przygotuj pytania do firmy","Przetestuj kamerę i mikrofon"]},{category:"W trakcie rozmowy",tips:["Myśl na głos","Zadawaj pytania doprecyzowujące","Nie bój się przyznać do niewiedzy"]},{category:"Live coding",tips:["Zacznij od prostego rozwiązania","Testuj kod na przykładach","Optymalizuj tylko na końcu"]}],vo=()=>{const s=i.useMemo(()=>({hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}}),[]),t=i.useMemo(()=>({hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}}),[]);return{interviewBlocks:wo,interviewTips:No,containerVariants:s,itemVariants:t}},Zt=i.memo(({onBack:s})=>e.jsx("header",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[e.jsxs(u.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:s,className:"flex items-center gap-2 text-gray-400 hover:text-js transition-colors",children:[e.jsx(le,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Powrót"})]}),e.jsx("div",{className:"w-px h-5 bg-gray-600 mx-2"}),e.jsx(ps,{className:"w-5 h-5 text-js"}),e.jsx("h3",{className:"text-xl font-bold text-js",children:"Przygotowanie do rozmowy technicznej"})]}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Naucz się odpowiadać na pytania techniczne i rozwiązywać zadania programistyczne na żywo"})]})}));Zt.displayName="TechnicalInterviewHeader";const qt=i.memo(({block:s,variants:t,onClick:a})=>e.jsxs(u.div,{variants:t,whileHover:{scale:1.02},onClick:a,className:"bg-dark-700/50 border border-js/10 rounded-xl p-6 hover:border-js/20 transition-all cursor-pointer group",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:"p-3 rounded-lg bg-js/10 border border-js/20",children:e.jsx(s.icon,{className:"w-6 h-6 text-js"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-js transition-colors",children:s.title}),e.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:s.description})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Tematy do nauki:"}),e.jsx("ul",{className:"space-y-2",children:s.topics.map((r,n)=>e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-400",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-js rounded-full"}),r]},n))})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Dostępność:"}),e.jsx("span",{className:"text-xs bg-green-500/10 text-green-400 border border-green-500/20 px-2 py-1 rounded",children:"Dostępne"})]})})]}));qt.displayName="InterviewBlockCard";const Xt=i.memo(({tips:s,variants:t})=>e.jsxs(u.div,{variants:t,className:"bg-dark-700/30 border border-js/10 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(ps,{className:"w-5 h-5 text-js"}),e.jsx("h3",{className:"text-lg font-bold text-white",children:"Porady na rozmowę techniczną"})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:s.map((a,r)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold text-js text-sm",children:a.category}),e.jsx("ul",{className:"text-sm text-gray-400 space-y-1",children:a.tips.map((n,o)=>e.jsxs("li",{children:["• ",n]},o))})]},r))})]}));Xt.displayName="InterviewTipsSection";const ko=[{value:5,label:"5 pytań",time:"~5 min"},{value:10,label:"10 pytań",time:"~10 min"},{value:15,label:"15 pytań",time:"~15 min"},{value:20,label:"20 pytań",time:"~20 min"}],So=100,zo={topics:"podstawy JavaScript, hoisting, closures, prototypy, event loop, ES6+",details:[{title:"Pytania w bazie",description:`${So} pytań dostępnych`},{title:"Format",description:"Pytania wielokrotnego wyboru"},{title:"Czas",description:"Bez ograniczeń czasowych"}]},To=()=>{const[s,t]=i.useState(10),a=i.useMemo(()=>({hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}}),[]),r=i.useMemo(()=>({hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}}),[]);return{selectedCount:s,questionOptions:ko,testInfo:zo,containerVariants:a,cardVariants:r,handleQuestionCountChange:o=>{t(o)}}},Co=(s=10)=>S(void 0,null,function*(){try{const t=yield P.get(`theory-questions?limit=${s}`);if(t.error)return{data:null,error:t.error,status:t.status};if(t.data){if(t.data.success&&t.data.data)return{data:t.data.data,error:null,status:t.status};if(Array.isArray(t.data))return{data:t.data,error:null,status:t.status}}return{data:null,error:"Nieprawidłowa struktura odpowiedzi z serwera",status:t.status}}catch(t){return{data:null,error:"Błąd połączenia z serwerem",status:0}}}),Lo=(s,t)=>S(void 0,null,function*(){try{const a=yield P.post(`theory-questions/${s}/check`,{answer:t},{requiresAuth:!0});if(a.error)return{data:null,error:a.error,status:a.status};if(a.data){if(a.data.success&&a.data.data)return{data:a.data.data,error:null,status:a.status};if("isCorrect"in a.data&&"correctAnswer"in a.data&&"explanation"in a.data&&"points"in a.data)return{data:a.data,error:null,status:a.status}}return{data:null,error:"Nieprawidłowa struktura odpowiedzi przy sprawdzaniu",status:a.status}}catch(a){return{data:null,error:"Błąd połączenia z serwerem",status:0}}}),Po=()=>{const[s,t]=i.useState("setup"),[a,r]=i.useState(10),[n,o]=i.useState([]),[c,d]=i.useState(0),[l,x]=i.useState(null),[m,p]=i.useState([]),[h,j]=i.useState(0),[b,g]=i.useState(0),[N,v]=i.useState(!1),[T,C]=i.useState(null),w=i.useCallback(_=>S(void 0,null,function*(){v(!0),C(null);try{const V=yield Co(_);if(V.error){C(V.error),v(!1);return}V.data&&(o(V.data),r(_),d(0),x(null),p([]),t("inProgress"),j(Date.now()),g(Date.now()))}catch(V){C("Błąd podczas ładowania pytań")}finally{v(!1)}}),[]),f=i.useCallback(_=>{x(_)},[]),y=i.useCallback(()=>S(void 0,null,function*(){var Ee,Ae,Ps;if(l===null)return;const _=n[c],V=(Date.now()-b)/1e3;try{const Re=yield Lo(_._id,l),Ze={questionId:_._id,selectedAnswer:l,isCorrect:((Ee=Re.data)==null?void 0:Ee.isCorrect)||!1,timeTaken:V,explanation:((Ae=Re.data)==null?void 0:Ae.explanation)||"",correctAnswer:(Ps=Re.data)==null?void 0:Ps.correctAnswer};p(fe=>[...fe,Ze]),c===n.length-1?t("completed"):(d(fe=>fe+1),x(null),g(Date.now()))}catch(Re){C("Błąd podczas sprawdzania odpowiedzi");const Ze=l===_.correctAnswer,fe={questionId:_._id,selectedAnswer:l,isCorrect:Ze,timeTaken:V,explanation:_.explanation,correctAnswer:_.correctAnswer};p(qe=>[...qe,fe]),c===n.length-1?t("completed"):(d(qe=>qe+1),x(null),g(Date.now()))}}),[l,n,c,b]),L=i.useCallback(()=>{t("setup"),r(10),o([]),d(0),x(null),p([]),j(0),g(0),v(!1),C(null)},[]),E=i.useCallback(()=>{n.length>0?w(n.length):L()},[n.length,w,L]),U=i.useCallback(()=>{t("setup")},[]),I=i.useCallback(()=>h===0?0:((s==="completed"?Date.now():h)-h)/1e3,[h,s]),X=i.useCallback(()=>n.length===0?0:(c+1)/n.length*100,[c,n.length]),be=i.useCallback(()=>n[c],[n,c]),Ke=i.useCallback(()=>{const _=m.filter(Ae=>Ae.isCorrect).length,V=m.length,Ee=V>0?Math.round(_/V*100):0;return{correctAnswers:_,totalQuestions:V,percentage:Ee,totalTime:I()}},[m,I]);return{testState:s,selectedQuestionCount:a,questions:n,currentQuestionIndex:c,selectedAnswer:l,answers:m,loading:N,error:T,startTest:w,selectAnswer:f,nextQuestion:y,resetTest:L,restartTest:E,goBackToSetup:U,setSelectedQuestionCount:r,getTotalTime:I,getProgress:X,getCurrentQuestion:be,getStats:Ke,isAnswerSelected:l!==null,isLastQuestion:c===n.length-1,canProceed:l!==null}},Yt=i.memo(({onBack:s,label:t="Powrót"})=>e.jsxs(u.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:s,className:"flex items-center gap-2 text-gray-400 hover:text-js transition-colors",children:[e.jsx(le,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:t})]}));Yt.displayName="BackButton";const ea=i.memo(()=>e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"p-6 rounded-full bg-js/10 border border-js/20",children:e.jsx(Te,{className:"w-12 h-12 text-js"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Test teorii JavaScript"}),e.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"Sprawdź swoją wiedzę teoretyczną z JavaScript. Wybierz ilość pytań i rozpocznij test."})]})]}));ea.displayName="TheoryHeader";const sa=i.memo(({options:s,selectedCount:t,onSelectionChange:a})=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 text-js",children:[e.jsx(Vi,{className:"w-5 h-5"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Wybierz ilość pytań"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.map(r=>e.jsx(u.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>a(r.value),className:`p-4 rounded-xl border transition-all ${t===r.value?"bg-js/10 border-js text-js":"bg-dark-700/30 border-gray-600 text-gray-300 hover:border-js/50"}`,children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"text-lg font-bold",children:r.label})})},r.value))})]}));sa.displayName="QuestionSelector";const ta=i.memo(({details:s})=>e.jsxs("div",{className:"bg-dark-700/30 border border-js/10 rounded-xl p-6 space-y-3",children:[e.jsx("h4",{className:"text-js font-semibold text-center",children:"Informacje o teście"}),e.jsx("div",{className:"grid md:grid-cols-3 gap-4 text-sm text-gray-400",children:s.map((t,a)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium text-white",children:t.title}),e.jsx("div",{children:t.description})]},a))})]}));ta.displayName="TestInfoSection";const aa=i.memo(({onStart:s,loading:t=!1})=>e.jsx(u.button,{whileHover:{scale:t?1:1.05},whileTap:{scale:t?1:.95},onClick:s,disabled:t,className:`w-full bg-gradient-to-r from-js to-js/80 text-dark font-bold py-4 px-8 rounded-xl hover:shadow-lg transition-all flex items-center justify-center gap-3 text-lg ${t?"opacity-50 cursor-not-allowed":""}`,children:t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-dark border-t-transparent rounded-full animate-spin"}),"Ładowanie pytań..."]}):e.jsxs(e.Fragment,{children:[e.jsx(hs,{className:"w-5 h-5"}),"Rozpocznij test"]})}));aa.displayName="StartButton";const Eo=(s,t,a)=>{const r=i.useMemo(()=>s[t],[s,t]),n=i.useMemo(()=>(t+1)/a*100,[t,a]),o=i.useMemo(()=>t===a-1,[t,a]);return{currentQuestion:r,progress:n,isLastQuestion:o,getOptionLetter:d=>String.fromCharCode(65+d)}},ra=i.memo(({onBack:s,currentQuestionIndex:t,totalQuestions:a,progress:r})=>e.jsxs("div",{className:"mb-6 md:mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:[e.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-3 py-2 text-gray-400 hover:text-white transition-colors text-sm sm:text-base",children:[e.jsx(le,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Powrót"]}),e.jsxs("div",{className:"text-white text-sm sm:text-lg font-medium",children:["Pytanie ",t+1," z ",a]})]}),e.jsx("div",{className:"w-full h-2 bg-dark rounded-full overflow-hidden",children:e.jsx(u.div,{className:"h-full bg-gradient-to-r from-js to-js/80",initial:{width:0},animate:{width:`${r}%`},transition:{duration:.5}})})]}));ra.displayName="TestHeader";const ia=i.memo(({question:s,selectedAnswer:t,onAnswerSelect:a,currentQuestionIndex:r,getOptionLetter:n})=>e.jsxs(u.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"bg-dark-800/50 backdrop-blur-sm border border-js/10 rounded-2xl p-4 sm:p-6 md:p-8 mb-6 md:mb-8",children:[e.jsxs("div",{className:"mb-4 md:mb-6",children:[e.jsx("div",{className:"text-js text-xs sm:text-sm font-medium mb-2 uppercase tracking-wide",children:s.category}),e.jsx("h2",{className:"text-white text-lg sm:text-xl md:text-2xl font-bold leading-relaxed",children:s.question})]}),e.jsx("div",{className:"space-y-3 md:space-y-4",children:s.options.map((o,c)=>e.jsx(u.button,{onClick:()=>a(c),className:`w-full p-3 sm:p-4 rounded-xl border-2 text-left transition-all duration-200 ${t===c?"border-js bg-js/10 text-white":"border-js/10 bg-dark-700/50 text-gray-300 hover:border-js/20 hover:bg-dark-700"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:`w-5 h-5 sm:w-6 sm:h-6 rounded-full border-2 flex items-center justify-center flex-shrink-0 ${t===c?"border-js bg-js":"border-gray-600"}`,children:t===c&&e.jsx(G,{className:"text-dark text-xs"})}),e.jsx("span",{className:"text-sm sm:text-lg truncate",children:o})]}),e.jsx("div",{className:"text-gray-500 text-xs sm:text-sm font-medium flex-shrink-0 ml-2",children:n(c)})]})},c))})]},r));ia.displayName="QuestionCard";const na=i.memo(({onNext:s,selectedAnswer:t,isLastQuestion:a})=>{const r=t!==null,n=()=>S(void 0,null,function*(){r&&(yield s())});return e.jsx("div",{className:"flex justify-end",children:e.jsx(u.button,{onClick:n,disabled:!r,className:`px-6 py-3 sm:px-8 sm:py-4 rounded-xl font-medium text-base sm:text-lg transition-all duration-200 ${r?"bg-gradient-to-r from-js to-js/80 text-dark hover:shadow-lg hover:shadow-js/20":"bg-dark-700 text-gray-500 cursor-not-allowed"}`,whileHover:r?{scale:1.05}:{},whileTap:r?{scale:.95}:{},children:a?"Zakończ test":"Następne pytanie"})})});na.displayName="TestActions";const oa=i.memo(({questions:s,currentQuestionIndex:t,selectedAnswer:a,onAnswerSelect:r,onNext:n,onBack:o,totalQuestions:c})=>{const{currentQuestion:d,progress:l,isLastQuestion:x,getOptionLetter:m}=Eo(s,t,c);return e.jsx("div",{className:"min-h-screen bg-dark/50 backdrop-blur-sm p-4 md:flex md:items-center md:justify-center",children:e.jsxs("div",{className:"w-full md:max-w-4xl",children:[e.jsx(ra,{onBack:o,currentQuestionIndex:t,totalQuestions:c,progress:l}),e.jsx(ia,{question:d,selectedAnswer:a,onAnswerSelect:r,currentQuestionIndex:t,getOptionLetter:m}),e.jsx(na,{onNext:n,selectedAnswer:a,isLastQuestion:x})]})})});oa.displayName="TestScreen";const Ao=(s,t,a=0)=>{const r=i.useMemo(()=>{const l=t.filter(h=>h.isCorrect).length,x=s.length,m=Math.round(l/x*100),p=s.reduce((h,j,b)=>{var N;const g=j.category;return h[g]||(h[g]={total:0,correct:0}),h[g].total++,(N=t[b])!=null&&N.isCorrect&&h[g].correct++,h},{});return{correctAnswers:l,totalQuestions:x,percentage:m,categoryStats:p,averageTime:a/x||0}},[s,t,a]),o=(l=>l>=90?{level:"Doskonały",color:"text-green-400",bgColor:"bg-green-500/10"}:l>=80?{level:"Bardzo dobry",color:"text-blue-400",bgColor:"bg-blue-500/10"}:l>=70?{level:"Dobry",color:"text-js",bgColor:"bg-js/10"}:l>=60?{level:"Zadowalający",color:"text-orange-400",bgColor:"bg-orange-500/10"}:{level:"Wymaga poprawy",color:"text-red-400",bgColor:"bg-red-500/10"})(r.percentage);return{stats:r,performance:o,formatTime:l=>{if(l<60)return`${Math.round(l)}s`;const x=Math.floor(l/60),m=Math.round(l%60);return`${x}:${m.toString().padStart(2,"0")}`},getRecommendations:(()=>{const l=[];r.percentage>=90?l.push("Doskonały wynik! Jesteś gotowy na rozmowę techniczną."):r.percentage>=70?l.push("Dobry wynik! Powtórz tematy gdzie miałeś błędy."):l.push("Warto powtórzyć materiał i przejść test ponownie.");const x=Object.entries(r.categoryStats).filter(([,m])=>m.correct/m.total<.7).slice(0,2).map(([m])=>`• Skup się na temacie: ${m}`);return[...l,...x]})()}},la=i.memo(({onBack:s})=>e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 text-gray-400 hover:text-white transition-colors",children:[e.jsx(le,{}),"Powrót do teorii"]}),e.jsx("div",{className:"text-white text-xl font-bold",children:"Wyniki testu"})]}));la.displayName="ResultsHeader";const ca=i.memo(({correctAnswers:s,totalQuestions:t,percentage:a,performance:r})=>e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-dark-800/50 backdrop-blur-sm border border-js/10 rounded-2xl p-8 mb-8 text-center",children:e.jsxs(u.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"mb-6",children:[e.jsx(q,{className:"text-js text-6xl mx-auto mb-4"}),e.jsxs("div",{className:"text-white text-4xl font-bold mb-2",children:[s,"/",t]}),e.jsxs("div",{className:"text-js text-2xl font-bold mb-4",children:[a,"% poprawnych odpowiedzi"]}),e.jsx("div",{className:`inline-block px-6 py-3 rounded-full ${r.bgColor} ${r.color} font-medium text-lg`,children:r.level})]})}));ca.displayName="MainResultCard";const da=i.memo(({correctAnswers:s,totalQuestions:t,totalTime:a,formatTime:r})=>e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-dark-800/50 backdrop-blur-sm border border-js/10 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(xs,{className:"text-js text-xl"}),e.jsx("h3",{className:"text-white text-lg font-bold",children:"Statystyki"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Poprawne:"}),e.jsx("span",{className:"text-green-400 font-medium",children:s})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Błędne:"}),e.jsx("span",{className:"text-red-400 font-medium",children:t-s})]}),a>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Czas całkowity:"}),e.jsx("span",{className:"text-white font-medium",children:r(a)})]})]})]}));da.displayName="StatsCard";const ma=i.memo(({categoryStats:s})=>e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-dark-800/50 backdrop-blur-sm border border-js/10 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Zs,{className:"text-js text-xl"}),e.jsx("h3",{className:"text-white text-lg font-bold",children:"Według kategorii"})]}),e.jsx("div",{className:"space-y-3",children:Object.entries(s).map(([t,a])=>{const r=Math.round(a.correct/a.total*100);return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:t}),e.jsxs("span",{className:"text-white font-medium",children:[a.correct,"/",a.total," (",r,"%)"]})]}),e.jsx("div",{className:"w-full h-2 bg-dark rounded-full overflow-hidden",children:e.jsx(u.div,{className:"h-full bg-gradient-to-r from-js to-js/80",initial:{width:0},animate:{width:`${r}%`},transition:{delay:.5,duration:1}})})]},t)})})]}));ma.displayName="CategoryStatsCard";const xa=i.memo(({recommendations:s,percentage:t})=>{const a=()=>t>=90?"text-green-400":t>=70?"text-js":"text-orange-400";return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-dark-800/50 backdrop-blur-sm border border-js/10 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(D,{className:"text-js text-xl"}),e.jsx("h3",{className:"text-white text-lg font-bold",children:"Rekomendacje"})]}),e.jsx("div",{className:"space-y-3 text-sm",children:s.map((r,n)=>e.jsx("p",{className:n===0?a():"text-gray-400",children:r},n))})]})});xa.displayName="RecommendationsCard";const ua=i.memo(({questions:s,answers:t})=>e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-dark-800/50 backdrop-blur-sm border border-js/10 rounded-2xl p-6 mb-8",children:[e.jsx("h3",{className:"text-white text-lg font-bold mb-6",children:"Szczegółowe odpowiedzi"}),e.jsx("div",{className:"space-y-4",children:s.map((a,r)=>{var c;const n=t[r],o=n==null?void 0:n.isCorrect;return e.jsx("div",{className:"border border-js/10 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${o?"bg-green-500":"bg-red-500"}`,children:o?e.jsx(G,{className:"text-white text-xs"}):e.jsx(Qe,{className:"text-white text-xs"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-gray-400 text-sm mb-1",children:a.category}),e.jsx("div",{className:"text-white font-medium mb-2",children:a.question}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:`text-sm ${o?"text-green-400":"text-red-400"}`,children:["Twoja odpowiedź: ",a.options[(n==null?void 0:n.selectedAnswer)||0]]}),e.jsxs("div",{className:"text-green-400 text-sm",children:["Poprawna odpowiedź: ",a.options[(c=n==null?void 0:n.correctAnswer)!=null?c:a.correctAnswer]]}),e.jsxs("div",{className:"text-gray-300 text-sm bg-dark-700/50 p-3 rounded-lg",children:[e.jsx("strong",{children:"Wyjaśnienie:"})," ",(n==null?void 0:n.explanation)||a.explanation]})]})]})]})},a._id)})})]}));ua.displayName="DetailedAnswers";const pa=i.memo(({onRestart:s})=>e.jsx("div",{className:"flex gap-4 justify-center",children:e.jsxs(u.button,{onClick:s,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-js to-js/80 text-dark font-medium rounded-xl hover:shadow-lg hover:shadow-js/20 transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(js,{}),"Rozpocznij ponownie"]})}));pa.displayName="ResultsActions";const ha=i.memo(({questions:s,answers:t,onRestart:a,onBack:r,totalTime:n=0})=>{const{stats:o,performance:c,formatTime:d,getRecommendations:l}=Ao(s,t,n);return e.jsx("div",{className:"min-h-screen bg-dark/50 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx(la,{onBack:r}),e.jsx(ca,{correctAnswers:o.correctAnswers,totalQuestions:o.totalQuestions,percentage:o.percentage,performance:c}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[e.jsx(da,{correctAnswers:o.correctAnswers,totalQuestions:o.totalQuestions,totalTime:n,formatTime:d}),e.jsx(ma,{categoryStats:o.categoryStats}),e.jsx(xa,{recommendations:l,percentage:o.percentage})]}),e.jsx(ua,{questions:s,answers:t}),e.jsx(pa,{onRestart:a})]})})});ha.displayName="ResultsScreen";const ja=i.memo(({onBack:s})=>{const{selectedCount:t,questionOptions:a,testInfo:r,cardVariants:n,handleQuestionCountChange:o}=To(),{testState:c,questions:d,currentQuestionIndex:l,selectedAnswer:x,answers:m,loading:p,error:h,startTest:j,selectAnswer:b,nextQuestion:g,resetTest:N,restartTest:v,goBackToSetup:T,setSelectedQuestionCount:C,getTotalTime:w}=Po(),f=()=>S(void 0,null,function*(){yield j(t)}),y=()=>{T()},L=()=>{N(),s()};return c==="inProgress"?e.jsx(oa,{questions:d,currentQuestionIndex:l,selectedAnswer:x,onAnswerSelect:b,onNext:g,onBack:y,totalQuestions:d.length}):c==="completed"?e.jsx(ha,{questions:d,answers:m,onRestart:v,onBack:y,totalTime:w()}):e.jsx("div",{className:"min-h-screen bg-dark/50 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs(u.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,ease:"easeOut"},className:"max-w-2xl w-full space-y-8",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx(Yt,{onBack:L})}),e.jsxs(u.div,{variants:n,initial:"hidden",animate:"visible",className:"bg-dark-700/50 border border-js/10 rounded-2xl p-8 text-center space-y-8",children:[e.jsx(ea,{}),e.jsx(sa,{options:a,selectedCount:t,onSelectionChange:E=>{C(E),o(E)}}),e.jsx(ta,{details:r.details}),e.jsx(aa,{onStart:f,loading:p}),h&&e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4 text-red-400 text-center",children:h})]}),e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.5},className:"text-center text-gray-400 text-sm",children:["Tematy: ",r.topics]})]})})});ja.displayName="TheorySection";const Ro=(s=50)=>S(void 0,null,function*(){try{const t=yield P.get(`practice-tasks?limit=${s}`);if(t.error)return{data:null,error:t.error,status:t.status};if(t.data){if(t.data.success&&t.data.data)return{data:t.data.data,error:null,status:t.status};if(Array.isArray(t.data))return{data:t.data,error:null,status:t.status}}return{data:null,error:"Nieprawidłowa struktura odpowiedzi z serwera",status:t.status}}catch(t){return{data:null,error:"Błąd połączenia z serwerem",status:0}}}),$o=s=>S(void 0,null,function*(){try{const t=yield P.get(`practice-tasks/${s}/solution`);if(t.error)return{data:null,error:t.error,status:t.status};if(t.data){if(t.data.success&&t.data.data)return{data:t.data.data,error:null,status:t.status};if("solution"in t.data)return{data:t.data,error:null,status:t.status}}return{data:null,error:"Rozwiązanie nie zostało znalezione",status:404}}catch(t){return{data:null,error:"Błąd podczas pobierania rozwiązania",status:0}}}),Fo=()=>S(void 0,null,function*(){try{const s=yield P.get("practice-tasks/categories");if(s.error)return{data:null,error:s.error,status:s.status};if(s.data){if(s.data.success&&s.data.data)return{data:["Wszystkie",...s.data.data],error:null,status:s.status};if(Array.isArray(s.data))return{data:["Wszystkie",...s.data],error:null,status:s.status}}return{data:["Wszystkie"],error:null,status:s.status}}catch(s){return{data:["Wszystkie"],error:null,status:0}}}),Do=()=>S(void 0,null,function*(){try{const s=yield P.get("practice-tasks/stats");if(s.error)return{data:null,error:s.error,status:s.status};if(s.data){if(s.data.success&&s.data.data)return{data:s.data.data,error:null,status:s.status};if("totalTasks"in s.data&&"tasksByDifficulty"in s.data)return{data:s.data,error:null,status:s.status}}return{data:null,error:"Błąd podczas pobierania statystyk",status:s.status}}catch(s){return{data:null,error:"Błąd podczas pobierania statystyk",status:0}}}),Ms=s=>({id:s._id,title:s.title,description:s.description,difficulty:s.difficulty,category:s.category,estimatedTime:s.estimatedTime,taskContent:s.taskContent,solution:s.solution||"",tips:s.tips,tags:s.tags}),ya=()=>{const[s,t]=i.useState(!1),[a,r]=i.useState(null),n=i.useCallback((l=50)=>S(void 0,null,function*(){t(!0),r(null);try{const x=yield Ro(l);return x.error?(r(x.error),{data:null,error:x.error}):x.data?{data:x.data.map(Ms),error:null}:{data:null,error:"Brak danych"}}catch(x){const m="Błąd podczas ładowania zadań";return r(m),{data:null,error:m}}finally{t(!1)}}),[]),o=i.useCallback(()=>S(void 0,null,function*(){try{const l=yield Fo();return l.error?(r(l.error),{data:null,error:l.error}):{data:l.data,error:null}}catch(l){const x="Błąd podczas ładowania kategorii";return r(x),{data:null,error:x}}}),[]),c=i.useCallback(()=>S(void 0,null,function*(){try{const l=yield Do();return l.error?(r(l.error),{data:null,error:l.error}):l.data?{data:{total:l.data.totalTasks,easy:l.data.tasksByDifficulty.easy,medium:l.data.tasksByDifficulty.medium,hard:l.data.tasksByDifficulty.hard},error:null}:{data:null,error:"Brak danych statystyk"}}catch(l){const x="Błąd podczas ładowania statystyk";return r(x),{data:null,error:x}}}),[]),d=i.useCallback(l=>S(void 0,null,function*(){t(!0),r(null);try{const x=yield $o(l);return x.error?(r(x.error),{data:null,error:x.error}):{data:x.data,error:null}}catch(x){const m="Błąd podczas ładowania rozwiązania";return r(m),{data:null,error:m}}finally{t(!1)}}),[]);return{loading:s,error:a,loadTasks:n,loadCategories:o,loadStats:c,loadSolution:d,convertApiTaskToLocal:Ms}},Mo=s=>{const[t,a]=i.useState("Wszystkie"),[r,n]=i.useState("all"),[o,c]=i.useState(""),d=i.useMemo(()=>s.filter(m=>{const p=t==="Wszystkie"||m.category===t,h=r==="all"||m.difficulty===r,j=m.title.toLowerCase().includes(o.toLowerCase())||m.description.toLowerCase().includes(o.toLowerCase())||m.tags.some(b=>b.toLowerCase().includes(o.toLowerCase()));return p&&h&&j}),[s,t,r,o]);return{selectedCategory:t,selectedDifficulty:r,searchQuery:o,filteredTasks:d,setSelectedCategory:a,setSelectedDifficulty:n,setSearchQuery:c,resetFilters:()=>{a("Wszystkie"),n("all"),c("")},getActiveFiltersCount:()=>{let m=0;return t!=="Wszystkie"&&m++,r!=="all"&&m++,o.trim()!==""&&m++,m}}},Bo=()=>{const[s,t]=i.useState(null),[a,r]=i.useState(!1),[n,o]=i.useState(!1),{loadSolution:c}=ya(),d=i.useCallback(p=>{t(p),r(!1)},[]),l=i.useCallback(()=>{t(null),r(!1)},[]),x=i.useCallback(()=>S(void 0,null,function*(){if(s){if(!a&&(!s.solution||s.solution==="")){o(!0);try{const p=yield c(s.id);p.data&&p.data.solution&&t(h=>h?z(k({},h),{solution:p.data.solution}):null)}catch(p){console.error("Błąd podczas ładowania rozwiązania:",p)}finally{o(!1)}}r(p=>!p)}}),[s,a,c]),m=i.useCallback(()=>{t(null),r(!1),o(!1)},[]);return{selectedTask:s,showSolution:a,solutionLoading:n,handleTaskSelect:d,handleBackToList:l,handleShowSolution:x,resetTask:m}},Oo=()=>{const[s,t]=i.useState([]),[a,r]=i.useState([]),[n,o]=i.useState({total:0,easy:0,medium:0,hard:0}),{loading:c,error:d,loadTasks:l,loadCategories:x,loadStats:m}=ya(),p=Mo(s),h=Bo();return i.useEffect(()=>{S(void 0,null,function*(){try{const[b,g,N]=yield Promise.all([l(50),x(),m()]);b.data&&t(b.data),g.data&&r(["Wszystkie",...g.data]),N.data&&o(N.data)}catch(b){console.error("Błąd podczas ładowania danych:",b)}})},[l,x,m]),{tasks:p.filteredTasks,categories:a,stats:n,loading:c,error:d,selectedCategory:p.selectedCategory,selectedDifficulty:p.selectedDifficulty,searchQuery:p.searchQuery,setSelectedCategory:p.setSelectedCategory,setSelectedDifficulty:p.setSelectedDifficulty,setSearchQuery:p.setSearchQuery,resetFilters:p.resetFilters,getActiveFiltersCount:p.getActiveFiltersCount,selectedTask:h.selectedTask,showSolution:h.showSolution,solutionLoading:h.solutionLoading,handleTaskSelect:h.handleTaskSelect,handleBackToList:h.handleBackToList,handleShowSolution:h.handleShowSolution,resetTask:h.resetTask}},_o={easy:"Łatwe",medium:"Średnie",hard:"Trudne"},Io=({task:s})=>e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:s.title}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${s.difficulty==="easy"?"bg-green-500/10 text-green-400 border-green-500/20":s.difficulty==="medium"?"bg-js/10 text-js border-js/20":"bg-red-500/10 text-red-400 border-red-500/20"}`,children:_o[s.difficulty]})]}),e.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-400 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.estimatedTime," min"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"w-4 h-4"}),e.jsx("span",{children:s.category})]})]}),e.jsx("p",{className:"text-gray-300 text-lg",children:s.description})]}),Go=({task:s})=>e.jsxs("div",{className:"bg-dark-700/50 border border-js/10 rounded-xl p-6 mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx(R,{className:"w-5 h-5 text-js"}),"Zadanie"]}),e.jsx("div",{className:"bg-dark-700/30 border border-gray-600 rounded-lg",children:e.jsx(ys,{language:"javascript",style:Xs,customStyle:{background:"transparent",padding:"1rem",fontSize:"0.875rem",borderRadius:"0.5rem"},children:s.taskContent})})]}),Ho=({task:s})=>s.tips.length===0?null:e.jsxs("div",{className:"bg-dark-700/50 border border-js/10 rounded-xl p-6 mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx(xe,{className:"w-5 h-5 text-js"}),"Wskazówki"]}),e.jsx("ul",{className:"space-y-2",children:s.tips.map((t,a)=>e.jsxs("li",{className:"flex items-start gap-2 text-gray-300",children:[e.jsx("span",{className:"text-js mt-1",children:"•"}),e.jsx("span",{children:t})]},a))})]}),Qo=({task:s,showSolution:t,copied:a,onShowSolution:r,onCopySolution:n})=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6 flex gap-4",children:[e.jsxs(u.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:r,className:"flex items-center gap-2 bg-js hover:bg-js/80 text-dark px-6 py-3 rounded-lg font-medium transition-colors",children:[t?e.jsx(Ji,{className:"w-4 h-4"}):e.jsx(Ki,{className:"w-4 h-4"}),t?"Ukryj rozwiązanie":"Pokaż rozwiązanie"]}),t&&e.jsxs(u.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:n,className:`flex items-center gap-2 px-6 py-3 rounded-lg font-medium transition-all ${a?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-600 hover:bg-gray-700 text-white"}`,children:[a?e.jsx(G,{className:"w-4 h-4"}):e.jsx(gs,{className:"w-4 h-4"}),a?"Skopiowane!":"Kopiuj kod"]})]}),t&&e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-dark-700/50 border border-green-500/20 rounded-xl p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx(R,{className:"w-5 h-5 text-green-400"}),"Rozwiązanie"]}),e.jsx("div",{className:"bg-dark-700/30 border border-gray-600 rounded-lg",children:e.jsx(ys,{language:"javascript",style:Xs,customStyle:{background:"transparent",padding:"1rem",fontSize:"0.875rem",borderRadius:"0.5rem"},children:s.solution})})]})]}),Wo=({task:s})=>s.tags.length===0?null:e.jsx("div",{className:"mt-6 flex flex-wrap gap-2",children:s.tags.map((t,a)=>e.jsx("span",{className:"px-3 py-1 bg-dark-700/30 border border-gray-600 text-gray-300 rounded-full text-sm",children:t},a))}),Uo=({task:s,showSolution:t,onBack:a,onShowSolution:r})=>{const[n,o]=i.useState(!1),c=()=>S(void 0,null,function*(){try{yield navigator.clipboard.writeText(s.solution),o(!0),setTimeout(()=>o(!1),2e3)}catch(d){console.error("Nie udało się skopiować tekstu: ",d)}});return e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-dark backdrop-blur-sm z-50 overflow-y-auto",children:e.jsxs("div",{className:"min-h-screen p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs(u.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:a,className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors",children:[e.jsx(le,{className:"w-4 h-4"}),e.jsx("span",{children:"Powrót do listy zadań"})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx(Io,{task:s}),e.jsx(Go,{task:s}),e.jsx(Ho,{task:s}),e.jsx(Qo,{task:s,showSolution:t,copied:n,onShowSolution:r,onCopySolution:c}),e.jsx(Wo,{task:s})]})]})})},Vo={easy:"Łatwe",medium:"Średnie",hard:"Trudne"},Jo=({task:s,index:t,onSelect:a})=>e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.1},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>a(s),className:"bg-dark-700/50 border border-js/10 rounded-xl p-6 cursor-pointer hover:border-js/20 transition-all group",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-white pr-4 group-hover:text-js transition-colors",children:s.title}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${s.difficulty==="easy"?"bg-green-500/10 text-green-400 border-green-500/20":s.difficulty==="medium"?"bg-js/10 text-js border-js/20":"bg-red-500/10 text-red-400 border-red-500/20"}`,children:Vo[s.difficulty]})]}),e.jsx("p",{className:"text-gray-300 mb-4 line-clamp-3",children:s.description}),e.jsx("div",{className:"flex items-center justify-between text-sm text-gray-400 mb-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(M,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.estimatedTime," min"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(R,{className:"w-4 h-4"}),e.jsx("span",{children:s.category})]})]})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.tags.slice(0,3).map((r,n)=>e.jsx("span",{className:"px-2 py-1 bg-dark-700/30 border border-js text-white rounded text-xs",children:r},n)),s.tags.length>3&&e.jsxs("span",{className:"px-2 py-1 bg-dark-700/30 border border-js text-white rounded text-xs",children:["+",s.tags.length-3]})]})]}),Ko=({stats:s})=>e.jsxs("div",{className:"flex justify-center gap-8 mt-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:s.total}),e.jsx("div",{className:"text-sm text-gray-400",children:"Wszystkich zadań"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-400",children:s.easy}),e.jsx("div",{className:"text-sm text-gray-400",children:"Łatwych"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-js",children:s.medium}),e.jsx("div",{className:"text-sm text-gray-400",children:"Średnich"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-400",children:s.hard}),e.jsx("div",{className:"text-sm text-gray-400",children:"Trudnych"})]})]}),Zo=({categories:s,selectedCategory:t,selectedDifficulty:a,searchQuery:r,onCategoryChange:n,onDifficultyChange:o,onSearchQueryChange:c,onResetFilters:d})=>e.jsxs("div",{className:"bg-dark-700/50 border border-js/10 rounded-xl p-6 space-y-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[e.jsx(Zi,{className:"w-4 h-4 text-js"}),"Filtry"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Szukaj zadań...",value:r,onChange:l=>c(l.target.value),className:"w-full pl-10 pr-4 py-2 bg-dark border border-js rounded-lg text-white placeholder-white focus:outline-none focus:border-js/50"})]}),e.jsx("select",{value:t,onChange:l=>n(l.target.value),className:"px-4 py-2 bg-dark-700/30 border border-js rounded-lg text-white focus:outline-none focus:border-js/50",style:{backgroundColor:"#1b1a1b",color:"white"},children:s.map(l=>e.jsx("option",{value:l,style:{backgroundColor:"#1b1a1b",color:"white"},children:l},l))}),e.jsxs("select",{value:a,onChange:l=>o(l.target.value),className:"px-4 py-2 bg-dark-700/30 border border-js rounded-lg text-white focus:outline-none focus:border-js/50",style:{backgroundColor:"#1b1a1b",color:"white"},children:[e.jsx("option",{value:"all",style:{backgroundColor:"#1b1a1b",color:"white"},children:"Wszystkie poziomy"}),e.jsx("option",{value:"easy",style:{backgroundColor:"#1b1a1b",color:"white"},children:"Łatwe"}),e.jsx("option",{value:"medium",style:{backgroundColor:"#1b1a1b",color:"white"},children:"Średnie"}),e.jsx("option",{value:"hard",style:{backgroundColor:"#1b1a1b",color:"white"},children:"Trudne"})]})]}),e.jsx("button",{onClick:d,className:"text-js hover:text-js/80 text-sm transition-colors",children:"Resetuj filtry"})]}),qo=({onResetFilters:s})=>e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 text-lg mb-4",children:"Nie znaleziono zadań"}),e.jsx("button",{onClick:s,className:"text-js hover:text-js/80 transition-colors",children:"Resetuj filtry"})]}),ga=({onBack:s})=>{const{tasks:t,categories:a,stats:r,selectedTask:n,showSolution:o,selectedCategory:c,selectedDifficulty:d,searchQuery:l,loading:x,error:m,setSelectedCategory:p,setSelectedDifficulty:h,setSearchQuery:j,handleTaskSelect:b,handleBackToList:g,handleShowSolution:N,resetFilters:v}=Oo();return n?e.jsx(Uo,{task:n,showSolution:o,onBack:g,onShowSolution:N}):x?e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),e.jsx("p",{className:"text-gray-300",children:"Ładowanie zadań..."})]})}):m?e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"text-red-400 text-xl",children:"⚠️"}),e.jsx("p",{className:"text-red-400",children:m}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Spróbuj ponownie"})]})}):e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(u.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:s,className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors",children:[e.jsx(le,{className:"w-4 h-4"}),e.jsx("span",{children:"Powrót"})]})}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Zadania Praktyczne"}),e.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Rozwiąż praktyczne zadania programistyczne, które często pojawiają się na rozmowach kwalifikacyjnych."}),e.jsx(Ko,{stats:r})]}),e.jsx(Zo,{categories:a,selectedCategory:c,selectedDifficulty:d,searchQuery:l,onCategoryChange:p,onDifficultyChange:T=>h(T),onSearchQueryChange:j,onResetFilters:v}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map((T,C)=>e.jsx(Jo,{task:T,index:C,onSelect:b},T.id))}),t.length===0&&e.jsx(qo,{onResetFilters:v})]})};ga.displayName="PracticeSection";const ba=i.memo(({onBack:s})=>{const[t,a]=i.useState("main"),{interviewBlocks:r,interviewTips:n,containerVariants:o,itemVariants:c}=vo(),d=x=>{x==="theory"?a("theory"):x==="practice"&&a("practice")},l=()=>{a("main")};return t==="theory"?e.jsx(ja,{onBack:l}):t==="practice"?e.jsx(ga,{onBack:l}):e.jsxs(u.div,{variants:o,initial:"hidden",animate:"visible",className:"space-y-8",children:[e.jsx(Zt,{onBack:s}),e.jsx(u.div,{variants:o,className:"grid md:grid-cols-2 gap-6",children:r.map(x=>e.jsx(qt,{block:x,variants:c,onClick:()=>d(x.id)},x.id))}),e.jsx(Xt,{tips:n,variants:c})]})});ba.displayName="TechnicalInterviewSection";const Bs=(...t)=>S(void 0,[...t],function*(s={}){var n;const a=new URLSearchParams;s.category&&a.append("category",s.category),s.importance&&a.append("importance",s.importance),s.search&&a.append("search",s.search),(n=s.tags)!=null&&n.length&&a.append("tags",s.tags.join(",")),s.limit&&a.append("limit",s.limit.toString()),s.page&&a.append("page",s.page.toString()),s.sortBy&&a.append("sortBy",s.sortBy),s.sortOrder&&a.append("sortOrder",s.sortOrder);const r=yield P.get(`cv/tips?${a}`);if(r.error)throw new Error(r.error);return r.data}),Os=(...t)=>S(void 0,[...t],function*(s={}){var n;const a=new URLSearchParams;s.type&&a.append("type",s.type),s.level&&a.append("level",s.level),s.field&&a.append("field",s.field),s.search&&a.append("search",s.search),(n=s.tags)!=null&&n.length&&a.append("tags",s.tags.join(",")),s.limit&&a.append("limit",s.limit.toString()),s.page&&a.append("page",s.page.toString()),s.sortBy&&a.append("sortBy",s.sortBy),s.sortOrder&&a.append("sortOrder",s.sortOrder);const r=yield P.get(`cv/examples?${a}`);if(r.error)throw new Error(r.error);return r.data}),_s=()=>S(void 0,null,function*(){const s=yield P.get("cv/stats");if(s.error)throw new Error(s.error);return s.data}),Xo=s=>S(void 0,null,function*(){const t=yield P.post("cv/progress",s);if(t.error)throw new Error(t.error)}),Yo=()=>{const[s,t]=i.useState([]),[a,r]=i.useState([]),[n,o]=i.useState(null),[c,d]=i.useState(!1),[l,x]=i.useState(null),[m,p]=i.useState(1),[h,j]=i.useState(1),[b,g]=i.useState(!1),N=i.useCallback(()=>S(void 0,null,function*(){d(!0),x(null);try{const[w,f,y]=yield Promise.all([Bs({limit:50,sortBy:"order"}),Os({limit:50,sortBy:"order"}),_s()]);t(w.data),r(f.data),o(y)}catch(w){x(w instanceof Error?w.message:"Błąd podczas ładowania danych")}finally{d(!1)}}),[]),v=i.useCallback((w,f=1)=>S(void 0,null,function*(){d(!0),x(null);try{const y=yield Bs(z(k({},w),{page:f,limit:20,sortBy:"order"}));t(f===1?y.data:L=>[...L,...y.data]),p(y.pagination.page),j(y.pagination.totalPages),g(y.pagination.hasNext)}catch(y){x(y instanceof Error?y.message:"Błąd podczas ładowania porad")}finally{d(!1)}}),[]),T=i.useCallback((w,f=1)=>S(void 0,null,function*(){d(!0),x(null);try{const y=yield Os(z(k({},w),{page:f,limit:20,sortBy:"order"}));r(f===1?y.data:L=>[...L,...y.data]),p(y.pagination.page),j(y.pagination.totalPages),g(y.pagination.hasNext)}catch(y){x(y instanceof Error?y.message:"Błąd podczas ładowania przykładów")}finally{d(!1)}}),[]),C=i.useCallback(()=>S(void 0,null,function*(){try{const w=yield _s();o(w)}catch(w){console.error("Błąd podczas odświeżania statystyk:",w)}}),[]);return i.useEffect(()=>{N()},[N]),{tips:s,examples:a,stats:n,loading:c,error:l,currentPage:m,totalPages:h,hasMore:b,loadTips:v,loadExamples:T,refreshStats:C,refetch:N,setCurrentPage:p,setError:x}},el=()=>{const[s,t]=i.useState("main"),[a,r]=i.useState(""),[n,o]=i.useState("all"),c=i.useCallback(p=>{t(p)},[]),d=i.useCallback(()=>{t("main"),r(""),o("all")},[]),l=i.useCallback(p=>{r(p)},[]),x=i.useCallback(()=>{r(""),o("all")},[]),m=i.useCallback(()=>{let p=0;return a.trim()!==""&&p++,n!=="all"&&p++,p},[a,n]);return{currentView:s,searchQuery:a,selectedCategory:n,setCurrentView:t,setSearchQuery:r,setSelectedCategory:o,handleSectionClick:c,handleBackToMain:d,handleSearch:l,resetFilters:x,getActiveFiltersCount:m}},sl=({refreshStats:s})=>({trackProgress:i.useCallback((a,r)=>S(void 0,null,function*(){try{yield Xo({type:a,itemId:r}),yield s()}catch(n){console.error("Błąd podczas śledzenia postępu:",n)}}),[s])}),tl=(s,t,a)=>({cvPreparationSections:i.useMemo(()=>{var n,o,c,d;return[{id:"content-tips",title:"Treść i zawartość",description:"Jak napisać CV które sprzeda Twoje umiejętności",icon:He,stats:{items:s.filter(l=>l.category==="content").length,completed:((n=a==null?void 0:a.userProgress)==null?void 0:n.completedSections)||0},isAvailable:!0},{id:"technical-tips",title:"Umiejętności techniczne",description:"Jak prezentować projekty i technologie",icon:R,stats:{items:s.filter(l=>["skills","projects"].includes(l.category)).length,completed:((o=a==null?void 0:a.userProgress)==null?void 0:o.completedSections)||0},isAvailable:!0},{id:"design-tips",title:"Formatowanie i design",description:"Jak sprawić żeby CV wyglądało profesjonalnie",icon:qi,stats:{items:s.filter(l=>l.category==="design").length,completed:((c=a==null?void 0:a.userProgress)==null?void 0:c.completedSections)||0},isAvailable:!0},{id:"examples",title:"Przykłady opisów",description:"Gotowe opisy projektów i doświadczenia",icon:xe,stats:{items:t.length,completed:((d=a==null?void 0:a.userProgress)==null?void 0:d.completedSections)||0},isAvailable:!0}]},[s,t,a])}),al=()=>({"content-tips":["content"],"technical-tips":["skills","projects"],"design-tips":["design"]}),rl=()=>({"content-tips":{title:"Treść i zawartość",description:"Jak napisać CV które sprzeda Twoje umiejętności"},"technical-tips":{title:"Umiejętności techniczne",description:"Jak prezentować projekty i technologie"},"design-tips":{title:"Formatowanie i design",description:"Jak sprawić żeby CV wyglądało profesjonalnie"},examples:{title:"Przykłady opisów",description:"Gotowe opisy projektów i doświadczenia"}}),il=()=>{const s=Yo(),t=el(),a=sl({refreshStats:s.refreshStats}),{cvPreparationSections:r}=tl(s.tips,s.examples,s.stats),n=i.useMemo(()=>({hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}}),[]),o=i.useMemo(()=>({hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}}),[]),c=i.useMemo(()=>{if(t.currentView==="main")return s.tips;const h=al()[t.currentView]||[];return s.tips.filter(j=>h.includes(j.category))},[s.tips,t.currentView]),d=i.useCallback(p=>{if(t.handleSectionClick(p),s.setCurrentPage(1),p==="examples")s.loadExamples({search:t.searchQuery||void 0},1);else{const j={"content-tips":"content","technical-tips":"skills","design-tips":"design"}[p];j&&s.loadTips({category:j,search:t.searchQuery||void 0},1)}},[t,s]),l=i.useCallback(p=>{if(t.handleSearch(p),s.setCurrentPage(1),t.currentView==="examples")s.loadExamples({search:p||void 0},1);else if(t.currentView!=="main"){const j={"content-tips":"content","technical-tips":"skills","design-tips":"design"}[t.currentView];j&&s.loadTips({category:j,search:p||void 0},1)}},[t,s]),x=i.useCallback(()=>{if(!s.hasMore||s.loading)return;const p=s.currentPage+1;if(t.currentView==="examples")s.loadExamples({search:t.searchQuery||void 0},p);else{const j={"content-tips":"content","technical-tips":"skills","design-tips":"design"}[t.currentView];j&&s.loadTips({category:j,search:t.searchQuery||void 0},p)}},[t,s]),m=i.useCallback(()=>{t.handleBackToMain(),s.setCurrentPage(1)},[t,s]);return{currentView:t.currentView,searchQuery:t.searchQuery,selectedCategory:t.selectedCategory,tips:c,examples:s.examples,stats:s.stats,loading:s.loading,error:s.error,currentPage:s.currentPage,totalPages:s.totalPages,hasMore:s.hasMore,cvPreparationSections:r,containerVariants:n,itemVariants:o,handleSectionClick:d,handleBackToMain:m,handleSearch:l,loadMore:x,trackProgress:a.trackProgress,setCurrentView:t.setCurrentView,setSearchQuery:t.setSearchQuery,setSelectedCategory:t.setSelectedCategory,resetFilters:t.resetFilters,getActiveFiltersCount:t.getActiveFiltersCount,refetch:s.refetch}},Ve=i.memo(({title:s,description:t,onBack:a,showBackButton:r=!0})=>e.jsxs("header",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:r&&e.jsxs(u.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:a,className:"flex items-center gap-2 text-gray-400 hover:text-js transition-colors",children:[e.jsx(le,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Powrót"})]})}),e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"p-6 rounded-full bg-js/10 border border-js/20",children:e.jsx(He,{className:"w-12 h-12 text-js"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:s}),e.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto leading-relaxed",children:t})]})]})]}));Ve.displayName="CVHeader";const fa=i.memo(({error:s,onBack:t,onRetry:a=()=>window.location.reload()})=>e.jsx("div",{className:"min-h-screen bg-dark/50 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx(Ve,{title:"Przygotowanie CV",description:"Stwórz profesjonalne CV, które przyciągnie uwagę rekruterów",onBack:t}),e.jsxs("div",{className:"mt-8 bg-red-500/10 border border-red-500/20 rounded-lg p-6 text-center",children:[e.jsx(Z,{className:"w-8 h-8 text-red-400 mx-auto mb-4"}),e.jsx("p",{className:"text-red-400 mb-4",children:s}),e.jsx("button",{onClick:a,className:"px-4 py-2 bg-red-500/20 border border-red-500/30 rounded-lg text-red-400 hover:bg-red-500/30 transition-colors",children:"Spróbuj ponownie"})]})]})}));fa.displayName="CVErrorState";const wa=i.memo(({section:s,variants:t,onClick:a})=>{const{title:r,description:n,icon:o,stats:c,isAvailable:d}=s;return e.jsxs(u.div,{variants:t,whileHover:d?{scale:1.02}:{},onClick:d?a:void 0,className:`
        relative bg-dark-700/50 border border-js/10 rounded-xl p-6 transition-all
        ${d?"hover:border-js/20 cursor-pointer group":"opacity-60 cursor-not-allowed"}
      `,children:[!d&&e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"p-2 bg-dark rounded-full border border-gray-600",children:e.jsx(Y,{className:"w-3 h-3 text-gray-400"})})}),e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:`
          p-3 rounded-lg border transition-colors
          ${d?"bg-js/10 border-js/20 group-hover:bg-js/20":"bg-gray-700/30 border-gray-600"}
        `,children:e.jsx(o,{className:`w-6 h-6 ${d?"text-js":"text-gray-400"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`
            text-xl font-bold mb-2 transition-colors
            ${d?"text-white group-hover:text-js":"text-gray-400"}
          `,children:r}),e.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:n})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[e.jsxs("span",{children:["Dostępne: ",c.items]}),c.completed!==void 0&&e.jsxs("span",{children:["Ukończone: ",c.completed]})]}),!d&&e.jsx("span",{className:"text-xs bg-gray-700/50 text-gray-400 border border-gray-600 px-2 py-1 rounded",children:"Wkrótce"}),d&&e.jsx("span",{className:"text-xs bg-green-500/10 text-green-400 border border-green-500/20 px-2 py-1 rounded",children:"Dostępne"})]}),c.completed!==void 0&&c.completed>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"w-full h-2 bg-dark rounded-full overflow-hidden",children:e.jsx(u.div,{className:"h-full bg-gradient-to-r from-js to-js/80",initial:{width:0},animate:{width:`${c.completed/c.items*100}%`},transition:{duration:1,delay:.5}})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[e.jsxs("span",{children:[c.completed," z ",c.items]}),e.jsxs("span",{children:[Math.round(c.completed/c.items*100),"%"]})]})]})]})});wa.displayName="CVSectionCard";const Na=i.memo(({stats:s,variants:t})=>{var a,r;return e.jsx(u.div,{variants:t,className:"bg-dark-700/30 border border-js/10 rounded-xl p-6",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-js",children:s.totalTips}),e.jsx("div",{className:"text-sm text-gray-400",children:"Dostępnych porad"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-js",children:s.totalExamples}),e.jsx("div",{className:"text-sm text-gray-400",children:"Gotowych przykładów"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl font-bold text-js",children:[((a=s.userProgress)==null?void 0:a.completionPercentage)||0,"%"]}),e.jsx("div",{className:"text-sm text-gray-400",children:"Ukończono"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-js",children:((r=s.userProgress)==null?void 0:r.tipsViewed)||0}),e.jsx("div",{className:"text-sm text-gray-400",children:"Przeczytanych porad"})]})]})})});Na.displayName="CVStatsOverview";const va=i.memo(({variants:s})=>e.jsxs(u.div,{variants:s,className:"bg-dark-700/30 border border-js/10 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"💡 Dlaczego te porady są skuteczne?"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm text-gray-400",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold text-js",children:"Sprawdzone metody"}),e.jsx("p",{children:"Każda rada jest oparta na doświadczeniu rekruterów IT i feedback od programistów, którzy znaleźli pracę."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold text-js",children:"Konkretne przykłady"}),e.jsx("p",{children:'Zamiast ogólnych wskazówek, pokazujemy dokładnie co napisać i jak to zrobić - z przykładami "dobrze" vs "źle".'})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold text-js",children:"Dla programistów"}),e.jsx("p",{children:"Wszystkie porady są specjalnie dostosowane do branży IT i tego, na co rekruterzy zwracają uwagę w CV developerów."})]})]})]}));va.displayName="CVInfoSection";const ka=i.memo(({stats:s,loading:t,cvPreparationSections:a,containerVariants:r,itemVariants:n,onBack:o,onSectionClick:c})=>e.jsx("div",{className:"min-h-screen bg-dark/50 backdrop-blur-sm p-4",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs(u.div,{variants:r,initial:"hidden",animate:"visible",className:"space-y-8",children:[e.jsx(Ve,{title:"Przygotowanie CV",description:"Stwórz profesjonalne CV, które przyciągnie uwagę rekruterów i wyróżni Cię na rynku pracy",onBack:o}),t&&!s&&e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(re,{className:"w-8 h-8 text-js animate-spin"})}),s&&e.jsx(Na,{stats:s,variants:n}),e.jsx(u.div,{variants:r,className:"grid md:grid-cols-2 gap-6",children:a.map(d=>e.jsx(wa,{section:d,variants:n,onClick:()=>c(d.id)},d.id))}),e.jsx(va,{variants:n})]})})}));ka.displayName="CVMainView";const Sa=i.memo(({tip:s,index:t})=>{const[a,r]=i.useState(!1),o={low:{bg:"bg-gray-500/10",border:"border-gray-500/20",text:"text-gray-400"},medium:{bg:"bg-blue-500/10",border:"border-blue-500/20",text:"text-blue-400"},high:{bg:"bg-orange-500/10",border:"border-orange-500/20",text:"text-orange-400"},critical:{bg:"bg-red-500/10",border:"border-red-500/20",text:"text-red-400"}}[s.importance];return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.1},className:"bg-dark-700/30 border border-js/10 rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-start gap-4 mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:s.title}),e.jsxs("span",{className:`
                px-2 py-1 rounded text-xs ${o.bg} ${o.border} ${o.text} border
              `,children:[s.importance==="low"&&"Niska",s.importance==="medium"&&"Średnia",s.importance==="high"&&"Wysoka",s.importance==="critical"&&"Krytyczna"]})]}),e.jsx("p",{className:"text-gray-400 leading-relaxed",children:s.description})]})}),e.jsxs(u.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r(!a),className:"w-full flex items-center justify-between p-3 bg-dark-700/50 border border-js/10 rounded-lg hover:border-js/20 transition-colors",children:[e.jsx("span",{className:"text-js font-medium",children:a?"Ukryj przykłady":"Pokaż przykłady"}),a?e.jsx(Ys,{className:"w-4 h-4 text-js"}):e.jsx(et,{className:"w-4 h-4 text-js"})]})]}),e.jsx(u.div,{initial:!1,animate:{height:a?"auto":0,opacity:a?1:0},transition:{duration:.3},className:"overflow-hidden",children:e.jsx("div",{className:"px-6 pb-6",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"flex items-center gap-2 text-green-400 font-semibold mb-3",children:[e.jsx(G,{className:"w-4 h-4"}),"Dobrze ✅"]}),e.jsx("ul",{className:"space-y-2",children:s.examples.good.map((c,d)=>e.jsx("li",{className:"text-sm text-gray-300 p-3 bg-green-500/5 border border-green-500/20 rounded-lg",children:c},d))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"flex items-center gap-2 text-red-400 font-semibold mb-3",children:[e.jsx(Qe,{className:"w-4 h-4"}),"Źle ❌"]}),e.jsx("ul",{className:"space-y-2",children:s.examples.bad.map((c,d)=>e.jsx("li",{className:"text-sm text-gray-300 p-3 bg-red-500/5 border border-red-500/20 rounded-lg",children:c},d))})]})]})})})]})});Sa.displayName="TipCard";const za=i.memo(({example:s,index:t})=>{const[a,r]=i.useState(!1),[n,o]=i.useState(!1),c={junior:{bg:"bg-green-500/10",border:"border-green-500/20",text:"text-green-400"},mid:{bg:"bg-blue-500/10",border:"border-blue-500/20",text:"text-blue-400"},senior:{bg:"bg-purple-500/10",border:"border-purple-500/20",text:"text-purple-400"}},d={"full-cv":He,section:R,"skill-description":R,"project-description":R},l=c[s.level],x=d[s.type],m=()=>S(void 0,null,function*(){try{yield navigator.clipboard.writeText(s.content),o(!0),setTimeout(()=>o(!1),2e3)}catch(p){console.error("Failed to copy text: ",p)}});return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.1},className:"bg-dark-700/30 border border-js/10 rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 rounded-lg bg-js/10 border border-js/20",children:e.jsx(x,{className:"w-6 h-6 text-js"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:s.title}),e.jsx("span",{className:`
                  px-2 py-1 rounded text-xs ${l.bg} ${l.border} ${l.text} border
                `,children:s.level}),e.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-500/10 border border-gray-500/20 text-gray-400",children:s.field})]}),e.jsx("p",{className:"text-gray-400 leading-relaxed",children:s.description})]})]}),e.jsx(u.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:m,className:"flex items-center gap-2 px-3 py-2 bg-js/10 border border-js/20 rounded-lg hover:bg-js/20 transition-colors",children:n?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:"text-sm text-green-400",children:"Skopiowano!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(gs,{className:"w-4 h-4 text-js"}),e.jsx("span",{className:"text-sm text-js",children:"Kopiuj"})]})})]}),e.jsxs(u.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r(!a),className:"w-full flex items-center justify-between p-3 bg-dark-700/50 border border-js/10 rounded-lg hover:border-js/20 transition-colors",children:[e.jsx("span",{className:"text-js font-medium",children:a?"Ukryj przykład":"Pokaż przykład"}),a?e.jsx(Ys,{className:"w-4 h-4 text-js"}):e.jsx(et,{className:"w-4 h-4 text-js"})]})]}),e.jsx(u.div,{initial:!1,animate:{height:a?"auto":0,opacity:a?1:0},transition:{duration:.3},className:"overflow-hidden",children:e.jsxs("div",{className:"px-6 pb-6",children:[e.jsx("div",{className:"bg-dark-700/50 border border-js/10 rounded-lg p-4 mb-4",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap font-mono leading-relaxed",children:s.content})}),s.highlightPoints.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-js font-semibold mb-3 flex items-center gap-2",children:[e.jsx(G,{className:"w-4 h-4"}),"Kluczowe elementy:"]}),e.jsx("ul",{className:"space-y-2",children:s.highlightPoints.map((p,h)=>e.jsxs("li",{className:"text-sm text-gray-300 p-3 bg-js/5 border border-js/20 rounded-lg flex items-start gap-2",children:[e.jsx(G,{className:"w-4 h-4 text-js mt-0.5 flex-shrink-0"}),p]},h))})]})]})})]})});za.displayName="ExampleCard";const Ta=i.memo(({title:s,description:t,type:a,items:r,loading:n,hasMore:o,onBack:c,onLoadMore:d})=>e.jsx("div",{className:"min-h-screen bg-dark/50 backdrop-blur-sm p-4",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-8",children:[e.jsx(Ve,{title:s,description:t,onBack:c}),n&&e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(re,{className:"w-8 h-8 text-js animate-spin"})}),e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"grid gap-6",children:[a==="tips"?r.map((l,x)=>e.jsx(Sa,{tip:l,index:x},l.id)):r.map((l,x)=>e.jsx(za,{example:l,index:x},l.id)),o&&!n&&e.jsx("div",{className:"flex justify-center py-4",children:e.jsx("button",{onClick:d,className:`px-6 py-2 bg-js/20 hover:bg-js/30 border border-js/30 
                         rounded-lg text-js font-medium transition-colors`,children:"Załaduj więcej"})}),r.length===0&&!n&&e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"text-gray-400",children:[e.jsx("p",{className:"text-lg mb-2",children:"Brak wyników"}),e.jsx("p",{className:"text-sm",children:"Spróbuj zmienić kryteria wyszukiwania"})]})})]})]})})}));Ta.displayName="CVDetailView";const Ca=i.memo(({onBack:s})=>{const{currentView:t,tips:a,examples:r,stats:n,loading:o,error:c,cvPreparationSections:d,containerVariants:l,itemVariants:x,hasMore:m,handleSectionClick:p,handleBackToMain:h,loadMore:j}=il(),b=i.useMemo(()=>{const N=rl()[t];return N?t==="examples"?{title:N.title,description:N.description,items:r,type:"examples"}:{title:N.title,description:N.description,items:a,type:"tips"}:null},[t,a,r]);return c?e.jsx(fa,{error:c,onBack:s}):b&&t!=="main"?e.jsx(Ta,{title:b.title,description:b.description,type:b.type,items:b.items,loading:o,hasMore:m,onBack:h,onLoadMore:j}):e.jsx(ka,{stats:n,loading:o,cvPreparationSections:d,containerVariants:l,itemVariants:x,onBack:s,onSectionClick:p})});Ca.displayName="CVPreparationSection";const La=i.memo(()=>{const[s,t]=i.useState("main"),{recruitmentSections:a,stats:r,containerVariants:n,itemVariants:o}=fo(),c=l=>{l==="technical-interview"?t("technical-interview"):l==="cv-preparation"&&t("cv-preparation")},d=()=>{t("main")};return s==="technical-interview"?e.jsx(ba,{onBack:d}):s==="cv-preparation"?e.jsx(Ca,{onBack:d}):e.jsxs(u.div,{variants:n,initial:"hidden",animate:"visible",className:"space-y-8",children:[e.jsx(Vt,{}),e.jsx(u.div,{variants:n,className:"grid md:grid-cols-2 gap-6",children:a.map(l=>e.jsx(Jt,{section:l,variants:o,onClick:()=>c(l.id)},l.id))}),e.jsx(Kt,{stats:r,variants:o})]})});La.displayName="Recruitment";const Pa=i.memo(()=>{const[s,t]=Js(),{isAuthenticated:a,isAuthChecking:r}=W(),n=s.get("tab")||"paths",o=d=>{t(l=>(d==="paths"?(l.delete("tab"),l.delete("filter")):l.set("tab",d),l))},c={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return r||!a?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(H,{text:"Sprawdzanie autoryzacji..."})}):e.jsxs(u.div,{variants:c,initial:"hidden",animate:"visible",className:"min-h-screen bg-dark/50 backdrop-blur-sm",children:[e.jsx(B,{title:"Nauka",description:"Nauka JavaScript - dołącz do nas i rozwijaj swoje umiejętności w przyjaznym środowisku.",type:"website"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx(fn,{title:"Nauka JavaScript",subtitle:"Wybierz swoją ścieżkę nauki i rozpocznij przygodę z JS",className:"mb-8",titleClassName:"text-js drop-shadow-lg",subtitleClassName:"text-gray-400"}),e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-xl p-6",children:[e.jsx(Ut,{activeTab:n,onTabChange:o}),e.jsxs(u.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3,type:"spring",stiffness:200,damping:20},className:"mt-8",children:[n==="paths"&&e.jsx(Wt,{}),n==="lessons"&&e.jsx(Dt,{}),n==="resources"&&e.jsx(Bt,{}),n==="recruitment"&&e.jsx(La,{})]},n)]})]})]})});Pa.displayName="LearnSection";const dd=Object.freeze(Object.defineProperty({__proto__:null,LearnSection:Pa},Symbol.toStringTag,{value:"Module"})),nl=s=>S(void 0,null,function*(){const t=yield P.get(`lessons/${s}`);if(t.error)throw new Error(t.error);if(!t.data)throw new Error("Brak danych z serwera");return t.data}),ol=a=>S(void 0,[a],function*({lessonId:s,pathId:t}){const r=yield P.post(`lessons/${s}/complete`,{pathId:t});if(r.error)throw new Error(r.error);if(!r.data)throw new Error("Brak danych z serwera");return r.data}),ll=(s,t,a)=>S(void 0,null,function*(){const r=yield P.put(`users/${s}/lessons/${t}/progress`,a);if(r.error)throw new Error(r.error);if(!r.data)throw new Error("Brak danych z serwera");return r.data}),cl=s=>{const{user:t,isAuthenticated:a,isAuthChecking:r}=W(),n=he(),{refetch:o}=Ot(),[c,d]=i.useState(0),{data:l,isLoading:x,error:m,refetch:p}=J({queryKey:["lesson",s],queryFn:()=>nl(s),enabled:!!s&&a&&!r,retry:!1}),h=x||!l&&!m,j=(m==null?void 0:m.message)==="lesson_not_found",b=ae({mutationFn:ol,onSuccess:()=>{n.invalidateQueries({queryKey:["userProgress"]}),n.invalidateQueries({queryKey:["userStats"]}),n.invalidateQueries({queryKey:["lessons"]}),n.invalidateQueries({queryKey:["lesson",s]}),n.invalidateQueries({queryKey:["learningPaths"]}),o()}}),g=ae({mutationFn:w=>ll(t==null?void 0:t.id,s,w),onSuccess:()=>{n.invalidateQueries({queryKey:["userProgress"]}),n.invalidateQueries({queryKey:["userStats"]})}}),N=w=>{d(w)},v=w=>S(void 0,null,function*(){!(t!=null&&t.id)||!s||(yield g.mutateAsync({completedSections:[...(l==null?void 0:l.completedSections)||[],w],isCompleted:!1,points:0}))}),T=w=>S(void 0,null,function*(){!(t!=null&&t.id)||!s||(yield g.mutateAsync({completedSections:(l==null?void 0:l.completedSections)||[],isCompleted:!1,points:w}))}),C=()=>S(void 0,null,function*(){if(!s||!l)return console.error("Brak wymaganych danych:",{lessonSlug:s,lesson:l}),Promise.reject(new Error("Brak wymaganych danych"));try{const w=yield b.mutateAsync({lessonId:l.id,pathId:l.pathId});return n.setQueryData(["lesson",s],f=>f&&z(k({},f),{isCompleted:!0,progress:z(k({},f.progress),{isCompleted:!0})})),n.setQueryData(["lessons"],f=>{var y;if((y=f==null?void 0:f.lessons)!=null&&y.javascript){const L=f.lessons.javascript.map(E=>E.id===l.id?z(k({},E),{isCompleted:!0}):E);return z(k({},f),{lessons:z(k({},f.lessons),{javascript:L}),stats:z(k({},f.stats),{completed:(f.stats.completed||0)+1,progress:f.stats.total?Math.round((f.stats.completed+1)/f.stats.total*100):0})})}return f}),yield p(),yield o(),A.success("Lekcja ukończona!",{duration:3e3,position:"bottom-right"}),w}catch(w){throw console.error("Błąd podczas kończenia lekcji:",w),A.error("Nie udało się ukończyć lekcji. Spróbuj ponownie.",{duration:4e3,position:"bottom-right"}),w}});return{lesson:l,isLoading:h,error:m,isNotFound:j,activeSection:c,progress:l==null?void 0:l.progress,refetch:p,handleSectionChange:N,handleSectionComplete:v,handleQuizComplete:T,handleLessonComplete:C,completeLessonMutation:b}},Pe=i.memo(({children:s})=>e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen bg-dark/50 backdrop-blur-sm py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s})}));Pe.displayName="LessonLayout";const Ea=i.memo(()=>e.jsxs(Ie,{to:"/dashboard/learn",className:"inline-flex items-center gap-2 text-js hover:text-js/80 transition-colors mb-6",children:[e.jsx(st,{className:"w-4 h-4"}),"Wróć do listy lekcji"]}));Ea.displayName="BackToLessons";const es={BEGINNER:"beginner",INTERMEDIATE:"intermediate",ADVANCED:"advanced"},dl={[es.BEGINNER]:"bg-green-500/10 text-green-400",[es.INTERMEDIATE]:"bg-yellow-500/10 text-yellow-400",[es.ADVANCED]:"bg-red-500/10 text-red-400"},Aa=i.memo(({difficulty:s})=>e.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs font-medium ${dl[s]}`,children:s==="beginner"?"Podstawowy":s==="intermediate"?"Średni":"Zaawansowany"}));Aa.displayName="DifficultyBadge";const Ra=i.memo(({xp:s})=>e.jsxs("span",{className:"flex items-center gap-1 text-js bg-js/10 px-2.5 py-1 rounded-lg text-sm",children:[e.jsx(D,{className:"w-4 h-4"}),s," XP"]}));Ra.displayName="XpBadge";const ml=i.memo(({title:s,duration:t,difficulty:a,xp:r})=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(Aa,{difficulty:a}),e.jsx(Ra,{xp:r})]}),e.jsx("h1",{className:"text-3xl font-bold text-js mb-4",children:s}),e.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(M,{className:"w-4 h-4"}),t," min"]})})]})),xl=s=>s?s.replace(/<!--[\s\S]*?-->/g,"").replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/javascript:/gi,"").replace(/on\w+=/gi,"").replace(/data:/gi,"nodata:").replace(/eval\s*\(/gi,"").replace(/new\s+Function\s*\(/gi,""):"",ul=ys,$a=i.memo(({code:s,language:t,showLineNumbers:a=!0,className:r})=>{const n=xl(s),o=()=>{navigator.clipboard.writeText(n)};return e.jsxs("div",{className:`relative group ${r}`,children:[e.jsx("button",{onClick:o,className:`absolute right-2 top-2 p-2 rounded-lg bg-dark/50 text-gray-400 
          opacity-0 group-hover:opacity-100 transition-opacity hover:text-js`,title:"Kopiuj kod",children:e.jsx(gs,{className:"w-4 h-4"})}),e.jsx(ul,{language:t,style:Xi,showLineNumbers:a,wrapLines:!0,customStyle:{margin:0,borderRadius:"0.5rem",background:"transparent"},codeTagProps:{style:{fontFamily:"JetBrains Mono, monospace"}},children:n})]})});$a.displayName="CodeBlock";const pl=i.memo(({example:s,index:t})=>s.code?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-200",children:["Przykład ",t+1,":"]}),e.jsx($a,{code:s.code,language:s.language||"javascript",showLineNumbers:!0,className:"rounded-lg border border-js/10"}),s.explanation&&e.jsx("p",{className:"text-gray-400 text-sm",children:s.explanation})]}):e.jsx("div",{className:"p-4 bg-dark-800/50 rounded-lg border border-js/10",children:e.jsx("p",{className:"text-gray-400 text-sm text-center",children:"Ten przykład nie zawiera jeszcze kodu."})})),Fa=i.memo(({section:s,index:t})=>e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-js",children:[t+1,". ",s.title]}),e.jsx("div",{className:"prose prose-invert max-w-none",children:s.content}),e.jsx("div",{className:"space-y-8 mt-8",children:s.examples&&s.examples.length>0&&e.jsx("div",{className:"space-y-8 mt-8",children:s.examples.map((a,r)=>e.jsx(pl,{example:a,index:r},r))})})]}));Fa.displayName="LessonSection";const ss={perfect:{icon:q,label:"Perfekcyjnie!",color:"text-yellow-500"},excellent:{icon:Us,label:"Świetnie!",color:"text-js"},good:{icon:D,label:"Mogło być lepiej!",color:"text-blue-500"}},hl=s=>s===100?ss.perfect:s>=80?ss.excellent:ss.good,Da=i.memo(({correctAnswers:s,totalQuestions:t})=>{const a=s/t*100,r=hl(a),n=r.icon;return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-dark-800/50 border border-js/10 rounded-lg p-6 text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(n,{className:`w-12 h-12 ${r.color}`}),e.jsx(u.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3},className:"absolute -right-2 -bottom-2",children:e.jsx(D,{className:"w-6 h-6 text-yellow-500 animate-pulse"})})]})}),e.jsx("h3",{className:`text-xl font-bold ${r.color} mb-2`,children:r.label}),e.jsxs("p",{className:"text-gray-400 mb-4",children:["Poprawne odpowiedzi: ",s," z ",t]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(u.div,{initial:{width:0},animate:{width:"100%"},className:"h-2 bg-dark rounded-full overflow-hidden mx-auto",children:e.jsx(u.div,{initial:{width:0},animate:{width:`${a}%`},className:`h-full ${a===100?"bg-yellow-500":"bg-js"}`,transition:{delay:.5,duration:.8}})}),e.jsxs("p",{className:"text-sm text-gray-400",children:[Math.round(a),"% poprawnych odpowiedzi"]})]})]})}),Ma=i.memo(({questions:s,onComplete:t})=>{const[a,r]=i.useState(0),[n,o]=i.useState(null),[c,d]=i.useState(0),[l,x]=i.useState(!1),[m,p]=i.useState(!1),h=100,j=a/s.length*100,b=N=>{o(N),p(!0),N===s[a].correctAnswer&&d(v=>v+1)},g=()=>{a<s.length-1?(r(N=>N+1),o(null),p(!1)):(t(c,s.length),x(!0))};return l?e.jsx(Da,{correctAnswers:c,totalQuestions:s.length,earnedXP:Math.round(c/s.length*h)}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-sm text-gray-400",children:["Pytanie ",a+1," z ",s.length]}),e.jsx("span",{className:"text-js",children:"•"})]}),e.jsxs("div",{className:"text-sm text-gray-400",children:[Math.round(j),"% ukończone"]})]}),m&&e.jsx(u.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-dark-800/50 border border-js/10 rounded-lg text-gray-400 text-sm",children:s[a].explanation}),n!==null&&e.jsx(u.button,{initial:{opacity:0},animate:{opacity:1},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:g,className:"w-full py-3 bg-js/10 text-js rounded-lg hover:bg-js/20 transition-colors",children:a<s.length-1?"Następne pytanie":"Zakończ quiz"}),e.jsx("div",{className:"text-lg font-medium text-gray-200",children:s[a].question}),e.jsx("div",{className:"space-y-3",children:s[a].options.map((N,v)=>e.jsx(u.button,{whileHover:{scale:1.02},whileTap:{scale:.98},disabled:n!==null,onClick:()=>b(v),className:`w-full p-4 rounded-lg border text-left transition-colors
              ${n===null?"border-js/10 hover:border-js/20":v===s[a].correctAnswer?"border-green-500 bg-green-500/10 text-green-400":n===v?"border-red-500 bg-red-500/10 text-red-400":"border-js/10 opacity-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:N}),n!==null&&(v===s[a].correctAnswer?e.jsx(G,{className:"w-4 h-4 text-green-400"}):n===v?e.jsx(Qe,{className:"w-4 h-4 text-red-400"}):null)]})},v))})]})});Ma.displayName="LessonQuiz";Da.displayName="QuizSummary";const Ba=i.memo(({lesson:s,onQuizComplete:t})=>{if(!s)return null;if(!s.content)return e.jsx("div",{className:"w-[85vw] mb-32 md:w-auto md:mb-auto col-span-9 lesson-content overflow-y-auto max-h-[calc(100vh-200px)]",children:e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-xl p-6 md:p-8 text-center",children:[e.jsx("h2",{className:"text-xl text-js mb-4",children:"Brak treści lekcji"}),e.jsx("p",{className:"text-gray-400",children:"Treść lekcji jest niedostępna. Spróbuj ponownie później."})]})});const{sections:a=[]}=s.content;return e.jsx("div",{className:"w-[85vw] mb-32 md:w-auto md:mb-auto col-span-9 lesson-content overflow-y-auto max-h-[calc(100vh-200px)]",children:e.jsx(u.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"bg-dark-800/50 border border-js/10 rounded-xl p-6 md:p-8",children:e.jsxs("div",{className:"space-y-8",children:[e.jsx(ml,{title:s.title,duration:String(s.duration),difficulty:s.difficulty,xp:s.points}),e.jsxs("div",{className:"space-y-8",children:[a.map((r,n)=>e.jsx(Fa,{section:r,index:n},n)),s.content.quiz&&e.jsx(Ma,{questions:s.content.quiz,onComplete:t})]})]})})})});Ba.displayName="LessonMainContent";const Oa=i.memo(({isCompleted:s,onComplete:t})=>{const[a,r]=i.useState(0),[n,o]=i.useState(!1),c=wn(0),d=pe();i.useEffect(()=>{const m=document.querySelector(".lesson-content");if(!m)return;const p=()=>{const{scrollTop:h,scrollHeight:j,clientHeight:b}=m,g=h/(j-b)*100;r(Math.min(g,100)),c.set(Math.min(g,100))};return m.addEventListener("scroll",p),p(),()=>m.removeEventListener("scroll",p)},[c]);const l=a>=98&&!s,x=()=>S(void 0,null,function*(){if(!l||n){console.log("Nie można ukończyć lekcji:",{isLessonCompleted:l,isSubmitting:n});return}try{o(!0),yield t(),d("/dashboard/learn?tab=lessons")}catch(m){}finally{o(!1)}});return e.jsx("div",{className:"mb-5 fixed bottom-0 left-0 right-0 bg-dark-800/95 border-t border-js/10 backdrop-blur-sm",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 mr-8",children:[e.jsx("div",{className:"relative h-2 bg-dark rounded-full overflow-hidden",children:e.jsx(u.div,{style:{width:`${a}%`},className:"absolute inset-y-0 left-0 bg-js rounded-full"})}),e.jsx("div",{className:"flex justify-between text-sm text-gray-400 mt-2",children:e.jsxs("span",{children:[Math.round(a),"% przeczytane"]})})]}),e.jsxs(u.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:x,disabled:!l||n,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors
            ${l&&!n?"bg-js/10 text-js hover:bg-js/20":"bg-gray-800/50 text-gray-500 cursor-not-allowed"}`,children:[e.jsx(G,{className:"w-4 h-4"}),n?"Zapisywanie...":l?"Zakończ lekcję":"Przeczytaj całą lekcję"]})]})})});Oa.displayName="LessonProgress";const _a=i.memo(({lesson:s,activeSection:t,progress:a,onSectionComplete:r,onQuizComplete:n,onLessonComplete:o})=>{if(!s)return null;const d=(s.sections||[]).length;return e.jsx(e.Fragment,{children:e.jsxs(Pe,{children:[e.jsx(Ea,{}),e.jsx("div",{className:"w-full flex items-center justify-center",children:e.jsx(Ba,{lesson:s,onSectionComplete:r,onQuizComplete:n})}),e.jsx(Oa,{currentSection:t,totalSections:d,progress:a,isCompleted:s.isCompleted||!1,onComplete:o})]})})});_a.displayName="LessonContent";const os=i.memo(()=>e.jsx("div",{className:"min-h-screen bg-dark/50 backdrop-blur-sm py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-js mb-4",children:"Lekcja nie została znaleziona"}),e.jsxs(Ie,{to:"/dashboard/learn",className:"inline-flex items-center gap-2 text-js hover:text-js/80 transition-colors",children:[e.jsx(st,{className:"w-4 h-4"}),"Wróć do listy lekcji"]})]})})}));os.displayName="LessonNotFound";const Ia=()=>{const{lessonSlug:s}=bs(),{stats:t,isLoading:a}=Ts();if(!s)return e.jsx(tt,{to:"/dashboard/learn",replace:!0});const{lesson:r,isLoading:n,error:o,isNotFound:c,activeSection:d,progress:l,handleSectionComplete:x,handleQuizComplete:m,handleLessonComplete:p}=cl(s);if(n||a)return e.jsx(yl,{});if(c)return e.jsx(os,{});if(o)return e.jsx(gl,{onRetry:()=>window.location.reload()});if(!r)return e.jsx(os,{});const h=(t==null?void 0:t.progress.level)||0;return r.requiredLevel&&h<r.requiredLevel?e.jsx(jl,{requiredLevel:r.requiredLevel,userLevel:h}):e.jsxs(e.Fragment,{children:[e.jsx(B,{title:r.title,description:r.description,type:"website"}),e.jsx(_a,{lesson:r,activeSection:d,progress:typeof l=="number"?l:0,onSectionComplete:x,onQuizComplete:m,onLessonComplete:p})]})},jl=({requiredLevel:s,userLevel:t})=>e.jsx(Pe,{children:e.jsx("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center",children:e.jsxs("div",{className:"bg-dark-800/50 p-8 rounded-xl border border-js/10 max-w-md",children:[e.jsx("div",{className:"mb-4 bg-js/10 p-4 rounded-full w-16 h-16 flex items-center justify-center mx-auto",children:e.jsx(Y,{className:"text-js text-2xl"})}),e.jsx("h2",{className:"text-xl font-bold text-js mb-2",children:"Lekcja zablokowana"}),e.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:["Aby odblokować tę lekcję, musisz osiągnąć poziom ",s,"."]}),e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Twój obecny poziom: ",e.jsx("span",{className:"text-js font-medium",children:t})]}),e.jsx("button",{onClick:()=>window.location.href="/dashboard/learn",className:"mt-4 px-4 py-2 bg-js/10 text-js rounded-lg hover:bg-js/20 transition-colors w-full",children:"Wróć do listy lekcji"})]})})}),yl=()=>e.jsx(Pe,{children:e.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:e.jsx(H,{})})}),gl=({onRetry:s})=>e.jsx(Pe,{children:e.jsx(Ue,{message:"Nie udało się pobrać lekcji. Spróbuj ponownie później.",onRetry:s})});Ia.displayName="LessonPage";const md=Object.freeze(Object.defineProperty({__proto__:null,LessonPage:Ia},Symbol.toStringTag,{value:"Module"})),bl=[{id:"profile",label:"Profil",icon:at},{id:"security",label:"Bezpieczeństwo",icon:Y},{id:"preferences",label:"Preferencje",icon:Qs},{id:"delete",label:"Usuń konto",icon:fs}],$e={container:"bg-dark/30 backdrop-blur-sm rounded-xl border border-js/10 p-4 h-fit shadow-lg",nav:"flex flex-col gap-2",button:s=>`
    flex items-center gap-3 p-3 rounded-lg text-left
    transition-colors duration-200
    ${s?"bg-js/20 text-js":"text-gray-400 hover:text-js hover:bg-js/10"}
  `,icon:"w-5 h-5"},Ga=i.memo(({activeView:s,onViewChange:t})=>{const a=i.useCallback(r=>{t(r)},[t]);return e.jsx("div",{className:$e.container,children:e.jsx("nav",{className:$e.nav,children:bl.map(r=>e.jsxs(u.button,{whileHover:{x:4},whileTap:{scale:.98},onClick:()=>a(r.id),className:$e.button(s===r.id),children:[e.jsx(r.icon,{className:$e.icon}),r.label]},r.id))})})});Ga.displayName="SettingsSidebar";const Be=["userProfile"],Ha=()=>{var c,d,l,x;const s=he(),{isAuthenticated:t,isAuthChecking:a}=W(),r=J({queryKey:Be,queryFn:()=>S(void 0,null,function*(){const m=yield P.get("settings/profile");if(m.error)throw new Error(m.error);if(!m.data)throw new Error("Brak danych z serwera");return m.data}),enabled:t&&!a,staleTime:1e3*60*5}),n=r.isLoading||a,o=ae({mutationFn:m=>S(void 0,null,function*(){const p=yield P.put("settings/profile",m);if(p.error)throw new Error(p.error);if(!p.data)throw new Error("Brak danych z serwera");return p.data}),onSuccess:m=>{s.setQueryData(Be,m),s.invalidateQueries({queryKey:Be})}});return{profile:r.data,username:((d=(c=r.data)==null?void 0:c.user)==null?void 0:d.username)||"",bio:((x=(l=r.data)==null?void 0:l.user)==null?void 0:x.bio)||"",isLoading:n,error:r.error,updateProfile:o}},fl=O.object({username:O.string().min(3,"Nazwa użytkownika musi mieć minimum 3 znaki").max(20,"Nazwa użytkownika może mieć maksymalnie 20 znaków"),profile:O.object({bio:O.string().max(160,"Bio może mieć maksymalnie 160 znaków").optional(),avatar:O.string().optional()})}),wl=({onSubmit:s,defaultValues:t})=>{var n,o;const a=Ce({resolver:We(fl),defaultValues:{username:(t==null?void 0:t.username)||"",profile:{bio:((n=t==null?void 0:t.profile)==null?void 0:n.bio)||"",avatar:((o=t==null?void 0:t.profile)==null?void 0:o.avatar)||""}}}),r=c=>S(void 0,null,function*(){yield s(c)});return{form:a,onSubmit:a.handleSubmit(r)}},Nl=s=>{var c;const{updateProfile:t}=Ha(),a=i.useCallback(d=>S(void 0,null,function*(){var l;try{yield t.mutateAsync({username:d.username,profile:{bio:((l=d.profile)==null?void 0:l.bio)||""}})}catch(x){throw console.error("Błąd w useProfileFormLogic:",x),x}}),[t]),r={username:(s==null?void 0:s.username)||"",profile:{bio:((c=s==null?void 0:s.profile)==null?void 0:c.bio)||""}},{form:n,onSubmit:o}=wl({onSubmit:a,defaultValues:r});return{form:n,onSubmit:o}},ue={form:`w-full max-w-2xl sm:ml-0 sm:mr-auto 
    space-y-8 px-4 sm:px-0`,usernameContainer:"flex flex-col gap-4",container:`bg-dark/30 backdrop-blur-sm rounded-xl 
    p-4 sm:p-6 md:p-8 border border-js/10 
    space-y-6 md:space-y-8`,header:"flex flex-col md:flex-row gap-6 md:gap-8",infoSection:"w-full md:w-2/3 space-y-6",bioSection:"space-y-4",bioLabel:`block text-gray-400 
    text-sm sm:text-base 
    font-medium`,bioTextarea:`w-full px-4 py-3 rounded-lg 
    bg-dark/50 border border-js/10 
    text-gray-300 placeholder-gray-500
    focus:outline-none focus:ring-2 focus:ring-js/50
    text-sm sm:text-base 
    min-h-[120px] max-h-[240px] 
    resize-y
    transition-colors duration-200`,error:"text-red-500 text-sm mt-1",successMessage:"text-green-500 mt-2 text-sm font-medium"},Qa=i.memo(({register:s,errors:t})=>{var a;return e.jsx(e.Fragment,{children:e.jsx("div",{className:ue.usernameContainer,children:e.jsx(ke,k({type:"text",label:"Nazwa użytkownika",placeholder:"Wprowadź nazwę użytkownika",icon:e.jsx(at,{}),error:(a=t.username)==null?void 0:a.message},s("username")))})})});Qa.displayName="UserInfoFields";const Fe={container:"space-y-2",label:"block text-gray-400 text-sm",textarea:`w-full h-32 px-4 py-3 rounded-lg 
    bg-dark/50 border border-js/10
    text-gray-300 placeholder-gray-500
    focus:outline-none focus:ring-2 focus:ring-js/50
    resize-none`,error:"text-red-500 text-sm"},Wa=i.memo(({register:s,errors:t,defaultValue:a})=>{var r;return e.jsxs("div",{className:Fe.container,children:[e.jsx("label",{className:Fe.label,children:"Bio"}),e.jsx("textarea",z(k({},s("profile.bio")),{className:Fe.textarea,placeholder:a||"Napisz coś o sobie..."})),((r=t.profile)==null?void 0:r.bio)&&e.jsx("span",{className:Fe.error,children:t.profile.bio.message})]})});Wa.displayName="BioField";const ts={container:`flex flex-col-reverse sm:flex-row justify-end gap-3 sm:gap-4
    w-full sm:w-auto mt-6 sm:mt-8`,cancelButton:`w-full sm:w-auto order-1 sm:order-none
    px-4 sm:px-6 py-2.5 sm:py-3 rounded-lg
    bg-dark/50 text-gray-400
    border border-js/10 hover:border-js/30 hover:bg-dark/60
    disabled:opacity-50 disabled:cursor-not-allowed
    transition-colors duration-200 shadow-none
    text-sm sm:text-base font-medium
  `,submitButton:`w-full sm:w-auto
    px-4 sm:px-6 py-2.5 sm:py-3 rounded-lg
    bg-js text-dark
    hover:bg-js/90
    disabled:opacity-50 disabled:cursor-not-allowed
    transition-colors duration-200
    text-sm sm:text-base font-medium
    flex items-center justify-center
  `},Je=i.memo(({onCancel:s,isSubmitting:t,submitText:a="Zapisz zmiany",loadingText:r="Zapisywanie",disabled:n=!1})=>e.jsxs("div",{className:ts.container,children:[e.jsx(Se,{type:"button",onClick:s,className:ts.cancelButton,disabled:t,children:"Anuluj zmiany"}),e.jsx(Se,{type:"submit",disabled:t||n,className:ts.submitButton,children:t?e.jsxs("div",{className:"flex items-center justify-center gap-2 min-w-[100px]",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-dark border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm sm:text-base whitespace-nowrap",children:r})]}):e.jsx("span",{className:"text-sm sm:text-base whitespace-nowrap",children:a})})]}));Je.displayName="FormButtons";const Ua=i.memo(({handleCancel:s,register:t,errors:a,defaultBio:r,isSubmitting:n,isPending:o,onSubmit:c,isSaved:d=!1,isDirty:l=!1,isLoading:x=!1})=>e.jsxs(u.form,{onSubmit:c,className:ue.form,initial:{opacity:0},animate:{opacity:1},children:[e.jsx("div",{className:ue.container,children:e.jsxs("div",{className:ue.header,children:[x?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-js"}),e.jsx("span",{className:"ml-3 text-js",children:"Ładowanie profilu..."})]}):e.jsxs("div",{className:ue.infoSection,children:[e.jsx(Qa,{register:t,errors:a}),e.jsx(Wa,{register:t,errors:a,defaultValue:r})]}),d&&!l&&e.jsx("div",{className:ue.successMessage,children:"✓ Zapisano zmiany"})]})}),e.jsx(Je,{onCancel:s,isSubmitting:n||o,submitText:"Zapisz profil",loadingText:"Zapisywanie",disabled:!l||n})]}));Ua.displayName="ProfileFormContent";const Va=i.memo(()=>{const{profile:s,username:t,bio:a,isLoading:r,updateProfile:n}=Ha(),{form:o,onSubmit:c}=Nl(s||null),d=he(),[l,x]=i.useState(!1),[m,p]=i.useState(!1),{register:h,formState:{errors:j,isDirty:b},reset:g,setValue:N,watch:v}=o,T=v();i.useEffect(()=>{b&&p(!1)},[T,b]),i.useEffect(()=>{s&&(N("username",t),N("profile.bio",a))},[s,N,t,a]);const C=i.useCallback(()=>{try{s&&(g(s),A.success("Zmiany zostały anulowane"),p(!1))}catch(f){A.error("Nie udało się anulować zmian")}},[s,g]),w=f=>S(void 0,null,function*(){if(!b){A.success("Nie wprowadzono żadnych zmian");return}try{x(!0),yield c(f),yield d.invalidateQueries({queryKey:Be}),p(!0),A.success("Profil został zaktualizowany pomyślnie")}catch(y){p(!1),y instanceof Error?A.error(y.message||"Wystąpił błąd podczas aktualizacji profilu"):A.error("Wystąpił nieznany błąd podczas aktualizacji profilu")}finally{x(!1)}});return e.jsxs(e.Fragment,{children:[m&&!b&&e.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 text-green-400 px-4 py-2 rounded-lg mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"✓"}),"Twój profil został zaktualizowany pomyślnie"]}),e.jsx(Ua,{handleCancel:C,register:h,errors:j,defaultBio:a,isSubmitting:l||n.isPending,isPending:n.isPending,onSubmit:w,isSaved:m,isDirty:b,isLoading:r})]})});Va.displayName="ProfileForm";const Ja=i.memo(({form:s,errors:t})=>{var r,n,o;const{register:a}=s;return e.jsxs("div",{className:"space-y-6",children:[e.jsx(ke,k({type:"password",label:"Aktualne hasło",placeholder:"Wprowadź aktualne hasło",icon:e.jsx(Y,{}),error:(r=t.currentPassword)==null?void 0:r.message},a("currentPassword"))),e.jsx(ke,k({type:"password",label:"Nowe hasło",placeholder:"Wprowadź nowe hasło",icon:e.jsx(Y,{}),error:(n=t.newPassword)==null?void 0:n.message},a("newPassword"))),e.jsx(ke,k({type:"password",label:"Powtórz nowe hasło",placeholder:"Powtórz nowe hasło",icon:e.jsx(Y,{}),error:(o=t.confirmPassword)==null?void 0:o.message},a("confirmPassword")))]})});Ja.displayName="PasswordFields";const vl=O.object({currentPassword:O.string().min(1,"Aktualne hasło jest wymagane").min(8,"Hasło musi mieć minimum 8 znaków"),newPassword:O.string().min(1,"Nowe hasło jest wymagane").min(8,"Nowe hasło musi mieć minimum 8 znaków").regex(/[A-Z]/,"Hasło musi zawierać wielką literę").regex(/[0-9]/,"Hasło musi zawierać cyfrę"),confirmPassword:O.string().min(1,"Potwierdzenie hasła jest wymagane")}).refine(s=>s.newPassword===s.confirmPassword,{message:"Hasła muszą być takie same",path:["confirmPassword"]});class kl extends Error{constructor(t,a){super(a),this.code=t,this.name="SecurityError"}}const Sl=s=>S(void 0,null,function*(){const t=yield P.put("settings/security/password",s);if(t.error)throw new Error(t.error);if(!t.data)throw new Error("Brak danych z serwera");return t.data}),zl=({onSuccess:s,onError:t}={})=>{const a=Ce({resolver:We(vl),mode:"onSubmit",reValidateMode:"onSubmit",defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),r=ae({mutationFn:n=>Sl({currentPassword:n.currentPassword,newPassword:n.newPassword}),onSuccess:()=>{a.reset(),s==null||s()},onError:t});return{form:a,onSubmit:a.handleSubmit(n=>r.mutateAsync(n)),isUpdating:r.isPending}},Tl=()=>{const s=i.useCallback(()=>{A.success("Hasło zostało zmienione")},[]),t=i.useCallback(n=>{if(n instanceof kl){A.error(n.message);return}A.error("Wystąpił błąd podczas zmiany hasła")},[]),a=i.useCallback(()=>{A.success("Zmiany zostały anulowane")},[]),r=i.useCallback(()=>{A.error("Nie udało się anulować zmian")},[]);return{handleSuccess:s,handleError:t,handleCancel:a,handleCancelError:r}},Cl={initial:{opacity:0},animate:{opacity:1}},Ka=i.memo(()=>{const{handleSuccess:s,handleError:t,handleCancel:a,handleCancelError:r}=Tl(),{form:n,onSubmit:o,isUpdating:c}=zl({onSuccess:()=>{s(),n.reset()},onError:t}),{formState:{errors:d,isSubmitting:l},reset:x}=n,m=i.useCallback(()=>{try{x(),a()}catch(p){r()}},[x,a,r]);return e.jsxs(u.form,z(k({onSubmit:o,className:"w-full max-w-md sm:ml-0 sm:mr-auto space-y-8 px-4 sm:px-0"},Cl),{children:[e.jsx(Ja,{form:n,errors:d}),e.jsx(Je,{onCancel:m,isSubmitting:l||c,submitText:"Zmień hasło",loadingText:"Zmienianie hasła"})]}))});Ka.displayName="SecurityForm";const Ll=O.object({emailNotifications:O.boolean(),pushNotifications:O.boolean(),language:O.literal("pl")}),Pl=({onSubmit:s,defaultValues:t})=>{const a=Ce({resolver:We(Ll),defaultValues:t||{emailNotifications:!1,pushNotifications:!1,language:"pl"},mode:"onChange",reValidateMode:"onChange",resetOptions:{keepDirtyValues:!0,keepValues:!0}}),r=a.handleSubmit(n=>S(void 0,null,function*(){try{yield s(n)}catch(o){console.error("Failed to update preferences:",o)}}));return{form:a,onSubmit:r}};class ee extends Error{constructor(t,a){super(a),this.code=t,this.name="PreferencesError"}}const El=()=>S(void 0,null,function*(){var s,t;try{const a=yield P.get("settings/preferences");if(a.error)throw new ee("UNKNOWN_ERROR",a.error);if(!a.data)throw new Error("Brak danych z serwera");const r=a.data,n=r.data||r;return{emailNotifications:(s=n.emailNotifications)!=null?s:!1,pushNotifications:(t=n.pushNotifications)!=null?t:!1,language:n.language||"pl"}}catch(a){throw a instanceof ee?a:(console.error("Błąd w fetchPreferences:",a),new ee("UNKNOWN_ERROR","Wystąpił nieznany błąd podczas pobierania preferencji"))}}),Al=s=>S(void 0,null,function*(){var t,a;try{const r=yield P.put("settings/preferences",s);if(r.error)throw new ee("UNKNOWN_ERROR",r.error);if(!r.data)throw new Error("Brak danych z serwera");const n=r.data,o=n.data||n;return{emailNotifications:(t=o.emailNotifications)!=null?t:!1,pushNotifications:(a=o.pushNotifications)!=null?a:!1,language:o.language||"pl"}}catch(r){throw r instanceof ee?r:(console.error("Błąd w updatePreferences:",r),new ee("UNKNOWN_ERROR","Wystąpił nieznany błąd podczas aktualizacji preferencji"))}}),as=["preferences"],Rl=()=>{const{isAuthenticated:s,isAuthChecking:t}=W(),a=he(),r=J({queryKey:as,queryFn:()=>El(),enabled:s&&!t,staleTime:1e3*60*5,retry:(c,d)=>d instanceof ee&&d.code==="AUTH_ERROR"?(A.error("Sesja wygasła. Zaloguj się ponownie."),!1):c<3}),n=r.isLoading||t;r.error&&!(r.error instanceof ee&&r.error.code==="AUTH_ERROR")&&A.error(r.error instanceof Error?r.error.message:"Wystąpił błąd podczas ładowania preferencji");const o=ae({mutationFn:c=>Al(c),onSuccess:c=>{a.setQueryData(as,c),a.invalidateQueries({queryKey:as}),A.success("Preferencje zostały zaktualizowane")},onError:c=>{if(c instanceof ee&&c.code==="AUTH_ERROR"){A.error("Sesja wygasła. Zaloguj się ponownie.");return}A.error(c instanceof Error?c.message:"Wystąpił błąd podczas aktualizacji preferencji")}});return{preferences:r.data,isLoading:n,error:r.error,updatePreferences:o,refetch:r.refetch}},$l=()=>{const{preferences:s,isLoading:t,updatePreferences:a,refetch:r}=Rl(),[n,o]=i.useState(!1),[c,d]=i.useState(!1),{form:l,onSubmit:x}=Pl({onSubmit:v=>S(void 0,null,function*(){try{o(!0),yield a.mutateAsync({emailNotifications:v.emailNotifications,pushNotifications:v.pushNotifications,language:"pl"}),d(!0),yield r()}catch(T){throw console.error("Błąd w usePreferencesFormLogic:",T),T instanceof ee?T:T instanceof Error?new Error(T.message||"Wystąpił błąd podczas aktualizacji preferencji"):new Error("Wystąpił nieznany błąd podczas aktualizacji preferencji")}finally{o(!1)}})}),{register:m,formState:{isDirty:p},setValue:h,watch:j,reset:b}=l,g=j();i.useEffect(()=>{p&&d(!1)},[g,p]),i.useEffect(()=>{s&&(h("emailNotifications",s.emailNotifications),h("pushNotifications",s.pushNotifications),h("language","pl"))},[s,h]);const N=()=>{try{s&&(b({emailNotifications:s.emailNotifications,pushNotifications:s.pushNotifications,language:"pl"}),d(!1),A.success("Zmiany zostały anulowane"))}catch(v){console.error("Błąd podczas anulowania zmian:",v),A.error("Nie udało się anulować zmian")}};return{isLoading:t,register:m,formValues:g,isSubmitting:n||a.isPending,isPending:a.isPending,isDirty:p,isSaved:c,updatePreferences:a,handleCancel:N,onSubmit:x,setValue:h}},se={section:"space-y-4",title:"text-lg sm:text-xl font-medium text-gray-200 flex items-center gap-2",icon:"text-js text-xl sm:text-2xl",optionsContainer:"space-y-4 ml-4 sm:ml-8",optionLabel:`flex items-start sm:items-center gap-3 hover:cursor-pointer group
    transition-colors duration-200`,checkbox:`w-5 h-5 rounded border-gray-600 bg-gray-700 text-js 
    focus:ring-js/50 mt-1 sm:mt-0`,optionText:"group-hover:text-js transition-colors duration-200",optionTitle:"block text-gray-200 text-base sm:text-lg",optionDescription:"block text-sm text-gray-400 mt-1"},Za=i.memo(({register:s,values:t,onChange:a,isLoading:r=!1})=>e.jsxs("div",{className:se.section,children:[e.jsxs("h3",{className:se.title,children:[e.jsx(ms,{className:se.icon}),"Powiadomienia"]}),e.jsx("div",{className:se.optionsContainer,children:e.jsxs("label",{className:`${se.optionLabel} ${r?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("input",z(k({type:"checkbox"},s("emailNotifications")),{checked:t.emailNotifications,onChange:n=>a("emailNotifications",n.target.checked),className:se.checkbox,disabled:r})),e.jsxs("div",{className:se.optionText,children:[e.jsx("span",{className:se.optionTitle,children:"Powiadomienia email"}),e.jsx("span",{className:se.optionDescription,children:"Otrzymuj powiadomienia na email"})]})]})})]}));Za.displayName="NotificationsSection";const Ne={section:"space-y-4",title:"text-lg sm:text-xl font-medium text-gray-200 flex items-center gap-2",icon:"text-js text-xl sm:text-2xl",container:"ml-4 sm:ml-8",select:`w-full max-w-xs px-4 py-3 rounded-lg 
    bg-dark/50 border border-js/10 
    text-gray-300 text-base sm:text-lg
    focus:ring-2 focus:ring-js/50 focus:border-transparent 
    transition-colors`},qa=i.memo(({register:s})=>e.jsxs("div",{className:Ne.section,children:[e.jsxs("h3",{className:Ne.title,children:[e.jsx(ws,{className:Ne.icon}),"Język"]}),e.jsx("div",{className:Ne.container,children:e.jsx("select",z(k({},s("language")),{className:Ne.select,children:e.jsx("option",{value:"pl",children:"Polski"})}))})]}));qa.displayName="LanguageSection";const Xa=i.memo(({register:s,formValues:t,setValue:a,onSubmit:r,onCancel:n,isSubmitting:o,isPending:c,isLoading:d=!1})=>e.jsxs(u.form,{onSubmit:r,className:"w-full max-w-2xl sm:ml-0 sm:mr-auto space-y-8 px-4 sm:px-0",initial:{opacity:0},animate:{opacity:1},children:[e.jsx("div",{className:"bg-dark/30 backdrop-blur-sm rounded-xl p-4 sm:p-6 md:p-8 border border-js/10 space-y-6",children:d?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-js"}),e.jsx("span",{className:"ml-3 text-js",children:"Ładowanie preferencji..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Za,{register:s,values:t,onChange:(l,x)=>a(l,x),isLoading:d}),e.jsx("div",{className:"w-full h-px bg-js/10"}),e.jsx(qa,{register:s})]})}),e.jsx(Je,{onCancel:n,isSubmitting:o||c,submitText:"Zapisz preferencje",loadingText:"Zapisywanie",disabled:o})]}));Xa.displayName="PreferencesFormContent";const Ya=i.memo(()=>{const{isLoading:s,register:t,formValues:a,isSubmitting:r,isPending:n,isDirty:o,isSaved:c,handleCancel:d,onSubmit:l,setValue:x}=$l(),m=p=>S(void 0,null,function*(){p.preventDefault();try{yield l(p)}catch(h){console.error("Błąd podczas zapisywania preferencji:",h),h instanceof Error?A.error(h.message):A.error("Wystąpił nieznany błąd podczas zapisywania preferencji")}});return e.jsx(Xa,{register:t,formValues:a,setValue:x,onSubmit:m,onCancel:d,isSubmitting:r,isPending:n,isDirty:o,isSaved:c,isLoading:s})});Ya.displayName="PreferencesForm";const Fl=()=>{const[s,t]=i.useState(!1),a=i.useCallback(()=>{t(!0)},[]),r=i.useCallback(()=>{t(!1)},[]);return{showConfirmation:s,handleShowConfirmation:a,handleHideConfirmation:r}};class Dl extends Error{constructor(t,a){super(a),this.code=t,this.name="AccountError"}}const Ml=s=>S(void 0,null,function*(){const t=yield P.request("settings/account",{method:"DELETE",body:s});if(t.error)throw new Error(t.error);if(!t.data)throw new Error("Brak danych z serwera");return t.data}),Bl=O.object({password:O.string().min(1,"Hasło jest wymagane"),confirmation:O.string().refine(s=>s==="USUŃ KONTO",{message:"Wpisz dokładnie 'USUŃ KONTO' aby potwierdzić"})}),Ol=({onSuccess:s,onError:t}={})=>{const a=Ce({resolver:We(Bl)}),r=ae({mutationFn:o=>Ml(o),onSuccess:()=>{a.reset(),s==null||s(),window.location.href="/logowanie"},onError:t}),n=a.handleSubmit(o=>S(void 0,null,function*(){yield r.mutateAsync(o)}));return{form:a,onSubmit:n,isDeleting:r.isPending}},_l=s=>{const t=i.useCallback(()=>{A.success("Konto zostało usunięte")},[]),a=i.useCallback(d=>{if(d instanceof Dl)switch(d.code){case"INVALID_PASSWORD":A.error("Podane hasło jest nieprawidłowe");return;case"INVALID_CONFIRMATION":A.error("Nieprawidłowe potwierdzenie");return}A.error("Nie udało się usunąć konta")},[]),r=i.useCallback(()=>{try{s(),A.success("Operacja została anulowana")}catch(d){A.error("Nie udało się anulować operacji")}},[s]),{form:n,onSubmit:o,isDeleting:c}=Ol({onSuccess:t,onError:a});return{form:n,onSubmit:o,isDeleting:c,handleCancel:r}},Il=["Wszystkie twoje dane zostaną usunięte","Stracisz dostęp do wszystkich kursów","Twoje postępy w nauce zostaną utracone","Nie będzie możliwości przywrócenia konta"],De={container:`
    bg-red-500/10 border border-red-500/20 rounded-lg p-4 sm:p-6 mb-6
    backdrop-blur-sm
  `,content:"flex flex-col sm:flex-row items-start gap-4",icon:"text-red-500 text-xl sm:text-2xl mt-1 flex-shrink-0",title:"text-red-400 font-medium text-lg sm:text-xl mb-2",list:`
    text-gray-400 space-y-2 list-disc list-inside
    text-sm sm:text-base leading-relaxed
  `},er=i.memo(()=>e.jsx("div",{className:`
      bg-red-500/10 border border-red-500/20 rounded-lg p-4 sm:p-6 mb-6
      backdrop-blur-sm
    `,role:"alert","aria-label":"Ostrzeżenie o usuwaniu konta",children:e.jsxs("div",{className:De.content,children:[e.jsx(Z,{className:De.icon,"data-testid":"warning-icon"}),e.jsxs("div",{children:[e.jsx("h3",{className:De.title,children:"Usuwanie konta jest nieodwracalne"}),e.jsx("ul",{className:De.list,children:Il.map((s,t)=>e.jsx("li",{children:s},t))})]})]})}));er.displayName="WarningBox";const sr=i.memo(({onConfirm:s})=>e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full max-w-md sm:ml-0 sm:mr-auto px-4 sm:px-0",children:[e.jsx(er,{}),e.jsx(Se,{type:"button",onClick:s,className:`w-full px-6 py-3 rounded-lg bg-red-500/20 text-red-400 
        hover:bg-red-500/30 transition-colors duration-200 shadow-none
        text-base sm:text-lg font-medium`,children:"Chcę usunąć konto"})]}));sr.displayName="InitialWarning";const te={form:"space-y-6",confirmationField:"space-y-2",label:"block text-gray-400 text-sm sm:text-base",hint:"text-sm text-gray-500",input:`w-full px-4 py-3 rounded-lg 
    bg-dark/50 border border-js/10 
    text-gray-300 placeholder-gray-500
    focus:outline-none focus:ring-2 focus:ring-js/50
    text-base sm:text-lg
  `,error:"text-red-500 text-sm",buttons:"flex flex-col sm:flex-row justify-end gap-3 sm:gap-4 mt-8",submitButton:`w-full sm:w-auto order-2 sm:order-1
    px-4 sm:px-6 py-3 rounded-lg
    bg-red-500/20 text-red-400 
    hover:bg-red-500/30
    transition-colors duration-200 shadow-none
    text-sm sm:text-base font-medium
    disabled:opacity-50 disabled:cursor-not-allowed
    whitespace-nowrap
  `,cancelButton:`w-full sm:w-auto order-1 sm:order-2
    px-4 sm:px-6 py-3 rounded-lg
    bg-dark/50 text-gray-400
    border border-js/10
    hover:text-js hover:border-js/30
    hover:bg-dark/60
    transition-colors duration-200 shadow-none
    text-sm sm:text-base
    disabled:opacity-50 disabled:cursor-not-allowed
    whitespace-nowrap
  `},tr=i.memo(({register:s,errors:t,isSubmitting:a,onCancel:r,onSubmit:n})=>{var o;return e.jsxs(u.form,{initial:{opacity:0},animate:{opacity:1},className:te.form,onSubmit:n,children:[e.jsx(ke,k({id:"password",type:"password",label:"Hasło",placeholder:"Wprowadź hasło aby potwierdzić",icon:e.jsx(Y,{}),error:(o=t.password)==null?void 0:o.message},s("password"))),e.jsxs("div",{className:te.confirmationField,children:[e.jsx("label",{htmlFor:"confirmation",className:te.label,children:"Potwierdzenie"}),e.jsx("p",{className:te.hint,children:'Wpisz "USUŃ KONTO" aby potwierdzić'}),e.jsx("input",z(k({id:"confirmation",type:"text"},s("confirmation")),{className:te.input})),t.confirmation&&e.jsx("p",{className:te.error,children:t.confirmation.message})]}),e.jsxs("div",{className:te.buttons,children:[e.jsx(Se,{type:"submit",disabled:a,className:te.submitButton,children:a?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-dark border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Usuwanie"})]}):"Definitywnie usuń konto"}),e.jsx(Se,{type:"button",onClick:r,disabled:a,className:te.cancelButton,children:"Anuluj"})]})]})});tr.displayName="ConfirmationForm";const ar=i.memo(()=>{const{showConfirmation:s,handleShowConfirmation:t,handleHideConfirmation:a}=Fl(),{form:r,onSubmit:n,isDeleting:o,handleCancel:c}=_l(a);return s?e.jsx(tr,{register:r.register,errors:r.formState.errors,isSubmitting:o,onCancel:c,onSubmit:n}):e.jsx(sr,{onConfirm:t})});ar.displayName="DeleteAccountForm";const rr=i.memo(({activeView:s})=>e.jsx(Q,{mode:"wait",children:e.jsxs(u.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"bg-dark/30 backdrop-blur-sm rounded-xl p-6 border border-js/10 shadow-lg",children:[e.jsxs("h2",{className:"text-2xl font-bold font-space text-js mb-6",children:[s==="profile"&&"Edytuj Profil",s==="security"&&"Bezpieczeństwo",s==="preferences"&&"Preferencje",s==="delete"&&"Usuń Konto"]}),s==="profile"&&e.jsx(Va,{}),s==="security"&&e.jsx(Ka,{}),s==="preferences"&&e.jsx(Ya,{}),s==="delete"&&e.jsx(ar,{})]},s)}));rr.displayName="SettingsContent";const ir=i.memo(()=>{const[s,t]=i.useState("profile");return e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col h-full p-6 gap-6",children:[e.jsx(B,{title:"Ustawienia",description:"Ustawienia CodeLinesJS - dołącz do nas i rozwijaj swoje umiejętności w przyjaznym środowisku.",type:"website"}),e.jsx(u.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-3xl font-bold font-space text-js",children:"Ustawienia"})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx(Ga,{activeView:s,onViewChange:t}),e.jsx("div",{className:"lg:col-span-3",children:e.jsx(rr,{activeView:s})})]})]})});ir.displayName="SettingsSection";const xd=Object.freeze(Object.defineProperty({__proto__:null,SettingsSection:ir},Symbol.toStringTag,{value:"Module"})),nr=i.memo(()=>e.jsx(u.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(u.div,{whileHover:{scale:1.1,rotate:15},className:"p-3 rounded-xl bg-gradient-to-br from-js/20 to-js/20",children:e.jsx(cs,{className:"w-8 h-8 text-js"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-space text-transparent bg-clip-text bg-gradient-to-r from-js to-js",children:"Gry JavaScript"}),e.jsx("p",{className:"text-gray-400 mt-1",children:"Ucz się JavaScriptu poprzez zabawę i wyzwania"})]})]})}));nr.displayName="GamesHeader";const or=i.memo(()=>e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(s=>e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:s*.1},className:"bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-xl border border-gray-700/50 overflow-hidden",children:[e.jsx("div",{className:"aspect-video bg-gray-800/50 animate-pulse"}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsx("div",{className:"h-6 bg-gray-800/50 rounded animate-pulse w-3/4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-800/50 rounded animate-pulse"}),e.jsx("div",{className:"h-4 bg-gray-800/50 rounded animate-pulse w-4/5"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"h-4 w-16 bg-gray-800/50 rounded animate-pulse"}),e.jsx("div",{className:"h-4 w-16 bg-gray-800/50 rounded animate-pulse"})]}),e.jsx("div",{className:"h-8 w-24 bg-gray-800/50 rounded animate-pulse"})]})]})]},s))}));or.displayName="GamesListSkeleton";const lr=i.memo(({query:s})=>{const a=s?{title:"Brak wyników wyszukiwania",description:`Nie znaleziono gier dla zapytania "${s}"`,icon:Ge}:{title:"Brak gier w tej kategorii",description:"Spróbuj wybrać inną kategorię lub wróć później",icon:us};return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex flex-col items-center justify-center py-16",children:[e.jsx(u.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",bounce:.4},className:"w-20 h-20 mb-6 rounded-full bg-js/10 flex items-center justify-center",children:e.jsx(a.icon,{className:"w-10 h-10 text-js"})}),e.jsx(u.h3,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-2xl font-bold text-js mb-2 text-center",children:a.title}),e.jsx(u.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-gray-400 text-center max-w-md",children:a.description})]})});lr.displayName="NoGamesFound";const cr=i.memo(({game:s})=>{const t=pe(),a=()=>{s.isLevelAvailable&&t(`/dashboard/play/${s.slug}`)},r=!s.isLevelAvailable;return e.jsxs(u.div,{whileHover:{scale:r?1:1.02},className:`group bg-dark-800/50 border rounded-xl overflow-hidden transition-all ${r?"border-gray-700/50 opacity-50 cursor-not-allowed":"border-js/10 hover:border-js/20"}`,children:[e.jsxs("div",{className:"relative aspect-video",children:[e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-js/5 to-js/20 flex items-center justify-center",children:e.jsx("div",{className:"bg-js/10 px-4 py-2 rounded-lg border border-js/20",children:e.jsx("span",{className:"font-mono text-js/80 font-medium",children:s.slug})})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-dark/90 to-transparent"}),r?e.jsx("div",{className:"absolute inset-0 m-auto w-12 h-12 bg-gray-700 text-gray-400 rounded-full flex items-center justify-center",children:e.jsx(Y,{className:"w-5 h-5"})}):e.jsx(u.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:a,className:"absolute inset-0 m-auto w-12 h-12 bg-js text-dark rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(hs,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-js line-clamp-1",children:s.title}),e.jsxs("span",{className:"flex items-center gap-1 text-js bg-js/10 px-2 py-0.5 rounded-lg text-sm",children:[e.jsx(q,{className:"w-3.5 h-3.5"}),s.rewardPoints]})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-4 line-clamp-2",children:r?`Dostępne od poziomu ${s.requiredLevel}`:s.description}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("div",{className:"flex items-center gap-4 text-gray-400",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(D,{className:"w-4 h-4"}),s.rating.average.toFixed(1)]})}),e.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs font-medium
            ${s.difficulty==="easy"?"bg-green-500/10 text-green-400":s.difficulty==="medium"?"bg-yellow-500/10 text-yellow-400":"bg-red-500/10 text-red-400"}`,children:s.difficulty==="easy"?"Łatwy":s.difficulty==="medium"?"Średni":"Trudny"})]})]})]})});cr.displayName="GameCard";const Gl=()=>S(void 0,null,function*(){const s=yield P.get("games");if(s.error)throw new Error(s.error);if(!s.data)throw new Error("Brak danych z serwera");return s.data}),ie=()=>J({queryKey:["games"],queryFn:()=>Gl(),select:s=>({games:s,pagination:s}),staleTime:5*60*1e3}),dr=i.memo(({sortBy:s,searchQuery:t,selectedDifficulty:a})=>{const{data:r,isLoading:n,isError:o}=ie();if(n)return e.jsx(or,{});if(o)return e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-red-400",children:"Wystąpił błąd podczas ładowania gier. Spróbuj ponownie później."})});if(!(r!=null&&r.games))return null;const c=r.games.filter(d=>(a==="all"||d.difficulty===a)&&(d.title.toLowerCase().includes(t.toLowerCase())||d.description.toLowerCase().includes(t.toLowerCase()))).sort((d,l)=>{switch(s){case"newest":return new Date(l.createdAt||"").getTime()-new Date(d.createdAt||"").getTime();case"popular":return l.completions.count-d.completions.count;case"difficulty":return l.difficulty.localeCompare(d.difficulty);case"xp":return l.rewardPoints-d.rewardPoints;default:return 0}});return c.length?e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"w-full grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4 gap-4 sm:gap-6",children:c.map(d=>{const l={_id:d._id,id:d._id,slug:d.slug,isLevelAvailable:d.isLevelAvailable,title:d.title,description:d.description,difficulty:d.difficulty,category:"game",isCompleted:!1,rating:{average:0,count:0},completions:d.completions,completedCount:d.completions.count,thumbnailUrl:"",rewardPoints:d.rewardPoints,xpPoints:d.rewardPoints,requiredLevel:d.requiredLevel};return e.jsx(cr,{game:l},l._id)})}):e.jsx(lr,{query:t})});dr.displayName="GamesList";const Hl=[{id:"newest",label:"Najnowsze",icon:M},{id:"popular",label:"Popularne",icon:Vs},{id:"difficulty",label:"Trudność",icon:D},{id:"xp",label:"Punkty XP",icon:q}],mr=i.memo(({activeSortOption:s,onSortChange:t})=>e.jsxs("div",{className:"flex items-center gap-4 lg:ml-auto",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:"Sortuj:"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:Hl.map(a=>{const r=a.icon;return e.jsxs(u.button,{onClick:()=>t(a.id),whileHover:{scale:1.02},whileTap:{scale:.98},className:`
                flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium
                transition-all duration-200
                ${s===a.id?"text-js bg-js/10 border border-js/20":"text-gray-400 hover:text-js/80 border border-transparent"}
              `,children:[e.jsx(r,{className:"w-4 h-4"}),a.label]},a.id)})})]}));mr.displayName="GamesSorting";const xr=i.memo(({value:s,onChange:t})=>{const a=i.useCallback(r=>{t(r.target.value)},[t]);return e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},className:"relative",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:s,onChange:a,placeholder:"Szukaj gry...",className:`
            w-full pl-10 pr-4 py-1.5 
            bg-dark border border-js/10
            rounded-lg text-sm text-gray-200
            focus:outline-none focus:border-js/30
            transition-colors duration-200
          `}),e.jsx(Ge,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-js/50"})]}),e.jsx(u.div,{initial:!1,animate:{width:s?"100%":"0%",opacity:s?1:0},className:"absolute bottom-0 left-0 h-0.5 bg-js/20 rounded-full"})]})});xr.displayName="GamesSearch";const Ql=[{value:"all",label:"Wszystkie"},{value:"easy",label:"Łatwe",color:"text-emerald-400"},{value:"medium",label:"Średnie",color:"text-indigo-400"},{value:"hard",label:"Trudne",color:"text-rose-400"}],ur=i.memo(({selectedDifficulty:s,onDifficultyChange:t})=>e.jsxs(u.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center gap-4 flex-wrap",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:"Poziom:"}),e.jsx("div",{className:"flex gap-3 flex-wrap",children:Ql.map(a=>e.jsxs(u.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(a.value),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm transition-all relative
              ${s===a.value?`text-${a.color||"gray-200"}`:"text-gray-400 hover:text-gray-300"}`,children:[s===a.value&&e.jsx(u.div,{layoutId:"difficulty-background",className:`absolute inset-0 bg-gray-800/50 border rounded-lg -z-10 border-${a.color||"gray-400"}`,transition:{type:"spring",bounce:.2,duration:.6}}),e.jsx(Q,{mode:"wait",children:e.jsx(u.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{duration:.2},children:s===a.value?e.jsx(Yi,{className:`w-3 h-3 ${a.color||"text-gray-400"}`}):e.jsx(en,{className:"w-3 h-3"})},s===a.value?"circle":"circle-outline")}),a.label]},a.value))})]}));ur.displayName="GamesDifficulty";const pr=i.memo(()=>{const[s,t]=i.useState("newest"),[a,r]=i.useState(""),[n,o]=i.useState("all");return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"w-full m-0 min-h-screen bg-dark/50 backdrop-blur-sm",children:[e.jsx(B,{title:"Gry",description:"Gry CodeLinesJS - dołącz do nas i rozwijaj swoje umiejętności w przyjaznym środowisku.",type:"website"}),e.jsxs("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx(nr,{}),e.jsxs("div",{className:"mt-8 bg-dark-800/50 border border-js/10 rounded-xl p-4 sm:p-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"w-full sm:w-72",children:e.jsx(xr,{value:a,onChange:r})}),e.jsx(mr,{activeSortOption:s,onSortChange:t})]}),e.jsx("div",{className:"mt-4",children:e.jsx(ur,{selectedDifficulty:n,onDifficultyChange:o})})]}),e.jsx("div",{className:"mt-6",children:e.jsx(dr,{sortBy:s,searchQuery:a,selectedDifficulty:n})})]})]})]})});pr.displayName="GamesSection";const ud=Object.freeze(Object.defineProperty({__proto__:null,GamesSection:pr},Symbol.toStringTag,{value:"Module"})),Wl=i.memo(({title:s})=>e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-2xl font-bold text-js",children:s})})),Ul=i.createContext(null),Vl=({children:s})=>{const[t,a]=i.useState(null),[r,n]=i.useState(!1),[o,c]=i.useState(null),d=i.useCallback(l=>S(void 0,null,function*(){n(!0),c(null);try{const x=yield P.get("games");if(x.error)throw new Error(x.error);if(!x.data)throw new Error("Brak danych z serwera");const m=x.data.games.find(p=>p.slug===l);if(!m)throw new Error("Nie znaleziono gry");a({title:m.title,description:m.description,difficulty:m.difficulty,rating:m.rating,completions:m.completions,rewardPoints:m.rewardPoints,gameData:m.gameData,estimatedTime:m.estimatedTime,isCompleted:m.isCompleted})}catch(x){c(x instanceof Error?x.message:"Wystąpił nieznany błąd")}finally{n(!1)}}),[]);return e.jsx(Ul.Provider,{value:{gameContent:t,isLoading:r,error:o,fetchGameContent:d},children:s})};de.setConfig({FORBID_ATTR:["style","onerror","onload","fscommand","onabort","onafterprint","onanimationend","onanimationiteration","onanimationstart","onblur","oncanplay","oncanplaythrough","onchange","onclick","oncontextmenu","oncopy","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onfocusin","onfocusout","onfullscreenchange","onfullscreenerror","ongotpointercapture","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onlostpointercapture","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpaste","onpause","onplay","onplaying","onpointercancel","onpointerdown","onpointerenter","onpointerleave","onpointermove","onpointerout","onpointerover","onpointerup","onprogress","onratechange","onreset","onresize","onscroll","onsearch","onseeked","onseeking","onselect","onstalled","onsubmit","onsuspend","ontimeupdate","ontoggle","onvolumechange","onwaiting","onwheel"],ADD_TAGS:["meta"],ALLOW_DATA_ATTR:!1,FORBID_TAGS:["script","object","iframe","embed","base"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,SANITIZE_DOM:!0,WHOLE_DOCUMENT:!1,USE_PROFILES:{html:!0,mathMl:!1,svg:!1}});const Is={"scope-explorer":i.lazy(()=>ne(()=>Promise.resolve().then(()=>wc),void 0)),"js-typo-hunter":i.lazy(()=>ne(()=>Promise.resolve().then(()=>Tc),void 0)),"async-quest":i.lazy(()=>ne(()=>Promise.resolve().then(()=>Ac),void 0)),"regex-raider":i.lazy(()=>ne(()=>Promise.resolve().then(()=>Fc),void 0)),"js-quiz":i.lazy(()=>ne(()=>Promise.resolve().then(()=>_c),void 0)),"method-quiz":i.lazy(()=>ne(()=>Promise.resolve().then(()=>qc),void 0))},hr=i.memo(()=>{const{slug:s}=bs(),t=typeof s=="string"?de.sanitize(s):"";if(!t||!Is[t])return e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("div",{className:"text-gray-400",children:"Gra nie została znaleziona"})});const a=Is[t];return e.jsxs(Vl,{children:[e.jsx(B,{title:de.sanitize(t),description:"Gra CodeLinesJS - dołącz do nas i rozwijaj swoje umiejętności w przyjaznym środowisku.",type:"website"}),e.jsx("div",{className:"w-full h-full",children:e.jsx(i.Suspense,{fallback:e.jsx("div",{children:"Ładowanie gry..."}),children:e.jsx(a,{})})})]})});hr.displayName="GameplayArea";const jr=i.memo(({game:s})=>{const t=pe(),a=()=>{t("/dashboard/play")};return e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen bg-dark-800 flex items-center justify-center",children:e.jsxs("div",{className:"max-w-7xl w-full mx-auto px-4 py-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs(u.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:a,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-js/10 text-js hover:bg-js/20 transition-colors",children:[e.jsx(le,{className:"w-4 h-4"}),e.jsx("span",{children:"Powrót do menu"})]})}),e.jsx(Wl,{title:s.title}),e.jsx("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-12 gap-6",children:e.jsx("div",{className:"lg:col-span-12",children:e.jsx(hr,{})})})]})})});jr.displayName="GameplaySection";const yr=i.memo(()=>{const{slug:s}=bs(),{data:t}=ie();if(!(t!=null&&t.games))return null;const a=t.games.find(r=>r.slug===s);return a?e.jsx(jr,{game:a}):e.jsx(tt,{to:"/dashboard/play",replace:!0})});yr.displayName="GameplayRouter";const pd=Object.freeze(Object.defineProperty({__proto__:null,GameplayRouter:yr},Symbol.toStringTag,{value:"Module"})),Jl=({code:s,onChange:t,onMount:a,isEditorReady:r})=>e.jsxs("div",{className:"h-[calc(100%-4rem)] rounded overflow-hidden relative",children:[!r&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-dark/50",children:e.jsx(re,{className:"w-8 h-8 text-js animate-spin"})}),e.jsx(rt,{theme:"vs-dark",language:"javascript",height:"100%",defaultLanguage:"javascript",value:s,onChange:t,onMount:a})]}),gr=i.memo(({output:s,onClear:t,isExecuting:a})=>e.jsxs("div",{className:"h-[calc(100%-4rem)] bg-[#1e1e1e] rounded-lg overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-dark/30 border-b border-js/10",children:[e.jsx("span",{className:"text-sm text-gray-400",children:a?"Wykonywanie...":"Gotowe"}),e.jsx("button",{"data-testid":"clear-console-btn",onClick:t,className:"p-1.5 text-gray-400 hover:text-js transition-colors",title:"Wyczyść konsolę",children:e.jsx(fs,{className:"w-4 h-4"})})]}),e.jsx("div",{"data-testid":"console-output",className:"flex-1 p-4 font-mono text-sm overflow-auto",children:s.map((r,n)=>e.jsx(u.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-gray-300 mb-1",dangerouslySetInnerHTML:{__html:de.sanitize(r,{ALLOWED_TAGS:[],ALLOWED_ATTR:[],KEEP_CONTENT:!0})}},n))})]}));gr.displayName="ConsoleOutput";const Kl=({output:s,isExecuting:t,onClear:a,onRun:r})=>e.jsxs("div",{className:"bg-dark/50 rounded-lg p-4 border border-js/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-js",children:"Konsola"}),e.jsx("button",{"data-testid":"run-code-btn",onClick:r,disabled:t,className:"px-4 py-2 bg-js text-dark font-medium rounded hover:bg-js/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Wykonywanie...":"Uruchom"})]}),e.jsx(gr,{output:s,onClear:a,isExecuting:t})]}),Zl=3e3,ql=[/alert\s*\(/i,/confirm\s*\(/i,/prompt\s*\(/i,/eval\s*\(/i,/Function\s*\(/i,/setTimeout\s*\(/i,/setInterval\s*\(/i,/fetch\s*\(/i,/XMLHttpRequest/i,/localStorage/i,/sessionStorage/i,/document\s*\./i,/window\s*\./i,/location\s*\./i,/history\s*\./i,/navigator\s*\./i,/screen\s*\./i,/innerHTML/i,/outerHTML/i,/insertAdjacentHTML/i,/createElement\s*\(/i,/appendChild\s*\(/i,/innerText/i,/textContent/i],Xl=()=>{const[s,t]=i.useState([]),[a,r]=i.useState(!1),n=i.useCallback(()=>{t([])},[]),o=i.useCallback(d=>{var l;for(const x of ql)if(x.test(d)){const m=d.match(x);return{isValid:!1,error:`Zabroniona operacja: ${(l=m==null?void 0:m[0])==null?void 0:l.trim()}`}}return d.length>1e4?{isValid:!1,error:"Kod jest za długi (maksymalnie 10,000 znaków)"}:{isValid:!0}},[]),c=i.useCallback(d=>{r(!0);const l=[],x=console.log;return new Promise((m,p)=>{const h=o(d);if(!h.isValid){t([`Błąd walidacji: ${h.error}`]),r(!1),p(new Error(h.error));return}const j=setTimeout(()=>{p(new Error("Przekroczono limit czasu wykonania"))},Zl);try{console.log=(...b)=>{const g=b.map(v=>typeof v=="object"?JSON.stringify(v,null,2):String(v)).join(" "),N=de.sanitize(g,{ALLOWED_TAGS:[],ALLOWED_ATTR:[],KEEP_CONTENT:!0});l.push(N)},S(void 0,null,function*(){try{new Function("console",`
              "use strict";
              ${d}
            `)(console),t(l),clearTimeout(j),m()}catch(b){const g=`Błąd: ${b instanceof Error?b.message:"Nieznany błąd"}`,N=de.sanitize(g,{ALLOWED_TAGS:[],ALLOWED_ATTR:[],KEEP_CONTENT:!0});t([N]),p(b)}})}finally{console.log=x,r(!1)}})},[o]);return{output:s,isExecuting:a,executeCode:c,clearConsole:n}},rs="code_history",Yl=10,ec=()=>{const[s,t]=i.useState(()=>{const n=localStorage.getItem(rs);return n?JSON.parse(n):[]}),a=i.useCallback(n=>{const o=de.sanitize(n,{ALLOWED_TAGS:[],ALLOWED_ATTR:[],KEEP_CONTENT:!0});t(c=>{const d=[{code:o,timestamp:Date.now()},...c.filter(l=>l.code!==o)].slice(0,Yl);return localStorage.setItem(rs,JSON.stringify(d)),d})},[]),r=i.useCallback(()=>{localStorage.removeItem(rs),t([])},[]);return{history:s,addToHistory:a,clearHistory:r}},sc=s=>{const t=i.useRef(null),[a,r]=i.useState(s),[n,o]=i.useState(!1),c=l=>{t.current=l,o(!0)},d=i.useCallback(l=>{l&&r(l)},[]);return i.useEffect(()=>{En.init().then(l=>{l.languages.typescript.javascriptDefaults.setDiagnosticsOptions({noSemanticValidation:!1,noSyntaxValidation:!1})})},[]),{code:a,isEditorReady:n,handleEditorDidMount:c,handleEditorChange:d}},tc=`// Witaj w edytorze CodeLinesJS!
// Napisz swój kod JavaScript tutaj

function przywitajSie(imie) {
  return \`Cześć, \${imie}!\`;
}

console.log(przywitajSie("Programisto"));`,ac=()=>({saveToFile:i.useCallback(t=>{const a=new Blob([t],{type:"text/javascript"}),r=URL.createObjectURL(a),n=document.createElement("a");n.href=r,n.download=`code_${new Date().toISOString().slice(0,10)}.js`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)},[])}),br=i.memo(({history:s,onSelect:t,onClear:a})=>e.jsxs("div",{"data-testid":"history-panel",className:"absolute top-full right-0 mt-2 w-64 bg-dark/95 rounded-lg border border-js/10 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-js/10",children:[e.jsxs("div",{className:"flex items-center gap-2 text-js",children:[e.jsx(it,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Historia"})]}),s.length>0&&e.jsx("button",{"data-testid":"clear-history-btn",onClick:a,className:"p-1.5 text-gray-400 hover:text-js transition-colors",title:"Wyczyść historię",children:e.jsx(fs,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"max-h-64 overflow-y-auto",children:s.length===0?e.jsx("div",{className:"p-3 text-sm text-gray-400",children:"Brak historii"}):s.map((r,n)=>e.jsxs(u.button,{"data-testid":`history-item-${n}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:n*.05},onClick:()=>t(r.code),className:"w-full p-3 text-left hover:bg-js/10 transition-colors border-b border-js/5 last:border-0",children:[e.jsx("div",{className:"text-sm text-gray-300 truncate",children:r.code.split(`
`)[0]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:new Date(r.timestamp).toLocaleString()})]},r.timestamp))})]}));br.displayName="CodeHistory";const fr=i.memo(()=>{const{output:s,isExecuting:t,executeCode:a,clearConsole:r}=Xl(),{history:n,addToHistory:o,clearHistory:c}=ec(),{code:d,isEditorReady:l,handleEditorDidMount:x,handleEditorChange:m}=sc(tc),{saveToFile:p}=ac(),[h,j]=i.useState(!1),b=()=>{j(!1)},g=i.useCallback(()=>S(void 0,null,function*(){yield a(d),o(d)}),[d,a,o]);return e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},className:"h-full p-6",children:[e.jsx(B,{title:"Edytor Kodu",description:"Edytor kodu JavaScript - dołącz do nas i rozwijaj swoje umiejętności w przyjaznym środowisku.",type:"website"}),e.jsxs("div",{className:"relative flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold font-space text-js",children:"Edytor Kodu JavaScript"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{"data-testid":"save-code-btn",onClick:()=>p(d),disabled:!l,className:"px-4 py-2 text-sm text-js border border-js/20 rounded hover:bg-js/10 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(sn,{className:"w-4 h-4 mr-2 inline-block"}),"Zapisz do Pliku"]}),e.jsx("button",{"data-testid":"history-btn",onClick:()=>j(N=>!N),className:"p-2 text-gray-400 hover:text-js transition-colors",title:"Historia kodu",children:e.jsx(it,{className:"w-5 h-5"})}),h&&e.jsx(br,{history:n,onSelect:b,onClear:c})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-[calc(100vh-12rem)]",children:[e.jsx(Jl,{code:d,onChange:m,onMount:()=>x(null),isEditorReady:l}),e.jsx(Kl,{output:s,isExecuting:t,onClear:r,onRun:g})]})]})});fr.displayName="CodeEditor";const hd=Object.freeze(Object.defineProperty({__proto__:null,CodeEditor:fr},Symbol.toStringTag,{value:"Module"})),wr=i.memo(()=>e.jsx("div",{className:"absolute inset-0",children:e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute top-0 right-0 w-full h-full bg-[#1a1a1a] opacity-90"}),e.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-[#f7df1e] rounded-full blur-[150px] opacity-20"}),e.jsx("div",{className:"absolute -bottom-40 -right-40 w-96 h-96 bg-[#f7df1e] rounded-full blur-[150px] opacity-20"}),e.jsx("div",{className:"absolute top-1/4 left-1/4 w-32 h-32 bg-[#f7df1e] rounded-full blur-[100px] opacity-10"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-32 h-32 bg-[#f7df1e] rounded-full blur-[100px] opacity-10"})]})}));wr.displayName="PageBackground";const Nr=i.memo(({title:s="Zgłoś błąd lub sugestię",description:t="Znalazłeś błąd w aplikacji lub masz pomysł na nową funkcję? Daj nam znać! Twoje opinie pomagają nam ulepszać CodeLinesJS."})=>e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center max-w-2xl mx-auto",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-js mb-4",children:s}),e.jsx("p",{className:"text-gray-400 text-lg",children:t})]}));Nr.displayName="PageHeader";const rc=()=>({reportBug:t=>S(void 0,null,function*(){const a=yield P.post("reports",t);if(a.error)throw new Error(a.error);return a.data})}),ic=()=>{const[s,t]=i.useState(!1),[a,r]=i.useState(null),{reportBug:n}=rc();return{submitReport:c=>S(void 0,null,function*(){t(!0),r(null);try{return yield n(c),{success:!0}}catch(d){const l=d instanceof Error?d.message:"Wystąpił nieznany błąd";return r(l),{success:!1,error:l}}finally{t(!1)}}),isSubmitting:s,error:a,setError:r}},ve=i.memo(({id:s,name:t,label:a,type:r="text",register:n,error:o,placeholder:c,options:d,rows:l=5})=>{const x=`w-full bg-dark/50 border ${o?"border-red-500":"border-js/20"} rounded-lg p-3 text-white focus:border-js focus:outline-none`;return e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:s,className:"block text-gray-300 mb-1",children:a}),r==="textarea"?e.jsx("textarea",z(k({id:s},n(t)),{rows:l,className:x,placeholder:c})):r==="select"?e.jsx("select",z(k({id:s},n(t)),{className:x,children:d==null?void 0:d.map(m=>e.jsx("option",{value:m.value,children:m.label},m.value))})):e.jsx("input",z(k({type:r,id:s},n(t)),{className:x,placeholder:c})),o&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o})]})});ve.displayName="FormField";const vr=i.memo(({isSubmitting:s,label:t="Wyślij zgłoszenie",loadingLabel:a="Wysyłanie..."})=>e.jsx(u.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:s,className:"w-full bg-js text-dark font-medium py-3 rounded-lg flex items-center justify-center gap-2 hover:bg-js/90 transition-colors disabled:opacity-70 disabled:cursor-not-allowed",children:s?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"animate-spin h-5 w-5 border-2 border-dark border-t-transparent rounded-full"}),e.jsx("span",{children:a})]}):e.jsxs(e.Fragment,{children:[e.jsx(tn,{}),e.jsx("span",{children:t})]})}));vr.displayName="SubmitButton";const kr=i.memo(({onReset:s,title:t="Dziękujemy za zgłoszenie!",message:a="Twoje zgłoszenie zostało przyjęte. Odpowiemy najszybciej jak to możliwe.",buttonLabel:r="Zgłoś kolejny błąd"})=>e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-green-500/20 border border-green-500/30 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-green-400 font-medium mb-2",children:t}),e.jsx("p",{className:"text-gray-400",children:a}),e.jsx("button",{onClick:s,className:"mt-4 bg-js text-dark font-medium px-4 py-2 rounded-lg hover:bg-js/90 transition-colors",children:r})]}));kr.displayName="SuccessMessage";const Sr=i.memo(({message:s})=>e.jsx("div",{className:"mb-4 bg-red-500/20 border border-red-500/30 rounded-lg p-3",children:e.jsx("p",{className:"text-red-400",children:s})}));Sr.displayName="ErrorMessage";const zr=i.memo(({title:s="Zgłoś błąd"})=>e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-3 rounded-lg bg-js/10",children:e.jsx(Ws,{className:"w-6 h-6 text-js"})}),e.jsx("h2",{className:"text-2xl font-bold text-js",children:s})]}));zr.displayName="FormHeader";const nc=[{value:"bug",label:"Błąd w aplikacji"},{value:"feature",label:"Propozycja funkcji"},{value:"performance",label:"Problem z wydajnością"},{value:"security",label:"Problem z bezpieczeństwem"},{value:"other",label:"Inne"}],Tr=i.memo(()=>{var p,h,j,b;const[s,t]=i.useState(!1),{submitReport:a,isSubmitting:r,error:n}=ic(),{register:o,handleSubmit:c,formState:{errors:d},reset:l}=Ce({defaultValues:{title:"",description:"",category:"bug",email:""}}),x=g=>S(void 0,null,function*(){(yield a(g)).success&&(t(!0),l())}),m=()=>{t(!1)};return e.jsxs("div",{className:"w-full max-w-3xl mx-auto bg-dark-800/50 border border-js/10 rounded-xl p-6 md:p-8",children:[e.jsx(zr,{}),s?e.jsx(kr,{onReset:m}):e.jsxs("form",{onSubmit:c(x),children:[e.jsx(ve,{id:"title",name:"title",label:"Tytuł",register:o,error:(p=d.title)==null?void 0:p.message,placeholder:"Krótki opis problemu"}),e.jsx(ve,{id:"category",name:"category",label:"Kategoria",type:"select",register:o,error:(h=d.category)==null?void 0:h.message,options:nc}),e.jsx(ve,{id:"description",name:"description",label:"Szczegółowy opis",type:"textarea",register:o,error:(j=d.description)==null?void 0:j.message,placeholder:"Opisz dokładnie napotkany problem, podaj kroki do jego odtworzenia"}),e.jsx(ve,{id:"email",name:"email",label:"Email kontaktowy",type:"email",register:o,error:(b=d.email)==null?void 0:b.message,placeholder:"Twój adres email"}),n&&e.jsx(Sr,{message:n}),e.jsx(vr,{isSubmitting:r})]})]})});Tr.displayName="ReportForm";const Cr=i.memo(({email:s="kontakt@codelinesjs.pl"})=>e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center max-w-2xl mx-auto",children:[e.jsx("h3",{className:"text-xl font-bold text-js mb-3",children:"Inne sposoby kontaktu"}),e.jsxs("p",{className:"text-gray-400",children:["Możesz również skontaktować się z nami bezpośrednio przez email:"," ",e.jsx("a",{href:`mailto:${s}`,className:"text-js hover:underline",children:s})]})]}));Cr.displayName="ContactSection";const oc=()=>i.useMemo(()=>({container:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},item:{hidden:{opacity:0,y:20},show:{opacity:1,y:0}}}),[]),Lr=i.memo(()=>{const s=oc();return e.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-b from-dark via-dark-medium to-dark py-16 md:py-24 relative overflow-hidden",children:[e.jsx(wr,{}),e.jsx(B,{title:"Zgłoś Błąd",description:"Zgłoś błąd w CodeLinesJS - dołącz do nas i rozwijaj swoje umiejętności w przyjaznym środowisku.",type:"website"}),e.jsx("div",{className:"container mx-auto px-4 relative z-10",children:e.jsxs(u.div,{variants:s.container,initial:"hidden",animate:"show",className:"flex flex-col items-center gap-12",children:[e.jsx(u.div,{variants:s.item,children:e.jsx(Nr,{})}),e.jsx(u.div,{variants:s.item,className:"w-full",children:e.jsx(Tr,{})}),e.jsx(u.div,{variants:s.item,children:e.jsx(Cr,{})})]})})]})});Lr.displayName="ReportBugPage";const jd=Object.freeze(Object.defineProperty({__proto__:null,ReportBugPage:Lr},Symbol.toStringTag,{value:"Module"})),lc=()=>{const{isAuthenticated:s,isAuthChecking:t}=W(),{data:a,isLoading:r,error:n,refetch:o}=J({queryKey:["activeUsers"],queryFn:()=>S(void 0,null,function*(){const x=yield P.get("users/active");if(x.error)throw new Error(x.error);if(!x.data)throw new Error("Brak danych z serwera");return x.data}),enabled:s&&!t,staleTime:1e3*30,refetchInterval:1e3*60}),c=(a==null?void 0:a.users)||[],d=c.slice(0,8),l=c.length>8?c.length-8:0;return{users:c,visibleUsers:d,extraUsers:l,total:(a==null?void 0:a.total)||0,isLoading:r,error:n,refetch:o}},Pr=i.memo(()=>{const{visibleUsers:s,extraUsers:t,isLoading:a,error:r}=lc();return a?e.jsxs("div",{className:"bg-dark/30 backdrop-blur-sm rounded-xl border border-js/10 p-4 mb-6",children:[e.jsx("h3",{className:"text-js text-sm font-medium mb-3",children:"Aktywni użytkownicy"}),e.jsx("div",{className:"flex items-center gap-2",children:[...Array(3)].map((n,o)=>e.jsx("div",{className:"w-10 h-10 rounded-full bg-dark-700 animate-pulse"},o))})]}):r?null:e.jsxs(u.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-dark/30 backdrop-blur-sm rounded-xl border border-js/10 p-4 mb-6",children:[e.jsx("h3",{className:"text-js text-sm font-medium mb-3",children:"Aktywni użytkownicy"}),e.jsxs("div",{className:"flex items-center gap-2",children:[s.map(n=>e.jsx(u.div,{className:"relative group",whileHover:{scale:1.1},transition:{type:"spring",stiffness:400,damping:17},children:e.jsxs("div",{className:"w-10 h-10 rounded-full relative",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-js flex items-center justify-center",children:e.jsx("span",{className:"text-dark font-bold text-xl",children:n.username.charAt(0).toUpperCase()})}),e.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-dark",children:e.jsx("div",{className:"absolute inset-0 bg-green-500 rounded-full animate-ping opacity-75"})})]})},n.id||n.username)),t>0&&e.jsxs(u.div,{whileHover:{scale:1.1},className:`w-10 h-10 rounded-full bg-js/10 flex items-center justify-center
                     text-js text-sm font-medium border-2 border-dark/50`,children:["+",t]})]})]})});Pr.displayName="ActiveUsers";const Er=i.memo(()=>e.jsx(vs,{children:e.jsx("div",{className:"space-y-6",children:e.jsx(Pr,{})})}));Er.displayName="CommunityFeed";const cc=Object.freeze(Object.defineProperty({__proto__:null,default:Er},Symbol.toStringTag,{value:"Module"})),Ar=i.memo(({username:s,size:t="md",className:a=""})=>{const r=s&&typeof s=="string"?s.charAt(0).toUpperCase():"?",n={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"},o={sm:"text-sm",md:"text-base",lg:"text-xl"};return e.jsx("div",{className:`
      rounded-full bg-js flex items-center justify-center text-black font-bold
      ${n[t]} ${o[t]} ${a}
    `,children:r})});Ar.displayName="UserAvatar";const Rr=i.memo(({user:s,index:t,animationDelay:a=.1})=>{const r=s.position,n=r<=3?"text-yellow-500":"text-gray-400",c=s.isCurrentUser?"bg-js/10 border-js/30":"bg-dark-card/50 border-js/5 hover:border-js/10";return e.jsx("div",{className:`backdrop-blur-sm rounded-lg border p-4 transition-all flex items-center justify-between ${c}`,style:{animation:`fadeIn 0.5s ease-out ${a*(t+1)}s both`},children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:`font-bold text-xl min-w-8 ${n}`,children:[r<=3&&e.jsx(an,{className:"inline mr-1"}),r]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ar,{username:s.username,avatar:s.avatar,size:"md",className:r<=3?"ring-2 ring-yellow-500/30":""}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-lg text-white",children:[s.username,s.isCurrentUser&&e.jsx("span",{className:"ml-2 text-xs font-medium bg-js text-black px-2 py-0.5 rounded font-bold",children:"Ty"})]}),e.jsxs("div",{className:"text-gray-400 text-sm",children:["Poziom: ",e.jsx("span",{className:"text-js",children:s.stats.level})," • Punkty: ",e.jsx("span",{className:"text-js",children:s.stats.points})]})]})]})]})})});Rr.displayName="RankingItem";const $r=i.memo(({users:s,isLoading:t=!1,pagination:a})=>t?e.jsx(H,{fullScreen:!0,text:"Ładowanie rankingu..."}):s!=null&&s.length?e.jsxs("div",{children:[e.jsx("div",{className:"space-y-4",children:s.map((r,n)=>e.jsx(Rr,{user:r,index:n},`${r.username}-${r.position}`))}),a&&e.jsxs("div",{className:"flex justify-between items-center mt-6 pt-4 border-t border-js/10",children:[e.jsxs("button",{onClick:a.prevPage,disabled:!a.hasPrevPage||a.isLoadingPage,className:`flex items-center space-x-2 px-3 py-2 rounded-md transition
              ${a.hasPrevPage&&!a.isLoadingPage?"text-js hover:bg-js/10":"text-gray-500 cursor-not-allowed"}`,"aria-label":"Poprzednia strona",children:[e.jsx(nn,{className:"w-5 h-5"}),e.jsx("span",{children:"Poprzednia"})]}),e.jsx("div",{className:"text-gray-400 flex items-center",children:a.isLoadingPage?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-js",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{className:"text-js",children:"Ładowanie..."})]}):`Strona ${a.page} z ${a.totalPages||1}`}),e.jsxs("button",{onClick:a.nextPage,disabled:!a.hasNextPage||a.isLoadingPage,className:`flex items-center space-x-2 px-3 py-2 rounded-md transition
              ${a.hasNextPage&&!a.isLoadingPage?"text-js hover:bg-js/10":"text-gray-500 cursor-not-allowed"}`,"aria-label":"Następna strona",children:[e.jsx("span",{children:"Następna"}),e.jsx(on,{className:"w-5 h-5"})]})]})]}):e.jsxs("div",{className:"text-center text-gray-400 py-8",children:[e.jsx(rn,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("div",{children:"Brak danych rankingowych do wyświetlenia"})]}));$r.displayName="RankingList";const Fr=i.memo(({icon:s,label:t,value:a,className:r=""})=>e.jsxs(u.div,{className:`bg-dark/20 rounded-lg p-4 border border-js/5 ${r}`,whileHover:{scale:1.02},transition:{duration:.2},children:[e.jsx(s,{className:"w-6 h-6 text-js mb-2"}),e.jsx("p",{className:"text-gray-400 text-sm",children:t}),e.jsx("p",{className:"text-2xl font-bold text-js",children:a})]}));Fr.displayName="StatCard";const Dr=i.memo(({currentUserStats:s,isLoading:t=!1})=>{if(t)return e.jsx("div",{className:"bg-dark/30 backdrop-blur-sm rounded-xl border border-js/10 p-6 shadow-lg",children:e.jsx(H,{fullScreen:!0,text:"Ładowanie statystyk..."})});if(!s)return e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-dark/30 backdrop-blur-sm rounded-xl border border-js/10 p-6 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-js mb-6",children:"Twoje Statystyki"}),e.jsx("p",{className:"text-gray-400",children:"Nie udało się załadować twoich statystyk. Zaloguj się, aby zobaczyć swoje miejsce w rankingu."})]});const a=[{icon:q,label:"Twoja pozycja",value:`#${s.rank}`},{icon:D,label:"Poziom",value:typeof s.level=="number"?s.level.toLocaleString():s.level},{icon:ln,label:"Punkty",value:typeof s.points=="number"?s.points.toLocaleString():s.points}];return e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-dark/30 backdrop-blur-sm rounded-xl border border-js/10 p-6 shadow-lg",children:[e.jsxs("h2",{className:"text-xl font-bold text-js mb-6",children:["Twoje Statystyki ",s.username&&`(${s.username})`]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:a.map(r=>e.jsx(Fr,{icon:r.icon,label:r.label,value:r.value},r.label))})]})});Dr.displayName="RankingStats";const dc=(s=1,t=10)=>{const[a,r]=i.useState(s),n=t,{data:o,isLoading:c,error:d}=J({queryKey:["ranking",a,n],queryFn:()=>S(void 0,null,function*(){const g=yield P.get(`ranking?page=${a}&limit=${n}`);if(g.error)throw new Error(g.error);if(!g.data)throw new Error("Brak danych z serwera");return g.data})}),l=o==null?void 0:o.ranking,x=(o==null?void 0:o.totalUsers)||0,m=o==null?void 0:o.meta,p=(m==null?void 0:m.totalPages)||Math.ceil(x/n),h=()=>{a<p&&r(g=>g+1)},j=()=>{a>1&&r(g=>g-1)},b=g=>{g>=1&&g<=p&&r(g)};return{ranking:l,totalUsers:x,userStats:o==null?void 0:o.userStats,isLoading:c,error:d,page:a,limit:n,nextPage:h,prevPage:j,goToPage:b,totalPages:p,pagination:m?{page:m.page,limit:m.limit,totalItems:m.totalResults,totalPages:m.totalPages}:null}},mc=()=>{const{ranking:s,userStats:t,isLoading:a,error:r,page:n,totalPages:o,nextPage:c,prevPage:d,goToPage:l}=dc(),x=i.useMemo(()=>s||[],[s]),m=i.useMemo(()=>{var h,j;return t?{username:t.username,rank:t.rank,level:((h=t.stats)==null?void 0:h.level)||"-",points:((j=t.stats)==null?void 0:j.points)||"-",avatar:t.avatar}:null},[t]),p=i.useMemo(()=>({page:n,totalPages:o,hasNextPage:n<o,hasPrevPage:n>1,nextPage:c,prevPage:d,goToPage:l,isLoadingPage:a&&!!x.length}),[n,o,c,d,l,a,x.length]);return{users:x,currentUserStats:m,isLoading:a,error:r,pagination:p}},Mr=i.memo(()=>{const{users:s,currentUserStats:t,isLoading:a,error:r,pagination:n}=mc();return a&&!n.page?e.jsx(H,{text:"Ładowanie rankingu..."}):r?e.jsxs("div",{className:"text-center p-8",children:[e.jsx("div",{className:"text-red-500 text-2xl mb-2",children:"Błąd ładowania"}),e.jsx("p",{className:"text-gray-400",children:r instanceof Error?r.message:"Nie udało się załadować danych rankingu. Spróbuj ponownie później."})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs("div",{className:"bg-dark/30 backdrop-blur-sm rounded-xl border border-js/10 p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-js",children:"Ranking"}),n.isLoadingPage&&e.jsxs("div",{className:"text-xs text-gray-400 flex items-center",children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-js",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Aktualizowanie..."]})]}),e.jsx($r,{users:s,isLoading:a,pagination:n})]})}),e.jsx("div",{className:"space-y-6",children:e.jsx(Dr,{currentUserStats:t,isLoading:a})})]})});Mr.displayName="CommunityRanking";const xc=Object.freeze(Object.defineProperty({__proto__:null,default:Mr},Symbol.toStringTag,{value:"Module"})),Oe=i.memo(({category:s,stats:t})=>{const a=()=>{switch(s){case"scope":return R;case"closure":return Le;case"hoisting":return Ns}},r=()=>{switch(s){case"scope":return"Zakres zmiennych";case"closure":return"Domknięcia";case"hoisting":return"Hoisting"}},n=a(),o=t.correct/t.total*100;return e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-dark-800/50 rounded-lg",children:[e.jsx("div",{className:"p-2 rounded-lg bg-js/10",children:e.jsx(n,{className:"w-4 h-4 text-js"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm text-gray-400",children:r()}),e.jsxs("span",{className:"text-xs text-gray-500",children:[t.correct,"/",t.total]})]}),e.jsx("div",{className:"h-1 bg-dark-900 rounded-full overflow-hidden",children:e.jsx(u.div,{initial:{width:0},animate:{width:`${o}%`},className:"h-full bg-js",transition:{duration:.3}})})]})]})});Oe.displayName="CategoryProgress";const Br=i.memo(({stats:s,isGameOver:t,finalTime:a})=>{const r=o=>{const c=Math.floor(o/60),d=o%60;return`${c}:${d.toString().padStart(2,"0")}`},n=t?a:s.timeElapsed;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs(u.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(R,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Poziom"}),e.jsxs("div",{className:"text-lg font-bold text-js",children:[s.currentLevel,"/",s.totalLevels]})]})]}),e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(D,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Punkty"}),e.jsx("div",{className:"text-lg font-bold text-js",children:s.score}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Poprawne: ",s.correctAnswers,"/",s.totalLevels]})]})]}),e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(M,{className:"w-5 h-5 text-js"}),e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Czas"}),e.jsx("div",{className:"text-lg font-bold text-js flex flex-wrap w-full",children:e.jsxs("span",{className:"block w-full break-words",children:[r(n),"/",r(s.maxTime)]})})]})]})]}),e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-2",children:[e.jsx(Oe,{category:"scope",stats:s.categoryStats.scope}),e.jsx(Oe,{category:"closure",stats:s.categoryStats.closure}),e.jsx(Oe,{category:"hoisting",stats:s.categoryStats.hoisting})]})]})});Br.displayName="ScopeExplorerStats";const je=i.memo(({gameContent:s,onStart:t})=>e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-2xl mx-auto p-6 bg-dark-800/50 border border-js/10 rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold text-js mb-4 text-center",children:s.title}),e.jsx("div",{className:"mb-6 text-gray-400 text-center",children:s.description}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg text-center",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Poziom trudności"}),e.jsx("div",{className:"text-lg font-bold text-js capitalize",children:s.difficulty})]}),e.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg text-center",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Punkty do zdobycia"}),e.jsxs("div",{className:"text-lg font-bold text-js flex items-center justify-center gap-1",children:[e.jsx(D,{className:"w-4 h-4"}),s.rewardPoints]})]}),e.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg text-center",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Szacowany czas"}),e.jsxs("div",{className:"text-lg font-bold text-js",children:[s.estimatedTime," min"]})]})]}),e.jsxs("button",{onClick:t,className:"w-full px-6 py-4 rounded-lg bg-js text-dark font-medium hover:bg-js/90 transition-colors flex items-center justify-center gap-2",children:[e.jsx(hs,{className:"w-4 h-4"}),e.jsx("span",{children:"Rozpocznij grę"})]})]}));je.displayName="GameIntro";const uc=()=>{const{data:s,isLoading:t,error:a}=ie();return{gameContent:i.useMemo(()=>s==null?void 0:s.games.find(n=>n.slug==="scope-explorer"),[s==null?void 0:s.games]),isLoading:t,error:a}},ye=({maxTime:s,onTimeEnd:t,isPaused:a})=>{const[r,n]=i.useState(0),[o,c]=i.useState(!1),d=i.useCallback(()=>{c(!0)},[]),l=i.useCallback(()=>{c(!1)},[]),x=i.useCallback(()=>{n(0),c(!1)},[]);return i.useEffect(()=>{let m;return o&&!a&&(m=window.setInterval(()=>{n(p=>{const h=p+1;return h>=s?(l(),t(),s):h})},1e3)),()=>{m&&window.clearInterval(m)}},[o,a,s,t,l]),{timeElapsed:r,resetTimer:x,startTimer:d,stopTimer:l,isRunning:o}},pc=({gameContent:s,isPaused:t})=>{var C;const[a,r]=i.useState(!1),[n,o]=i.useState(!1),[c,d]=i.useState(0),[l,x]=i.useState({currentLevel:1,totalLevels:0,score:0,timeElapsed:0,maxTime:300,correctAnswers:0,categoryStats:{scope:{total:0,correct:0,points:0},closure:{total:0,correct:0,points:0},hoisting:{total:0,correct:0,points:0}}}),{timeElapsed:m,resetTimer:p,startTimer:h,stopTimer:j}=ye({maxTime:s!=null&&s.estimatedTime?s.estimatedTime*60:300,onTimeEnd:()=>{o(!0),d(m),j()},isPaused:t});i.useEffect(()=>{x(w=>z(k({},w),{timeElapsed:m}))},[m]),i.useEffect(()=>{if(!(s!=null&&s.gameData))return;const w={scope:{total:0,correct:0,points:0},closure:{total:0,correct:0,points:0},hoisting:{total:0,correct:0,points:0}};s.gameData.forEach(f=>{const y=f.category;w[y].total++,w[y].points+=f.points||0}),x(f=>z(k({},f),{totalLevels:s.gameData.length,maxTime:s.estimatedTime?s.estimatedTime*60:300,categoryStats:w}))},[s]);const b=i.useCallback((w,f)=>{x(y=>z(k({},y),{score:y.score+w,correctAnswers:y.correctAnswers+1,categoryStats:z(k({},y.categoryStats),{[f]:z(k({},y.categoryStats[f]),{correct:y.categoryStats[f].correct+1})})}))},[]),g=i.useCallback(()=>{var f;const w=l.currentLevel+1;if(w>(((f=s==null?void 0:s.gameData)==null?void 0:f.length)||0)){o(!0),d(m),j();return}x(y=>z(k({},y),{currentLevel:w}))},[l.currentLevel,m,(C=s==null?void 0:s.gameData)==null?void 0:C.length,j]),N=i.useCallback(()=>{if(!(s!=null&&s.gameData))return;const w={scope:{total:0,correct:0,points:0},closure:{total:0,correct:0,points:0},hoisting:{total:0,correct:0,points:0}};s.gameData.forEach(f=>{const y=f.category;w[y].total++,w[y].points+=f.points||0}),x({currentLevel:1,totalLevels:s.gameData.length,score:0,timeElapsed:0,maxTime:s.estimatedTime?s.estimatedTime*60:300,correctAnswers:0,categoryStats:w}),o(!1),d(0),p(),h()},[p,h,s]),v=i.useCallback(()=>{r(!0),h()},[h]),T=i.useCallback(()=>{o(!0),d(m),j()},[m,j]);return{isGameStarted:a,isGameOver:n,finalTime:c,gameStats:l,currentChallenge:s!=null&&s.gameData?s.gameData[l.currentLevel-1]:void 0,handleScoreUpdate:b,handleLevelComplete:g,handleRestart:N,handleStartGame:v,handleGameOver:T}},Or=i.memo(({isLoading:s,error:t,children:a})=>s?e.jsx("div",{className:"w-full h-64 flex items-center justify-center",children:e.jsxs(u.div,{className:"text-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[e.jsx(u.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"text-js text-4xl mx-auto mb-4",children:e.jsx(re,{})}),e.jsx("div",{className:"text-xl font-medium text-gray-100 mb-2",children:"Ładowanie gry..."})]})}):t?e.jsx("div",{className:"w-full h-64 flex items-center justify-center",children:e.jsxs(u.div,{className:"text-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[e.jsx("div",{className:"text-red-500 text-4xl mx-auto mb-4",children:e.jsx(Z,{})}),e.jsx("div",{className:"text-xl font-medium text-gray-100 mb-2",children:"Wystąpił błąd"}),e.jsx("div",{className:"text-gray-400",children:t.message})]})}):e.jsx(e.Fragment,{children:a}));Or.displayName="LoadingErrorContainer";const hc=s=>{switch(s){case"scope":return R;case"closure":return Le;case"hoisting":return Ns}},jc=s=>{switch(s){case"scope":return"Zakres zmiennych";case"closure":return"Domknięcia";case"hoisting":return"Hoisting"}},yc=s=>{switch(s){case"easy":return"text-green-400 bg-green-500/10";case"medium":return"text-yellow-400 bg-yellow-500/10";case"hard":return"text-red-400 bg-red-500/10"}},gc=s=>{switch(s){case"easy":return"Łatwy";case"medium":return"Średni";case"hard":return"Trudny"}},_r=({onEscape:s,onEnter:t,onNumber1:a,onNumber2:r,onNumber3:n,onNumber4:o,disabled:c=!1})=>{const d=i.useCallback(l=>{if(!c)switch(l.key){case"Escape":s==null||s();break;case"Enter":t==null||t();break;case"1":a==null||a();break;case"2":r==null||r();break;case"3":n==null||n();break;case"4":o==null||o();break}},[s,t,a,r,n,o,c]);i.useEffect(()=>(window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)),[d])},Ir=i.memo(({currentLevel:s,totalLevels:t})=>{const a=(s-1)/t*100;return e.jsx("div",{className:"w-full bg-dark-800/50 h-1 rounded-full overflow-hidden",children:e.jsx(u.div,{initial:{width:0},animate:{width:`${a}%`},className:"h-full bg-js",transition:{duration:.3}})})});Ir.displayName="ScopeExplorerProgress";const bc=dn,Gr=i.memo(({currentChallenge:s,onScoreUpdate:t,onLevelComplete:a,currentLevel:r,totalLevels:n,onGameOver:o})=>{const[c,d]=i.useState(null),[l,x]=i.useState(!1),[m,p]=i.useState(null),[h,j]=i.useState(!1),b=i.useCallback(v=>{d(v);const T=v===s.correct;p(T),x(!0),T?(t(s.points||10,s.category),setTimeout(()=>{a(),d(null),x(!1),p(null),j(!1)},1500)):setTimeout(()=>{o()},2e3)},[s,t,a,o]),g=i.useCallback(v=>{!l&&v<s.options.length&&b(s.options[v])},[l,s.options,b]);_r({onNumber1:()=>g(0),onNumber2:()=>g(1),onNumber3:()=>g(2),disabled:l});const N=hc(s.category);return e.jsxs(u.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},className:"w-full space-y-6",children:[e.jsx(Ir,{currentLevel:r,totalLevels:n}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-js/10",children:e.jsx(N,{className:"w-4 h-4 text-js"})}),e.jsx("div",{className:"text-sm text-gray-400",children:jc(s.category)})]}),e.jsx("div",{className:`px-3 py-1 rounded-lg text-sm ${yc(s.difficulty)}`,children:gc(s.difficulty)})]}),e.jsx("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg overflow-hidden",children:e.jsx(bc,{language:"javascript",style:cn,customStyle:{padding:"1.5rem",borderRadius:"0.5rem",fontSize:"1.1rem",background:"transparent"},children:s.code})}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:s.options.map((v,T)=>e.jsxs(u.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>b(v),disabled:l,className:`
              w-full break-words
              relative p-4 rounded-lg font-mono text-lg transition-colors
              ${c===v?m?"bg-green-500/20 border-green-500/30 text-green-400":"bg-red-500/20 border-red-500/30 text-red-400":"bg-dark-800/50 border border-js/10 text-gray-300 hover:border-js/30"}
            `,children:[e.jsx("span",{className:"absolute top-2 left-2 text-xs text-gray-500",children:T+1}),v]},v))}),e.jsx("div",{className:"text-sm text-gray-500 text-center",children:"Użyj klawiszy numerycznych (1-3) aby wybrać odpowiedź"}),l&&e.jsx(u.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-4 rounded-lg ${m?"bg-green-500/20 border border-green-500/30":"bg-red-500/20 border border-red-500/30"}`,children:e.jsxs("p",{className:`text-sm ${m?"text-green-400":"text-red-400"}`,children:[m?"Świetnie! ":"Spróbuj jeszcze raz. ",s.explanation]})}),h&&!m&&e.jsx(u.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-js/10 border border-js/20 rounded-lg",children:e.jsxs("p",{className:"text-sm text-js",children:[e.jsx("span",{className:"font-medium",children:"Podpowiedź:"})," Zwróć uwagę na zakres zmiennych i ich dostępność w różnych kontekstach."]})})]},r)});Gr.displayName="ScopeExplorerGame";const fc=s=>S(void 0,null,function*(){try{const t=yield P.put("progress/points",{points:s});if(t.error)throw new Error(t.error);if(!t.data)throw new Error("Brak danych z serwera");return t.data}catch(t){throw console.error("Błąd podczas aktualizacji punktów:",t),t}}),ge=()=>{const s=he(),t=ae({mutationFn:a=>S(void 0,null,function*(){return fc(a)}),onSuccess:()=>{s.invalidateQueries({queryKey:["userProgress"]}),s.invalidateQueries({queryKey:["userStats"]})}});return{updatePoints:t.mutate,isUpdating:t.isPending,error:t.error}},Hr=i.memo(({score:s,timeElapsed:t,challenges:a,correctAnswers:r,categoryStats:n,onRestart:o})=>{const{updatePoints:c}=ge();i.useEffect(()=>{c(s)},[s,c]);const d=x=>{const m=Math.floor(x/60),p=x%60;return`${m}:${p.toString().padStart(2,"0")}`},l=x=>{switch(x){case"scope":return R;case"closure":return Le;case"hoisting":return Ns;default:return R}};return e.jsxs(u.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"p-6 bg-dark-800/50 border border-js/10 rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold text-js mb-6 text-center",children:r===a.length?"Gratulacje!":"Koniec gry!"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[e.jsx(D,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Wynik końcowy"}),e.jsxs("div",{className:"text-lg font-bold text-js",children:[s," punktów"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Poprawne odpowiedzi: ",r,"/",a.length]})]})]}),e.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[e.jsx(M,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Czas ukończenia"}),e.jsx("div",{className:"text-lg font-bold text-js",children:d(t)})]})]})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-js",children:"Statystyki kategorii:"}),Object.entries(n).map(([x,m])=>{const p=l(x);return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-900/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-js/10",children:e.jsx(p,{className:"w-4 h-4 text-js"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-js",children:x==="scope"?"Zakres zmiennych":x==="closure"?"Domknięcia":"Hoisting"}),e.jsxs("div",{className:"text-xs text-gray-400",children:["Ukończone zadania: ",m.correct,"/",m.total]})]})]}),e.jsxs("div",{className:"text-sm font-medium text-js",children:[m.points," pkt"]})]},x)})]}),e.jsx("button",{onClick:o,className:"w-full px-6 py-3 rounded-lg bg-js text-dark font-medium hover:bg-js/90 transition-colors",children:"Zagraj ponownie"})]})});Hr.displayName="ScopeExplorerSummary";const Qr=()=>{const s=i.useMemo(()=>({initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}}),[]),t=i.useMemo(()=>({initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.3}}),[]),a=i.useMemo(()=>({initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3}}),[]);return{containerAnimation:s,gameAnimation:t,summaryAnimation:a}},Wr=i.memo(({isGameOver:s,gameStats:t,currentChallenge:a,finalTime:r,challenges:n,onScoreUpdate:o,onLevelComplete:c,onGameOver:d,onRestart:l})=>{const{gameAnimation:x,summaryAnimation:m}=Qr();return!a&&!s?null:e.jsx(Q,{mode:"wait",children:e.jsx("div",{className:"flex-1 overflow-y-auto py-6",children:s?e.jsx(u.div,{initial:m.initial,animate:m.animate,exit:m.exit,transition:m.transition,children:e.jsx(Hr,{score:t.score,timeElapsed:r,challenges:n||[],correctAnswers:t.correctAnswers,categoryStats:t.categoryStats,onRestart:l})},"game-over"):e.jsx(u.div,{initial:x.initial,animate:x.animate,exit:x.exit,transition:x.transition,className:"w-full",children:e.jsx(Gr,{currentChallenge:a,onScoreUpdate:o,onLevelComplete:c,currentLevel:t.currentLevel,totalLevels:t.totalLevels,onGameOver:d})},`level-${t.currentLevel}`)})})});Wr.displayName="GameContent";const Ur=i.memo(({isPaused:s=!1})=>{const{gameContent:t,isLoading:a,error:r}=uc(),{containerAnimation:n}=Qr(),{isGameStarted:o,isGameOver:c,finalTime:d,gameStats:l,currentChallenge:x,handleScoreUpdate:m,handleLevelComplete:p,handleRestart:h,handleStartGame:j,handleGameOver:b}=pc({gameContent:t,isPaused:s});return e.jsx(Or,{isLoading:a,error:r,children:t&&e.jsx(e.Fragment,{children:o?e.jsxs(u.div,z(k({},n),{className:"w-full h-full flex flex-col",children:[e.jsx(B,{title:"Scope Explorer",description:"Zagraj w Scope Explorer - gra programistyczna, która pomoże Ci zrozumieć zakresy zmiennych w JavaScript.",type:"website"}),e.jsx(Br,{stats:l,isGameOver:c,finalTime:d}),e.jsx(Wr,{isGameOver:c,gameStats:l,currentChallenge:x,finalTime:d,challenges:t.gameData,onScoreUpdate:m,onLevelComplete:p,onGameOver:b,onRestart:h})]})):e.jsx(je,{gameContent:t,onStart:j})})})});Ur.displayName="ScopeExplorer";const wc=Object.freeze(Object.defineProperty({__proto__:null,default:Ur},Symbol.toStringTag,{value:"Module"})),Vr=i.memo(({stats:s})=>{const t=a=>{const r=Math.floor(a/60),n=a%60;return`${r}:${n.toString().padStart(2,"0")}`};return e.jsxs(u.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(R,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Poziom"}),e.jsxs("div",{className:"text-lg font-bold text-js",children:[s.currentLevel,"/",s.totalLevels]})]})]}),e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(D,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Punkty"}),e.jsx("div",{className:"text-lg font-bold text-js",children:s.score})]})]}),e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 gap-3 flex items-center",children:[e.jsx(M,{className:"w-5 h-5 text-js"}),e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Czas"}),e.jsx("div",{className:"text-lg font-bold text-js flex flex-wrap w-full",children:e.jsxs("span",{className:"block w-full break-words",children:[t(s.timeElapsed),"/",t(s.maxTime)]})})]})]})]})});Vr.displayName="JSTypoHunterStats";const Nc=()=>{const{data:s,isLoading:t,error:a}=ie();return{gameContent:i.useMemo(()=>s==null?void 0:s.games.find(n=>n.slug==="js-typo-hunter"),[s]),isLoading:t,error:a}},vc=s=>{switch(s){case"easy":return 10;case"medium":return 20;case"hard":return 30;default:return 10}},kc=({gameContent:s,isPaused:t})=>{var w;const[a,r]=i.useState(!1),[n,o]=i.useState({currentLevel:1,totalLevels:0,score:0,timeElapsed:0,maxTime:300,correctAnswers:0}),[c,d]=i.useState(!1),[l,x]=i.useState(0),{timeElapsed:m,resetTimer:p,startTimer:h,stopTimer:j}=ye({maxTime:s!=null&&s.estimatedTime?s.estimatedTime*60:300,onTimeEnd:()=>{d(!0),x(m),j()},isPaused:t}),b=i.useCallback(f=>{var U;const y=(U=s==null?void 0:s.gameData)==null?void 0:U[n.currentLevel-1],L=vc((y==null?void 0:y.difficulty)||"easy"),E=f+L;o(I=>z(k({},I),{score:I.score+E,correctAnswers:I.correctAnswers+1}))},[n.currentLevel,s]),g=i.useCallback(()=>{d(!0),x(m),j()},[m,j]),N=i.useCallback(()=>{setTimeout(()=>{var y;const f=n.currentLevel+1;f>(((y=s==null?void 0:s.gameData)==null?void 0:y.length)||0)?(d(!0),x(m),j()):o(L=>z(k({},L),{currentLevel:f}))},1e3)},[n.currentLevel,s,m,j]),v=i.useCallback(()=>{var f;s&&(o({currentLevel:1,totalLevels:((f=s==null?void 0:s.gameData)==null?void 0:f.length)||0,score:0,timeElapsed:0,maxTime:s!=null&&s.estimatedTime?s.estimatedTime*60:300,correctAnswers:0}),d(!1),x(0),p(),h())},[p,h,s]),T=i.useCallback(()=>{r(!0),h()},[h]);i.useEffect(()=>{o(f=>z(k({},f),{timeElapsed:m}))},[m]),i.useEffect(()=>{s&&o(f=>{var y;return z(k({},f),{totalLevels:((y=s.gameData)==null?void 0:y.length)||0,maxTime:s!=null&&s.estimatedTime?s.estimatedTime*60:300})})},[s]);const C=(w=s==null?void 0:s.gameData)==null?void 0:w[n.currentLevel-1];return{isGameStarted:a,isGameOver:c,gameStats:n,finalTime:l,currentChallenge:C,handleScoreUpdate:b,handleIncorrectAnswer:g,handleLevelComplete:N,handleRestart:v,handleStartGame:T}},Jr=i.memo(({isLoading:s,error:t,children:a})=>s?e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-64 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(re,{className:"animate-spin text-4xl text-js mx-auto mb-4"}),e.jsx("div",{className:"text-xl font-medium text-gray-100",children:"Ładowanie gry..."})]})}):t?e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-64 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Z,{className:"text-4xl text-red-500 mx-auto mb-4"}),e.jsx("div",{className:"text-xl font-medium text-gray-100 mb-2",children:"Wystąpił błąd"}),e.jsx("div",{className:"text-red-400",children:t.message})]})}):a?e.jsx(e.Fragment,{children:a}):e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-64 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Z,{className:"text-4xl text-yellow-500 mx-auto mb-4"}),e.jsx("div",{className:"text-xl font-medium text-gray-100",children:"Gra niedostępna"})]})}));Jr.displayName="LoadingError";const Kr=i.memo(({type:s,message:t})=>s?e.jsx(Q,{children:e.jsxs(u.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:`
          absolute top-4 left-1/2 -translate-x-1/2 
          px-4 py-2 rounded-lg flex items-center gap-2
          ${s==="success"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}
        `,children:[s==="success"?e.jsx(G,{className:"w-4 h-4"}):e.jsx(Qe,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:t})]})}):null);Kr.displayName="JSTypoHunterFeedback";const Zr=i.memo(({hint:s,isVisible:t})=>t?e.jsxs(u.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"mt-4 p-3 bg-js/10 border border-js/20 rounded-lg flex items-start gap-3",children:[e.jsx(xe,{className:"w-5 h-5 text-js flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-js mb-1",children:"Podpowiedź:"}),e.jsx("div",{className:"text-sm text-gray-400",children:s})]})]}):null);Zr.displayName="JSTypoHunterHint";const Sc=s=>{switch(s){case"syntax":return R;case"naming":return mn;case"logic":return xe}},zc=s=>{switch(s){case"easy":return"text-green-400 bg-green-500/10";case"medium":return"text-yellow-400 bg-yellow-500/10";case"hard":return"text-red-400 bg-red-500/10"}},qr=i.memo(({currentChallenge:s,onScoreUpdate:t,onLevelComplete:a,onIncorrectAnswer:r})=>{const[n,o]=i.useState(s.code),[c,d]=i.useState({type:null,message:""}),[l,x]=i.useState(0),m=3,p=g=>{g!==void 0&&o(g)},h=(g,N)=>{const v=g.trim().replace(/\s+/g," "),T=N.trim().replace(/\s+/g," ");return v.includes(T)?!0:((f,y)=>{if(f===y)return 1;let L=0;const E=f.length>y.length?f:y,U=f.length>y.length?y:f;for(let I=0;I<U.length;I++)U[I]===E[I]&&L++;return L/E.length})(v,T)>.8},j=i.useCallback(()=>{const g=n.split(`
`);let N=!1;for(const v of g)if(h(v,s.correct)){N=!0;break}if(N){d({type:"success",message:"Świetnie! Poprawna odpowiedź!"});const v=Math.max(10-l*2,1);t(v),setTimeout(()=>{a(),o(s.code),d({type:null,message:""}),x(0)},1500)}else x(v=>v+1),l+1>=m?(d({type:"error",message:"Niestety, przekroczyłeś liczbę prób. Koniec gry!"}),setTimeout(()=>{r()},1500)):(d({type:"error",message:`Niestety, to nie jest prawidłowa odpowiedź. Pozostałe próby: ${m-l-1}`}),setTimeout(()=>{d({type:null,message:""})},1500))},[n,s,l,t,a,r]),b=Sc(s.category);return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative",children:[e.jsx(Kr,{type:c.type,message:c.message}),e.jsxs("div",{className:"mb-4 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-js/10",children:e.jsx(b,{className:"w-4 h-4 text-js"})}),e.jsx("div",{className:"text-sm text-gray-400",children:s.category==="syntax"?"Błąd składni":s.category==="naming"?"Błąd nazewnictwa":"Błąd logiki"})]}),e.jsx("div",{className:`px-3 py-1 rounded-lg text-sm ${zc(s.difficulty)}`,children:s.difficulty==="easy"?"Łatwy":s.difficulty==="medium"?"Średni":"Trudny"})]}),e.jsx("p",{className:"text-gray-400 text-sm",children:s.explanation||"Znajdź i popraw błąd w kodzie."}),e.jsxs("p",{className:"mt-1 text-gray-500 text-sm",children:["Pozostałe próby: ",m-l]})]}),e.jsx("div",{className:"rounded-lg",children:e.jsx(rt,{className:"w-full h-full flex flex-wrap",theme:"vs-dark",height:"400px",defaultLanguage:"javascript",value:n,onChange:p,options:{selectOnLineNumbers:!0,automaticLayout:!0,theme:"vs-dark",wordWrap:"on"}})}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx("button",{onClick:j,className:"px-4 py-2 rounded-lg bg-js text-dark font-medium hover:bg-js/90 transition-colors",children:"Sprawdź"})}),e.jsx(Zr,{hint:s.hint||"",isVisible:l>0})]})});qr.displayName="JSTypoHunterGame";const Xr=i.memo(({score:s,timeElapsed:t,correctAnswers:a,totalLevels:r,onRestart:n})=>{const{updatePoints:o}=ge();i.useEffect(()=>{o(s)},[s,o]);const c=d=>{const l=Math.floor(d/60),x=d%60;return`${l}:${x.toString().padStart(2,"0")}`};return e.jsxs(u.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"p-6 bg-dark-800/50 border border-js/10 rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold text-js mb-6 text-center",children:a===r?"Gratulacje!":"Koniec gry!"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[e.jsx(D,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Wynik końcowy"}),e.jsxs("div",{className:"text-lg font-bold text-js",children:[s," punktów"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Poprawne odpowiedzi: ",a,"/",r]})]})]}),e.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[e.jsx(M,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Czas ukończenia"}),e.jsx("div",{className:"text-lg font-bold text-js flex flex-wrap",children:c(t)})]})]})]}),e.jsx("button",{onClick:n,className:"w-full px-6 py-3 rounded-lg bg-js text-dark font-medium hover:bg-js/90 transition-colors",children:"Zagraj ponownie"})]})});Xr.displayName="JSTypoHunterSummary";const Yr=i.memo(({isGameOver:s,gameStats:t,finalTime:a,currentChallenge:r,totalLevels:n,onScoreUpdate:o,onLevelComplete:c,onIncorrectAnswer:d,onRestart:l})=>e.jsx(Q,{mode:"wait",children:s?e.jsx(Xr,{score:t.score,timeElapsed:a,correctAnswers:t.correctAnswers,totalLevels:n,onRestart:l},"game-over"):e.jsx(u.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},children:e.jsx(qr,{currentChallenge:r,onScoreUpdate:o,onLevelComplete:c,onIncorrectAnswer:d})},`level-${t.currentLevel}`)}));Yr.displayName="GameContent";const ei=i.memo(({isPaused:s=!1})=>{var b;const{gameContent:t,isLoading:a,error:r}=Nc(),{isGameStarted:n,isGameOver:o,gameStats:c,finalTime:d,currentChallenge:l,handleScoreUpdate:x,handleIncorrectAnswer:m,handleLevelComplete:p,handleRestart:h,handleStartGame:j}=kc({gameContent:t,isPaused:s});return e.jsx(Jr,{isLoading:a,error:r,children:t&&e.jsx(e.Fragment,{children:n?e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full space-y-6",children:[e.jsx(B,{title:"JSTypoHunter",description:"Zagraj w JSTypoHunter - gra programistyczna, która pomoże Ci zrozumieć typowanie w JavaScript.",type:"website"}),e.jsx(Vr,{stats:c}),e.jsx(Yr,{isGameOver:o,gameStats:c,finalTime:d,currentChallenge:l,totalLevels:((b=t==null?void 0:t.gameData)==null?void 0:b.length)||0,onScoreUpdate:x,onLevelComplete:p,onIncorrectAnswer:m,onRestart:h})]}):e.jsx(je,{gameContent:t,onStart:j})})})});ei.displayName="JSTypoHunter";const Tc=Object.freeze(Object.defineProperty({__proto__:null,default:ei},Symbol.toStringTag,{value:"Module"})),si=()=>{const{data:s,isLoading:t,error:a}=ie();return{gameContent:i.useMemo(()=>{if(!(!s||!s.games||!Array.isArray(s.games)))return s.games.find(n=>n.slug==="async-quest")},[s]),isLoading:t,error:a}},Cc=({gameContent:s,isPaused:t})=>{var f;const[a,r]=i.useState(!1),n={promises:{total:0,correct:0,points:0},"async-await":{total:0,correct:0,points:0},callbacks:{total:0,correct:0,points:0}},[o,c]=i.useState({currentLevel:1,totalLevels:0,score:0,timeElapsed:0,maxTime:s!=null&&s.estimatedTime?s.estimatedTime*60:300,correctAnswers:0,categoryStats:n}),[d,l]=i.useState(!1),[x,m]=i.useState(0),{timeElapsed:p,resetTimer:h,startTimer:j,stopTimer:b}=ye({maxTime:s!=null&&s.estimatedTime?s.estimatedTime*60:300,onTimeEnd:()=>{l(!0),m(p),b()},isPaused:t});i.useEffect(()=>{s&&c(y=>{var L;return z(k({},y),{totalLevels:((L=s.gameData)==null?void 0:L.length)||0})})},[s]),i.useEffect(()=>{!d&&!t&&c(y=>z(k({},y),{timeElapsed:p}))},[p,d,t]),i.useEffect(()=>{!d&&!t&&j()},[d,t,j]);const g=i.useCallback((y,L)=>{c(E=>z(k({},E),{score:E.score+y,correctAnswers:E.correctAnswers+1,categoryStats:z(k({},E.categoryStats),{[L]:z(k({},E.categoryStats[L]),{total:E.categoryStats[L].total+1,correct:E.categoryStats[L].correct+1,points:E.categoryStats[L].points+y})})}))},[]),N=i.useCallback(()=>{const y=o.currentLevel+1;y>o.totalLevels?(l(!0),m(p),b()):c(L=>z(k({},L),{currentLevel:y}))},[o.currentLevel,o.totalLevels,p,b]),v=i.useCallback(()=>{l(!0),m(p),b()},[p,b]),T=i.useCallback(()=>{var L,E;if(!s)return;const y={promises:{total:0,correct:0,points:0},"async-await":{total:0,correct:0,points:0},callbacks:{total:0,correct:0,points:0}};(L=s.gameData)==null||L.forEach(U=>{U.category&&y[U.category].total++}),c({currentLevel:1,totalLevels:((E=s.gameData)==null?void 0:E.length)||0,score:0,timeElapsed:0,maxTime:s.estimatedTime?s.estimatedTime*60:300,correctAnswers:0,categoryStats:y}),l(!1),h(),j()},[s,h,j]),C=i.useCallback(()=>{r(!0),j()},[j]),w=(f=s==null?void 0:s.gameData)==null?void 0:f[o.currentLevel-1];return{isGameStarted:a,isGameOver:d,gameStats:o,finalTime:x,currentChallenge:w,handleScoreUpdate:g,handleLevelComplete:N,handleGameOver:v,handleRestart:T,handleStartGame:C}},Lc=({title:s,description:t,gameName:a="Async Quest"}={})=>{const r=i.useMemo(()=>s||`${a} | CodeLinesJS`,[s,a]),n=i.useMemo(()=>t||`${a} CodeLinesJS - dołącz do nas i rozwijaj swoje umiejętności w przyjaznym środowisku.`,[t,a]);return{pageTitle:r,pageDescription:n}},ti=i.memo(({isLoading:s,error:t,children:a})=>s?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center",children:[e.jsx(u.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"text-4xl text-purple-300 mb-4",children:e.jsx(re,{})}),e.jsx("p",{className:"text-xl font-medium text-purple-200",children:"Ładowanie gry..."})]}):t?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-6",children:[e.jsx(u.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-4xl text-red-400 mb-4",children:e.jsx(Z,{})}),e.jsx("h2",{className:"text-xl font-bold text-red-300 mb-2",children:"Wystąpił błąd"}),e.jsx("p",{className:"text-md text-red-200",children:t.message})]}):a?e.jsx(e.Fragment,{children:a}):e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx("p",{className:"text-lg text-purple-300",children:"Gra niedostępna"})}));ti.displayName="LoadingError";const ai=i.memo(({currentLevel:s,totalLevels:t})=>{const a=(s-1)/t*100;return e.jsx("div",{className:"w-full bg-dark-800/50 h-1 rounded-full overflow-hidden",children:e.jsx(u.div,{initial:{width:0},animate:{width:`${a}%`},className:"h-full bg-js",transition:{duration:.3}})})});ai.displayName="AsyncQuestProgress";const Pc=()=>{const[s,t]=i.useState(!1),[a,r]=i.useState([]);return{executeCode:i.useCallback(o=>S(void 0,null,function*(){t(!0),r([]);try{const x={console:{log:(...p)=>{r(h=>[...h,p.map(j=>String(j)).join(" ")])},error:(...p)=>{r(h=>[...h,`Error: ${p.map(j=>String(j)).join(" ")}`])}},fetch:()=>Promise.resolve({json:()=>Promise.resolve({data:"mock data"})}),setTimeout:(p,h)=>setTimeout(p,Math.min(h,1e3)),Promise},m=`
        with (context) {
          ${o}
        }
      `;return yield new Function("context",m)(x),{success:!0,output:a}}catch(c){return console.error("Błąd podczas wykonywania kodu:",c),{success:!1,output:a,error:c.message}}finally{t(!1)}}),[]),isRunning:s,output:a,clearOutput:()=>r([])}},Ec=(s,t)=>{const a=l=>l.replace(/\s+/g," ").trim(),r=a(s),n=a(t);if(r===n)return!0;const o=l=>l.includes("async")&&l.includes("function"),c=l=>l.includes(".then(")&&l.includes(".catch("),d=l=>l.includes("try")&&l.includes("catch");return!(o(t)&&!o(s)||c(t)&&!c(s)||d(t)&&!d(s))},ri=i.memo(({type:s,message:t,code:a,explanation:r})=>e.jsx(u.div,{initial:{opacity:0,y:s==="hint"?-10:10},animate:{opacity:1,y:0},className:`p-4 rounded-lg ${s==="hint"?"bg-js/10 border border-js/20":"bg-red-500/20 border border-red-500/30"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[s==="hint"?e.jsx(xe,{className:"w-5 h-5 text-js flex-shrink-0 mt-0.5"}):e.jsx(Z,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:`text-sm font-medium ${s==="hint"?"text-js":"text-red-400"}`,children:s==="hint"?"Podpowiedź:":"Błąd:"}),e.jsx("div",{className:"text-sm text-gray-400",children:t}),a&&e.jsx("div",{className:"mt-2 p-2 bg-dark-900 rounded-lg font-mono text-sm text-gray-300",children:a}),r&&e.jsxs("div",{className:"mt-2 text-sm text-gray-400",children:[e.jsx("span",{className:"font-medium text-js",children:"Wyjaśnienie: "}),r]})]})]})}));ri.displayName="AsyncQuestHint";const Gs=(s,t)=>{if(t==="async-await"){if(!s.includes("async"))return{message:"Funkcja powinna być oznaczona jako asynchroniczna.",explanation:"Użyj słowa kluczowego async przed deklaracją funkcji.",example:"async function getData() { ... }"};if(!s.includes("await"))return{message:"Brak słowa kluczowego await przy wywołaniu asynchronicznym.",explanation:"Użyj await aby poczekać na wynik operacji asynchronicznej.",example:"const data = await fetchData();"}}if(t==="promises"){if(!s.includes(".catch"))return{message:"Brak obsługi błędów w łańcuchu Promise.",explanation:"Dodaj .catch() aby obsłużyć potencjalne błędy.",example:"fetch(url).then(...).catch(error => { ... })"};if(!s.includes(".then"))return{message:"Brak obsługi wyniku Promise.",explanation:"Użyj .then() aby obsłużyć wynik pomyślnego wykonania.",example:"promise.then(result => { ... })"}}return t==="callbacks"&&!s.includes("new Promise")?{message:"Przekształć callback w Promise.",explanation:"Użyj konstruktora Promise aby opakować callback.",example:"new Promise((resolve, reject) => { ... })"}:{message:"Sprawdź poprawność składni kodu.",explanation:"Upewnij się, że kod jest zgodny z wymaganiami zadania."}},ii=i.memo(({currentChallenge:s,onScoreUpdate:t,onLevelComplete:a,currentLevel:r,totalLevels:n,onGameOver:o})=>{const[c,d]=i.useState(s.code),[l,x]=i.useState(!1),[m,p]=i.useState(null),[h,j]=i.useState(null),[b,g]=i.useState(!1),N=i.useRef(null),v=i.useRef(null),T=i.useRef(null),{executeCode:C,isRunning:w,clearOutput:f}=Pc();i.useEffect(()=>{v.current&&v.current.scrollIntoView({behavior:"smooth",block:"center"})},[]);const y=X=>{N.current=X,g(!0),setTimeout(()=>{X.focus()},100)},L=i.useCallback(X=>{X!==void 0&&(d(X),p(null),j(null),f())},[f]),E=i.useCallback(()=>{T.current&&T.current.scrollIntoView({behavior:"smooth",block:"center"})},[]),U=i.useCallback(()=>S(void 0,null,function*(){if(c){x(!1),f(),j(null);try{const X=yield Ec(c,s.correct),be=yield C(c);if(X&&be.success)p(!0),x(!0),t(s.points,s.category),setTimeout(()=>{E()},100),setTimeout(()=>{a()},1500);else{p(!1),x(!0);const Ke=Gs(c,s.category);j(Ke),setTimeout(()=>{E()},100),setTimeout(()=>{o()},2e3)}}catch(X){p(!1),x(!0);const be=Gs(c,s.category);j(be),setTimeout(()=>{E()},100),setTimeout(()=>{o()},2e3)}}}),[c,s,C,t,a,o,f,E]),I={minimap:{enabled:!1},fontSize:14,lineHeight:24,fontFamily:"JetBrains Mono, monospace",fontLigatures:!0,wordWrap:"on",automaticLayout:!0,padding:{top:16,bottom:16},scrollBeyondLastLine:!1,folding:!0,lineNumbers:"on",renderLineHighlight:"all",suggestOnTriggerCharacters:!0,parameterHints:{enabled:!0},tabSize:2,theme:"vs-dark"};return e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-6xl mx-auto p-4 space-y-6",children:[e.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-js",children:s.title}),e.jsx(ai,{currentLevel:r,totalLevels:n})]}),e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-js mb-3",children:"Opis zadania"}),e.jsx("p",{className:"text-gray-300 text-lg leading-relaxed mb-6",children:s.description}),e.jsxs("div",{className:"p-4 bg-dark-700/50 border border-js/20 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-js mb-2",children:"Zadanie"}),e.jsx("p",{className:"text-gray-300 text-base",children:s.task})]})]})]}),e.jsxs("div",{ref:v,className:"bg-dark-800/50 rounded-xl p-6",children:[e.jsx("div",{className:"h-[500px] relative rounded-lg overflow-hidden border border-js/10",children:e.jsx(xn,{height:"100%",defaultLanguage:"javascript",value:c,onChange:L,onMount:y,options:z(k({},I),{fontSize:16,lineHeight:26}),className:"w-full"})}),e.jsx("button",{onClick:U,disabled:w||!b,className:`mt-4 w-full px-6 py-3 rounded-lg font-medium transition-colors ${w||!b?"bg-gray-500 cursor-not-allowed":"bg-js text-dark hover:bg-js/90"}`,children:w?"Wykonywanie...":"Uruchom kod"})]}),l&&e.jsx(u.div,{ref:T,initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-dark-800/50 rounded-xl p-6",children:e.jsx(ri,{type:m?"hint":"error",message:m?"Świetnie! Rozwiązanie jest poprawne.":s.error,explanation:m||h==null?void 0:h.explanation,code:m||h==null?void 0:h.example})})]})});ii.displayName="AsyncQuestGame";const ce=i.memo(({category:s,stats:t})=>{const a=()=>{switch(s){case"promises":return R;case"async-await":return pn;case"callbacks":return un}},r=()=>{switch(s){case"promises":return"Promises";case"async-await":return"Async/Await";case"callbacks":return"Callbacks"}},n=a(),o=t.correct/t.total*100;return e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-dark-800/50 rounded-lg",children:[e.jsx("div",{className:"p-2 rounded-lg bg-js/10",children:e.jsx(n,{className:"w-4 h-4 text-js"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm text-gray-400",children:r()}),e.jsxs("span",{className:"text-xs text-gray-500",children:[t.correct,"/",t.total]})]}),e.jsx("div",{className:"h-1 bg-dark-900 rounded-full overflow-hidden",children:e.jsx(u.div,{initial:{width:0},animate:{width:`${o}%`},className:"h-full bg-js",transition:{duration:.3}})})]})]})});ce.displayName="CategoryProgress";const ni=i.memo(({score:s,timeElapsed:t,challenges:a,correctAnswers:r,categoryStats:n,onRestart:o})=>{const{updatePoints:c}=ge();i.useEffect(()=>{c(s)},[s,c]);const d=l=>{const x=Math.floor(l/60),m=l%60;return`${x}:${m.toString().padStart(2,"0")}`};return e.jsxs(u.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"p-6 bg-dark-800/50 border border-js/10 rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold text-js mb-6 text-center",children:r===a.length?"Gratulacje!":"Koniec gry!"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[e.jsx(D,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Wynik końcowy"}),e.jsxs("div",{className:"text-lg font-bold text-js",children:[s," punktów"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Poprawne odpowiedzi: ",r,"/",a.length]})]})]}),e.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[e.jsx(M,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Czas ukończenia"}),e.jsx("div",{className:"text-lg font-bold text-js",children:d(t)})]})]})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-js",children:"Statystyki kategorii:"}),e.jsx(ce,{category:"promises",stats:n.promises}),e.jsx(ce,{category:"async-await",stats:n["async-await"]}),e.jsx(ce,{category:"callbacks",stats:n.callbacks})]}),e.jsx("button",{onClick:o,className:"w-full px-6 py-3 rounded-lg bg-js text-dark font-medium hover:bg-js/90 transition-colors",children:"Zagraj ponownie"})]})});ni.displayName="AsyncQuestSummary";const oi=i.memo(({isGameOver:s,gameStats:t,finalTime:a,currentChallenge:r,gameContent:n,onScoreUpdate:o,onLevelComplete:c,onGameOver:d,onRestart:l})=>e.jsx(Q,{mode:"wait",children:e.jsx("div",{className:"flex-1 overflow-y-auto py-6",children:s?e.jsx(u.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},children:e.jsx(ni,{score:t.score,timeElapsed:a,challenges:(n==null?void 0:n.gameData)||[],correctAnswers:t.correctAnswers,categoryStats:t.categoryStats,onRestart:l})},"game-over"):e.jsx(u.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.3},className:"w-full",children:e.jsx(ii,{currentChallenge:r,onScoreUpdate:o,onLevelComplete:c,currentLevel:t.currentLevel,totalLevels:t.totalLevels,onGameOver:d})},`level-${t.currentLevel}`)})}));oi.displayName="GameContent";const li=i.memo(({stats:s,isGameOver:t,finalTime:a})=>{const r=o=>{const c=Math.floor(o/60),d=o%60;return`${c}:${d.toString().padStart(2,"0")}`},n=t?a:s.timeElapsed;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs(u.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(R,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Poziom"}),e.jsxs("div",{className:"text-lg font-bold text-js",children:[s.currentLevel,"/",s.totalLevels]})]})]}),e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(D,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Punkty"}),e.jsx("div",{className:"text-lg font-bold text-js",children:s.score}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Poprawne: ",s.correctAnswers,"/",s.totalLevels]})]})]}),e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(M,{className:"w-5 h-5 text-js"}),e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Czas"}),e.jsx("div",{className:"text-lg font-bold text-js flex flex-wrap w-full",children:e.jsxs("span",{className:"block w-full break-words",children:[r(n),"/",r(s.maxTime)]})})]})]})]}),e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-2",children:[e.jsx(ce,{category:"promises",stats:s.categoryStats.promises}),e.jsx(ce,{category:"async-await",stats:s.categoryStats["async-await"]}),e.jsx(ce,{category:"callbacks",stats:s.categoryStats.callbacks})]})]})});li.displayName="AsyncQuestStats";const ci=i.memo(({isGameStarted:s,isGameOver:t,gameStats:a,onGameStart:r})=>{const{gameContent:n}=si();return s?e.jsx(li,{stats:a,isGameOver:t,finalTime:a.timeElapsed}):n?e.jsx(je,{gameContent:n,onStart:r}):e.jsxs("div",{className:"w-full p-6 text-center",children:[e.jsx("p",{className:"text-lg text-purple-200",children:"Brak danych gry"}),e.jsx("button",{className:"mt-4 px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-md transition-colors",onClick:r,children:"Rozpocznij mimo to"})]})});ci.displayName="GameHeader";const di=i.memo(()=>{const{gameContent:s,isLoading:t,error:a}=si(),{isGameStarted:r,isGameOver:n,gameStats:o,finalTime:c,currentChallenge:d,handleScoreUpdate:l,handleLevelComplete:x,handleGameOver:m,handleRestart:p,handleStartGame:h}=Cc({gameContent:s,isPaused:!1}),{pageTitle:j,pageDescription:b}=Lc();return e.jsxs("div",{className:"flex flex-col h-full text-white rounded-lg shadow-xl overflow-hidden",children:[e.jsx(B,{title:j,description:b,type:"website"}),e.jsx(ti,{isLoading:t,error:a,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx(ci,{isGameStarted:r,isGameOver:n,gameStats:o,onGameStart:h}),r&&e.jsx(oi,{isGameOver:n,gameStats:o,finalTime:c,currentChallenge:d,gameContent:s,onScoreUpdate:l,onLevelComplete:x,onGameOver:m,onRestart:p})]})})]})});di.displayName="AsyncQuest";const Ac=Object.freeze(Object.defineProperty({__proto__:null,default:di},Symbol.toStringTag,{value:"Module"})),mi=i.memo(({stats:s,isGameOver:t,finalTime:a})=>{const r=o=>{const c=Math.floor(o/60),d=o%60;return`${c}:${d.toString().padStart(2,"0")}`},n=t?a:s.timeElapsed;return e.jsxs(u.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(R,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Poziom"}),e.jsxs("div",{className:"text-lg font-bold text-js",children:[s.currentLevel,"/",s.totalLevels]})]})]}),e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(D,{className:"w-5 h-5 text-js"}),e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Punkty"}),e.jsx("div",{className:"text-lg font-bold text-js",children:s.score}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Poprawne: ",s.correctAnswers,"/",s.totalLevels]})]})]}),e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(M,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Czas"}),e.jsx("div",{className:"text-lg font-bold text-js flex flex-wrap w-full",children:e.jsxs("span",{className:"block w-full break-words",children:[r(n),"/",r(s.maxTime)]})})]})]})]})});mi.displayName="RegexRaiderStats";const Rc=()=>{const{data:s,isLoading:t,error:a}=ie();return{gameContent:i.useMemo(()=>s==null?void 0:s.games.find(n=>n.slug==="regex-raider"),[s==null?void 0:s.games]),isLoading:t,error:a}},$c=({gameContent:s,isPaused:t})=>{const[a,r]=i.useState(!1),[n,o]=i.useState(!1),[c,d]=i.useState(0),[l,x]=i.useState({currentLevel:1,totalLevels:0,score:0,timeElapsed:0,maxTime:300,correctAnswers:0}),{timeElapsed:m,resetTimer:p,startTimer:h,stopTimer:j}=ye({maxTime:l.maxTime,onTimeEnd:()=>{o(!0),d(m),j()},isPaused:t});i.useEffect(()=>{s!=null&&s.gameData&&x(C=>z(k({},C),{totalLevels:s.gameData.length}))},[s]),i.useEffect(()=>{n||x(C=>z(k({},C),{timeElapsed:m}))},[m,n]);const b=i.useCallback(C=>{x(w=>z(k({},w),{score:w.score+C,correctAnswers:w.correctAnswers+1}))},[]),g=i.useCallback(()=>{x(C=>{const w=C.currentLevel+1;return w>C.totalLevels&&(o(!0),d(m),j()),z(k({},C),{currentLevel:w})})},[m,j]),N=i.useCallback(()=>{x(C=>({currentLevel:1,totalLevels:C.totalLevels,score:0,timeElapsed:0,maxTime:300,correctAnswers:0})),o(!1),p(),h()},[p,h]),v=i.useCallback(()=>{o(!0),d(m),j()},[m,j]),T=i.useCallback(()=>{r(!0),h()},[h]);return{isGameStarted:a,isGameOver:n,finalTime:c,gameStats:l,currentChallenge:s!=null&&s.gameData?s.gameData[l.currentLevel-1]:void 0,handleScoreUpdate:b,handleLevelComplete:g,handleRestart:N,handleStartGame:T,handleGameOver:v}},xi=()=>{const s=i.useMemo(()=>({initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}}),[]),t=i.useMemo(()=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3}}),[]),a=i.useMemo(()=>({initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3}}),[]);return{containerAnimation:s,gameAnimation:t,summaryAnimation:a}},ui=i.memo(({isLoading:s,error:t,children:a})=>s?e.jsx("div",{className:"w-full h-64 flex items-center justify-center",children:e.jsxs(u.div,{className:"text-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[e.jsx(u.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"text-js text-4xl mx-auto mb-4",children:e.jsx(re,{})}),e.jsx("div",{className:"text-xl font-medium text-gray-100 mb-2",children:"Ładowanie gry..."})]})}):t?e.jsx("div",{className:"w-full h-64 flex items-center justify-center",children:e.jsxs(u.div,{className:"text-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[e.jsx("div",{className:"text-red-500 text-4xl mx-auto mb-4",children:e.jsx(Z,{})}),e.jsx("div",{className:"text-xl font-medium text-gray-100 mb-2",children:"Wystąpił błąd"}),e.jsx("div",{className:"text-gray-400",children:t.message})]})}):e.jsx(e.Fragment,{children:a}));ui.displayName="LoadingErrorContainer";const pi=i.memo(({pattern:s,explanation:t,example:a})=>e.jsx(u.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-dark-800/50 border border-js/10 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-js/10",children:e.jsx(xe,{className:"w-4 h-4 text-js"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:t}),s&&e.jsx("div",{className:"font-mono text-sm bg-dark-900/50 p-2 rounded text-js",children:s}),a&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Przykład: ",e.jsx("span",{className:"text-gray-400",children:a})]})]})]})}));pi.displayName="RegexRaiderHint";const hi=i.memo(({onScoreUpdate:s,onLevelComplete:t,currentLevel:a,onGameOver:r})=>{const{data:n}=ie(),o=n==null?void 0:n.games.find(g=>g.slug==="regex-raider"),[c,d]=i.useState(""),[l,x]=i.useState([]),[m,p]=i.useState(null);if(!o)return null;const h=o.gameData[a-1],j=i.useCallback(g=>{const N=g.target.value;d(N),p(null);try{const v=new RegExp(N,"g"),T=h.text.match(v)||[];x(T)}catch(v){x([])}},[h]),b=i.useCallback(()=>{try{const g=h.text.match(new RegExp(c,"g"))||[],N=h.text.match(new RegExp(h.correctRegex,"g"))||[],v=g.length===N.length&&g.every(T=>N.includes(T));p(v),v?(s(10),setTimeout(()=>{t(),d(""),x([]),p(null)},1500)):setTimeout(()=>{r()},1500)}catch(g){p(!1),setTimeout(()=>{r()},1500)}},[c,h,s,t,r]);return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-dark-800/50 border border-js/10 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Zadanie:"}),e.jsx("div",{className:"text-lg text-js mb-4",children:h.task}),e.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Tekst:"}),e.jsx("div",{className:"font-mono bg-dark-900/50 p-4 rounded-lg text-gray-300",children:h.text})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("input",{type:"text",value:c,onChange:j,placeholder:"Wpisz wyrażenie regularne...",style:{backgroundColor:"#1a1a1a"},className:"bg-dark-900 flex-1 border border-js/10 rounded-lg px-4 py-2 text-js font-mono placeholder-yellow-500"}),e.jsx("button",{onClick:b,className:"px-6 py-2 bg-js text-dark font-medium rounded-lg hover:bg-js/90 transition-colors",children:"Sprawdź"})]}),l.length>0&&e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 bg-dark-900/50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Znalezione dopasowania:"}),e.jsx("div",{className:"space-y-1",children:l.map((g,N)=>e.jsx("div",{className:"font-mono text-js",children:g},N))})]}),m!==null&&e.jsx(u.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-4 rounded-lg ${m?"bg-green-500/20 border border-green-500/30":"bg-red-500/20 border border-red-500/30"}`,children:e.jsx("p",{className:`text-sm ${m?"text-green-400":"text-red-400"}`,children:m?"Świetnie! Wyrażenie regularne jest poprawne!":"Wyrażenie nie znajduje wszystkich wymaganych dopasowań."})}),m===!1&&e.jsx(pi,{pattern:h.correctRegex,explanation:"Niepoprawne wyrażenie regularne. Gra zostanie zakończona...",example:`Poprawne wyrażenie: ${h.correctRegex}`})]})]})});hi.displayName="RegexRaiderGame";const ji=i.memo(({score:s,timeElapsed:t,correctAnswers:a,totalLevels:r,onRestart:n})=>{const{updatePoints:o}=ge();i.useEffect(()=>{o(s)},[s,o]);const c=d=>{const l=Math.floor(d/60),x=d%60;return`${l}:${x.toString().padStart(2,"0")}`};return e.jsxs(u.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"p-6 bg-dark-800/50 border border-js/10 rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold text-js mb-6 text-center",children:"Koniec gry!"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[e.jsx(D,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Wynik końcowy"}),e.jsxs("div",{className:"text-lg font-bold text-js",children:[s," punktów"]})]})]}),e.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[e.jsx(q,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Rozwiązane zadania"}),e.jsxs("div",{className:"text-lg font-bold text-js",children:[a,"/",r]})]})]}),e.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[e.jsx(M,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Czas gry"}),e.jsx("div",{className:"text-lg font-bold text-js",children:c(t)})]})]})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:n,className:"px-6 py-3 bg-js text-dark font-medium rounded-lg hover:bg-js/90 transition-colors",children:"Zagraj ponownie"})})]})});ji.displayName="RegexRaiderSummary";const yi=i.memo(({isGameOver:s,gameStats:t,finalTime:a,onScoreUpdate:r,onLevelComplete:n,onGameOver:o,onRestart:c})=>{const{gameAnimation:d,summaryAnimation:l}=xi();return e.jsx(Q,{mode:"wait",children:s?e.jsx(u.div,{initial:l.initial,animate:l.animate,exit:l.exit,transition:l.transition,children:e.jsx(ji,{score:t.score,timeElapsed:a,correctAnswers:t.correctAnswers,totalLevels:t.totalLevels,onRestart:c})},"game-over"):e.jsx(u.div,{initial:d.initial,animate:d.animate,exit:d.exit,transition:d.transition,className:"w-full",children:e.jsx(hi,{onScoreUpdate:r,onLevelComplete:n,currentLevel:t.currentLevel,onGameOver:o})},`level-${t.currentLevel}`)})});yi.displayName="GameContent";const gi=i.memo(({isPaused:s=!1})=>{const{gameContent:t,isLoading:a,error:r}=Rc(),{containerAnimation:n}=xi(),{isGameStarted:o,isGameOver:c,finalTime:d,gameStats:l,handleScoreUpdate:x,handleLevelComplete:m,handleRestart:p,handleStartGame:h,handleGameOver:j}=$c({gameContent:t,isPaused:s});return e.jsx(ui,{isLoading:a,error:r,children:t&&e.jsx(e.Fragment,{children:o?e.jsxs(u.div,z(k({},n),{className:"w-full space-y-6",children:[e.jsx(B,{title:"Regex Raider",description:"Zagraj w Regex Raider - gra programistyczna, która pomoże Ci zrozumieć wyrażenia regularne w JavaScript.",type:"website"}),e.jsx(mi,{stats:l,isGameOver:c,finalTime:d}),e.jsx(yi,{isGameOver:c,gameStats:l,finalTime:d,onScoreUpdate:x,onLevelComplete:m,onGameOver:j,onRestart:p})]})):e.jsx(je,{gameContent:t,onStart:h})})})});gi.displayName="RegexRaider";const Fc=Object.freeze(Object.defineProperty({__proto__:null,default:gi},Symbol.toStringTag,{value:"Module"})),bi=()=>{const{data:s,isLoading:t,error:a}=ie();return{gameContent:i.useMemo(()=>{if(!(!s||!s.games||!Array.isArray(s.games)))return s.games.find(n=>n.slug==="js-quiz")},[s]),isLoading:t,error:a}},Dc=({gameContent:s,isPaused:t})=>{var C;const[a,r]=i.useState(!1),[n,o]=i.useState(!1),[c,d]=i.useState(0),[l,x]=i.useState({currentLevel:1,totalLevels:0,score:0,timeElapsed:0,maxTime:300,correctAnswers:0,categoryStats:{basics:{total:0,correct:0,points:0},advanced:{total:0,correct:0,points:0},frameworks:{total:0,correct:0,points:0}}}),{timeElapsed:m,resetTimer:p,startTimer:h,stopTimer:j}=ye({maxTime:s!=null&&s.estimatedTime?s.estimatedTime*60:300,onTimeEnd:()=>{o(!0),d(m),j()},isPaused:t});i.useEffect(()=>{x(w=>z(k({},w),{timeElapsed:m}))},[m]),i.useEffect(()=>{if(!(s!=null&&s.gameData))return;const w={basics:{total:0,correct:0,points:0},advanced:{total:0,correct:0,points:0},frameworks:{total:0,correct:0,points:0}};s.gameData.forEach(f=>{const y=f.category;y&&w[y]&&(w[y].total++,w[y].points+=f.points||0)}),x(f=>z(k({},f),{totalLevels:s.gameData.length,maxTime:s.estimatedTime?s.estimatedTime*60:300,categoryStats:w}))},[s]);const b=i.useCallback((w,f)=>{x(y=>z(k({},y),{score:y.score+w,correctAnswers:y.correctAnswers+1,categoryStats:z(k({},y.categoryStats),{[f]:y.categoryStats[f]?z(k({},y.categoryStats[f]),{correct:y.categoryStats[f].correct+1}):{total:0,correct:1,points:w}})}))},[]),g=i.useCallback(()=>{var f;const w=l.currentLevel+1;if(w>(((f=s==null?void 0:s.gameData)==null?void 0:f.length)||0)){o(!0),d(m),j();return}x(y=>z(k({},y),{currentLevel:w}))},[l.currentLevel,m,(C=s==null?void 0:s.gameData)==null?void 0:C.length,j]),N=i.useCallback(()=>{if(!(s!=null&&s.gameData))return;const w={basics:{total:0,correct:0,points:0},advanced:{total:0,correct:0,points:0},frameworks:{total:0,correct:0,points:0}};s.gameData.forEach(f=>{const y=f.category;y&&w[y]&&(w[y].total++,w[y].points+=f.points||0)}),x({currentLevel:1,totalLevels:s.gameData.length,score:0,timeElapsed:0,maxTime:s.estimatedTime?s.estimatedTime*60:300,correctAnswers:0,categoryStats:w}),o(!1),d(0),p(),h()},[p,h,s]),v=i.useCallback(()=>{r(!0),h()},[h]),T=i.useCallback(()=>{o(!0),d(m),j()},[m,j]);return{isGameStarted:a,isGameOver:n,finalTime:c,gameStats:l,currentChallenge:s!=null&&s.gameData?s.gameData[l.currentLevel-1]:void 0,handleScoreUpdate:b,handleLevelComplete:g,handleRestart:N,handleStartGame:v,handleGameOver:T}},Mc=({title:s,description:t,gameName:a="JS Quiz"}={})=>{const r=i.useMemo(()=>s||`${a} - Quiz JavaScript | CodeLinesJS`,[s,a]),n=i.useMemo(()=>t||`Sprawdź swoją wiedzę z JavaScript w quizie ${a}. Odpowiadaj na pytania i zdobywaj punkty za poprawne odpowiedzi.`,[t,a]);return{pageTitle:r,pageDescription:n}},fi=i.memo(({isLoading:s,error:t,children:a})=>s?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center",children:[e.jsx(u.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"text-4xl text-js mb-4",children:e.jsx(re,{})}),e.jsx("p",{className:"text-xl font-medium text-js/80",children:"Ładowanie gry..."})]}):t?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-6",children:[e.jsx(u.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-4xl text-red-400 mb-4",children:e.jsx(Z,{})}),e.jsx("h2",{className:"text-xl font-bold text-red-300 mb-2",children:"Wystąpił błąd"}),e.jsx("p",{className:"text-md text-red-200",children:t.message})]}):a?e.jsx(e.Fragment,{children:a}):e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx("p",{className:"text-lg text-js/80",children:"Gra niedostępna"})}));fi.displayName="LoadingErrorContainer";const wi=s=>{switch(s){case"basics":return R;case"advanced":return jn;case"frameworks":return hn;default:return R}},Ni=s=>{switch(s){case"basics":return"Podstawy JavaScript";case"advanced":return"Zaawansowany JS";case"frameworks":return"Frameworki JS"}},Bc=s=>{switch(s){case"easy":return"bg-green-500/20 text-green-400";case"medium":return"bg-yellow-500/20 text-yellow-400";case"hard":return"bg-red-500/20 text-red-400"}},Oc=s=>{switch(s){case"easy":return"Łatwy";case"medium":return"Średni";case"hard":return"Trudny"}},vi=i.memo(({currentLevel:s,totalLevels:t})=>{const a=s/t*100;return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex justify-between mb-1 text-sm text-gray-400",children:[e.jsxs("span",{children:["Pytanie ",s," z ",t]}),e.jsxs("span",{children:[Math.round(a),"%"]})]}),e.jsx("div",{className:"w-full h-2 bg-gray-700 rounded-full overflow-hidden",children:e.jsx(u.div,{className:"h-full bg-js",initial:{width:0},animate:{width:`${a}%`},transition:{duration:.5}})})]})});vi.displayName="JSQuizProgress";const Cs=()=>{const s=i.useMemo(()=>({initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5}}),[]),t=i.useMemo(()=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4}}),[]),a=i.useMemo(()=>({initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.4}}),[]),r=i.useMemo(()=>({initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},transition:{duration:.3}}),[]);return{containerAnimation:s,gameAnimation:t,summaryAnimation:a,optionAnimation:r}},ki=i.memo(({currentChallenge:s,onScoreUpdate:t,onLevelComplete:a,currentLevel:r,totalLevels:n,onGameOver:o})=>{const[c,d]=i.useState(null),[l,x]=i.useState(!1),[m,p]=i.useState(null),{optionAnimation:h}=Cs(),j=i.useCallback(N=>{d(N);const v=N===s.correct;p(v),x(!0),v?(t(s.points||10,s.category),setTimeout(()=>{a(),d(null),x(!1),p(null)},1500)):setTimeout(()=>{o()},2e3)},[s,t,a,o]),b=i.useCallback(N=>{!l&&N<s.options.length&&j(s.options[N])},[l,s.options,j]);_r({onNumber1:()=>b(0),onNumber2:()=>b(1),onNumber3:()=>b(2),onNumber4:()=>b(3),disabled:l});const g=wi(s.category)||R;return e.jsxs(u.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},className:"w-full space-y-6",children:[e.jsx(vi,{currentLevel:r,totalLevels:n}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-js/10",children:e.jsx(g,{className:"w-4 h-4 text-js"})}),e.jsx("div",{className:"text-sm text-gray-400",children:Ni(s.category)})]}),e.jsx("div",{className:`px-3 py-1 rounded-lg text-sm ${Bc(s.difficulty)}`,children:Oc(s.difficulty)})]}),e.jsx("div",{className:"p-6 bg-dark-800/50 border border-js/10 rounded-lg mb-6",children:e.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:s.question})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.options.map((N,v)=>e.jsxs(u.button,z(k({whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>j(N),disabled:l,className:`
              w-full
              relative p-4 rounded-lg font-medium text-left transition-colors
              ${c===N?m?"bg-green-500/20 border-green-500/30 text-green-400":"bg-red-500/20 border-red-500/30 text-red-400":"bg-dark-800/50 border border-js/10 text-gray-300 hover:border-js/30"}
            `},h),{transition:z(k({},h.transition),{delay:v*.1}),children:[e.jsx("span",{className:"absolute top-2 left-2 text-xs text-gray-500",children:v+1}),N]}),N))}),e.jsx("div",{className:"text-sm text-gray-500 text-center",children:"Użyj klawiszy numerycznych (1-4) aby wybrać odpowiedź"}),l&&e.jsx(u.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-4 rounded-lg ${m?"bg-green-500/20 border border-green-500/30":"bg-red-500/20 border border-red-500/30"}`,children:e.jsxs("p",{className:`text-sm ${m?"text-green-400":"text-red-400"}`,children:[m?"Świetnie! ":"Spróbuj jeszcze raz. ",s.explanation]})})]},r)});ki.displayName="JSQuizGame";const Si=i.memo(({score:s,timeElapsed:t,challenges:a,correctAnswers:r,categoryStats:n,onRestart:o})=>{const{updatePoints:c}=ge();i.useEffect(()=>{c(s)},[s,c]);const d=m=>{const p=Math.floor(m/60),h=m%60;return`${p}:${h<10?"0":""}${h}`},l=(m,p)=>p>0?Math.round(m/p*100):0,x=()=>n?Object.entries(n).filter(([m,p])=>p&&typeof p=="object").map(([m,p])=>{const h=wi(m),j=l(p.correct||0,p.total||0);return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-dark-800/50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(h,{className:"text-js"}),e.jsx("h3",{className:"text-lg font-medium",children:Ni(m)})]}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mb-1",children:[e.jsxs("span",{children:["Poprawne: ",p.correct||0,"/",p.total||0]}),e.jsxs("span",{children:[j,"%"]})]}),e.jsx("div",{className:"w-full h-2 bg-gray-700 rounded-full overflow-hidden",children:e.jsx(u.div,{className:"h-full bg-js",initial:{width:0},animate:{width:`${j}%`},transition:{duration:.5,delay:.5}})})]},m)}):null;return e.jsxs("div",{className:"w-full max-w-3xl mx-auto p-6",children:[e.jsxs(u.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-10",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Koniec Quizu!"}),e.jsxs("p",{className:"text-gray-400",children:["Ukończyłeś quiz z wynikiem ",s," punktów, odpowiadając poprawnie na ",r," z"," ",(a==null?void 0:a.length)||0," pytań."]})]}),e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"grid grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-dark-800/50 p-4 rounded-lg flex flex-col items-center justify-center",children:[e.jsx(q,{className:"text-3xl text-js mb-2"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Punkty"}),e.jsx("div",{className:"text-2xl font-bold",children:s})]}),e.jsxs("div",{className:"bg-dark-800/50 p-4 rounded-lg flex flex-col items-center justify-center",children:[e.jsx(G,{className:"text-3xl text-green-400 mb-2"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Poprawne odpowiedzi"}),e.jsxs("div",{className:"text-2xl font-bold",children:[r,"/",(a==null?void 0:a.length)||0]})]}),e.jsxs("div",{className:"bg-dark-800/50 p-4 rounded-lg flex flex-col items-center justify-center",children:[e.jsx(M,{className:"text-3xl text-js mb-2"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Całkowity czas"}),e.jsx("div",{className:"text-2xl font-bold",children:d(t)})]})]}),e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mb-8",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Wyniki według kategorii"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:x()})]}),e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"text-center",children:e.jsxs("button",{onClick:o,className:"bg-js/80 hover:bg-js text-dark px-6 py-3 rounded-lg font-medium flex items-center justify-center gap-2 mx-auto transition-colors",children:[e.jsx(js,{className:"text-dark"}),"Zagraj jeszcze raz"]})})]})});Si.displayName="JSQuizSummary";const zi=i.memo(({isGameOver:s,gameStats:t,currentChallenge:a,finalTime:r,gameContent:n,onScoreUpdate:o,onLevelComplete:c,onGameOver:d,onRestart:l})=>{const{gameAnimation:x,summaryAnimation:m}=Cs();return!a&&!s?e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsx("p",{className:"text-js",children:"Ładowanie pytania..."})}):e.jsx(Q,{mode:"wait",children:e.jsx("div",{className:"flex-1 overflow-y-auto py-6",children:s?e.jsx(u.div,{initial:m.initial,animate:m.animate,exit:m.exit,transition:m.transition,children:e.jsx(Si,{score:t.score,timeElapsed:r,challenges:(n==null?void 0:n.gameData)||[],correctAnswers:t.correctAnswers,categoryStats:t.categoryStats,onRestart:l})},"game-over"):e.jsx(u.div,{initial:x.initial,animate:x.animate,exit:x.exit,transition:x.transition,className:"w-full",children:a&&e.jsx(ki,{currentChallenge:a,onScoreUpdate:o,onLevelComplete:c,currentLevel:t.currentLevel,totalLevels:t.totalLevels,onGameOver:d})},`level-${t.currentLevel}`)})})});zi.displayName="GameContent";const Ti=i.memo(({stats:s,isGameOver:t,finalTime:a})=>{const r=o=>{const c=Math.floor(o/60),d=o%60;return`${c}:${d<10?"0":""}${d}`},n=t?a:s.timeElapsed;return e.jsx("div",{className:"w-full p-4 bg-dark-800/50 rounded-lg mb-4",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs(u.div,{className:"flex items-center gap-2 text-js",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsx(q,{className:"text-lg"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400",children:"Punkty"}),e.jsx("div",{className:"font-semibold",children:s.score})]})]}),e.jsxs(u.div,{className:"flex items-center gap-2 text-green-400",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.2},children:[e.jsx(G,{className:"text-lg"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400",children:"Poprawne"}),e.jsxs("div",{className:"font-semibold",children:[s.correctAnswers," / ",s.totalLevels]})]})]}),e.jsxs(u.div,{className:"flex items-center gap-2 text-js",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.3},children:[e.jsx(M,{className:"text-lg"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400",children:"Czas"}),e.jsx("div",{className:"font-semibold",children:r(n)})]})]})]})})});Ti.displayName="JSQuizStats";const ls=i.memo(({isGameStarted:s,isGameOver:t,gameStats:a,onGameStart:r})=>{const{gameContent:n}=bi();return s?e.jsx(Ti,{stats:a,isGameOver:t,finalTime:a.timeElapsed}):n?e.jsx(je,{gameContent:n,onStart:r}):e.jsxs("div",{className:"w-full p-6 text-center",children:[e.jsx("p",{className:"text-lg text-js/80",children:"Brak danych gry"}),e.jsx("button",{className:"mt-4 px-6 py-2 bg-js/80 hover:bg-js text-white rounded-md transition-colors",onClick:r,children:"Rozpocznij mimo to"})]})});ls.displayName="GameHeader";const Ci=i.memo(({isPaused:s=!1})=>{const{gameContent:t,isLoading:a,error:r}=bi(),{containerAnimation:n}=Cs(),{pageTitle:o,pageDescription:c}=Mc(),{isGameStarted:d,isGameOver:l,finalTime:x,gameStats:m,currentChallenge:p,handleScoreUpdate:h,handleLevelComplete:j,handleRestart:b,handleStartGame:g,handleGameOver:N}=Dc({gameContent:t,isPaused:s});return e.jsx(fi,{isLoading:a,error:r,children:t&&e.jsx(e.Fragment,{children:d?e.jsxs(u.div,z(k({},n),{className:"w-full h-full flex flex-col",children:[e.jsx(B,{title:o,description:c,type:"website"}),e.jsx(ls,{isGameStarted:d,isGameOver:l,gameStats:m,onGameStart:g}),e.jsx(zi,{isGameOver:l,gameStats:m,currentChallenge:p,finalTime:x,gameContent:t,onScoreUpdate:h,onLevelComplete:j,onGameOver:N,onRestart:b})]})):e.jsx(ls,{isGameStarted:d,isGameOver:l,gameStats:m,onGameStart:g})})})});Ci.displayName="JSQuiz";const _c=Object.freeze(Object.defineProperty({__proto__:null,default:Ci},Symbol.toStringTag,{value:"Module"})),Ic=()=>{const{data:s,isLoading:t,error:a}=ie();return{gameContent:i.useMemo(()=>{if(!(!s||!s.games||!Array.isArray(s.games)))return s.games.find(n=>n.slug==="method-quiz")},[s]),isLoading:t,error:a}},Li=i.memo(({isLoading:s,error:t,children:a})=>s?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center",children:[e.jsx(u.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"text-4xl text-js mb-4",children:e.jsx(re,{})}),e.jsx("p",{className:"text-xl font-medium text-js/80",children:"Ładowanie Method Quiz..."})]}):t?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-6",children:[e.jsx(u.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-4xl text-red-400 mb-4",children:e.jsx(Z,{})}),e.jsx("h2",{className:"text-xl font-bold text-red-300 mb-2",children:"Wystąpił błąd"}),e.jsx("p",{className:"text-md text-red-200",children:t.message})]}):a?e.jsx(e.Fragment,{children:a}):e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx("p",{className:"text-lg text-js/80",children:"Method Quiz niedostępny"})}));Li.displayName="LoadingErrorContainer";const Ls=()=>i.useMemo(()=>({containerAnimation:{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,ease:"easeOut"}},gameAnimation:{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3}},summaryAnimation:{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.4}},optionAnimation:{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2}}}),[]),Gc=()=>i.useMemo(()=>({pageTitle:"Method Quiz | CodeLinesJS",pageDescription:"Sprawdź swoją znajomość metod JavaScript! Uzupełnij brakujące metody w kodzie i zobacz jak dobrze znasz Array, String, Object i DOM methods."}),[]),Hc=({gameContent:s,isPaused:t})=>{var C;const[a,r]=i.useState(!1),[n,o]=i.useState(!1),[c,d]=i.useState(0),[l,x]=i.useState({currentLevel:1,totalLevels:0,score:0,timeElapsed:0,maxTime:300,correctAnswers:0,categoryStats:{"array-methods":{total:0,correct:0,points:0},"string-methods":{total:0,correct:0,points:0},"object-methods":{total:0,correct:0,points:0},"dom-methods":{total:0,correct:0,points:0}}}),{timeElapsed:m,resetTimer:p,startTimer:h,stopTimer:j}=ye({maxTime:s!=null&&s.estimatedTime?s.estimatedTime*60:300,onTimeEnd:()=>{o(!0),d(m),j()},isPaused:t});i.useEffect(()=>{x(w=>z(k({},w),{timeElapsed:m}))},[m]),i.useEffect(()=>{if(!(s!=null&&s.gameData))return;const w={"array-methods":{total:0,correct:0,points:0},"string-methods":{total:0,correct:0,points:0},"object-methods":{total:0,correct:0,points:0},"dom-methods":{total:0,correct:0,points:0}};s.gameData.forEach(f=>{const y=f.category;y&&w[y]&&(w[y].total++,w[y].points+=f.points||0)}),x(f=>z(k({},f),{totalLevels:s.gameData.length,maxTime:s.estimatedTime?s.estimatedTime*60:300,categoryStats:w}))},[s]);const b=i.useCallback((w,f)=>{x(y=>z(k({},y),{score:y.score+w,correctAnswers:y.correctAnswers+1,categoryStats:z(k({},y.categoryStats),{[f]:y.categoryStats[f]?z(k({},y.categoryStats[f]),{correct:y.categoryStats[f].correct+1}):{total:0,correct:1,points:w}})}))},[]),g=i.useCallback(()=>{var f;const w=l.currentLevel+1;if(w>(((f=s==null?void 0:s.gameData)==null?void 0:f.length)||0)){o(!0),d(m),j();return}x(y=>z(k({},y),{currentLevel:w}))},[l.currentLevel,m,(C=s==null?void 0:s.gameData)==null?void 0:C.length,j]),N=i.useCallback(()=>{if(!(s!=null&&s.gameData))return;const w={"array-methods":{total:0,correct:0,points:0},"string-methods":{total:0,correct:0,points:0},"object-methods":{total:0,correct:0,points:0},"dom-methods":{total:0,correct:0,points:0}};s.gameData.forEach(f=>{const y=f.category;y&&w[y]&&(w[y].total++,w[y].points+=f.points||0)}),x({currentLevel:1,totalLevels:s.gameData.length,score:0,timeElapsed:0,maxTime:s.estimatedTime?s.estimatedTime*60:300,correctAnswers:0,categoryStats:w}),o(!1),d(0),p(),h()},[p,h,s]),v=i.useCallback(()=>{r(!0),h()},[h]),T=i.useCallback(()=>{o(!0),d(m),j()},[m,j]);return{isGameStarted:a,isGameOver:n,finalTime:c,gameStats:l,currentChallenge:s!=null&&s.gameData?s.gameData[l.currentLevel-1]:void 0,handleScoreUpdate:b,handleLevelComplete:g,handleRestart:N,handleStartGame:v,handleGameOver:T}},Qc=({currentLevel:s,totalLevels:t})=>e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"text-sm text-gray-400",children:["Pytanie ",s," z ",t]}),e.jsx("div",{className:"w-48 bg-dark-700 rounded-full h-2",children:e.jsx("div",{className:"bg-js h-2 rounded-full transition-all duration-300",style:{width:`${s/t*100}%`}})})]}),Wc=s=>{switch(s){case"array-methods":return is;case"string-methods":return nt;case"object-methods":return Le;case"dom-methods":return ws;default:return R}},Uc=s=>{switch(s){case"array-methods":return"Array Methods";case"string-methods":return"String Methods";case"object-methods":return"Object Methods";case"dom-methods":return"DOM Methods";default:return"Methods"}},Vc=s=>{switch(s){case"easy":return"bg-green-500/20 text-green-400";case"medium":return"bg-yellow-500/20 text-yellow-400";case"hard":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-400"}},Jc=s=>{switch(s){case"easy":return"Łatwy";case"medium":return"Średni";case"hard":return"Trudny";default:return s}},Pi=i.memo(({currentChallenge:s,onScoreUpdate:t,onLevelComplete:a,currentLevel:r,totalLevels:n,onGameOver:o})=>{const[c,d]=i.useState(null),[l,x]=i.useState(!1),[m,p]=i.useState(null),{optionAnimation:h}=Ls(),j=i.useCallback(g=>{d(g);const N=g===s.correct;p(N),x(!0),N?(t(s.points||10,s.category),setTimeout(()=>{a(),d(null),x(!1),p(null)},2500)):setTimeout(()=>{o()},3e3)},[s,t,a,o]),b=Wc(s.category);return e.jsxs(u.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},className:"w-full space-y-6",children:[e.jsx(Qc,{currentLevel:r,totalLevels:n}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-js/10",children:e.jsx(b,{className:"w-4 h-4 text-js"})}),e.jsx("div",{className:"text-sm text-gray-400",children:Uc(s.category)})]}),e.jsx("div",{className:`px-3 py-1 rounded-lg text-sm ${Vc(s.difficulty)}`,children:Jc(s.difficulty)})]}),e.jsxs("div",{className:"p-6 bg-dark-900/80 border border-js/20 rounded-lg mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(R,{className:"text-js text-sm"}),e.jsx("span",{className:"text-sm text-gray-400",children:"Fragment kodu"})]}),e.jsx("pre",{className:"text-green-400 font-mono text-sm whitespace-pre-wrap overflow-x-auto",children:s.codeSnippet})]}),e.jsxs("div",{className:"p-4 bg-dark-800/50 border border-js/10 rounded-lg mb-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-white mb-2",children:["Jaka metoda powinna być w miejscu ",e.jsx("span",{className:"text-js font-mono",children:"___"}),"?"]}),s.hint&&e.jsxs("p",{className:"text-sm text-gray-400",children:["💡 Podpowiedź: ",s.hint]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.options.map((g,N)=>e.jsxs(u.button,z(k({whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>j(g),disabled:l,className:`
              w-full
              relative p-4 rounded-lg font-medium text-left transition-colors font-mono
              ${c===g?m?"bg-green-500/20 border-green-500/30 text-green-400":"bg-red-500/20 border-red-500/30 text-red-400":"bg-dark-800/50 border border-js/10 text-gray-300 hover:border-js/30"}
            `},h),{transition:z(k({},h.transition),{delay:N*.1}),children:[e.jsx("span",{className:"absolute top-2 left-2 text-xs text-gray-500 font-sans",children:String.fromCharCode(65+N)}),e.jsxs("div",{className:"pl-6",children:[g,"()"]})]}),g))}),e.jsx("div",{className:"text-sm text-gray-500 text-center",children:"Wybierz poprawną metodę JavaScript (A-D)"}),l&&e.jsxs(u.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-4 rounded-lg space-y-3 ${m?"bg-green-500/20 border border-green-500/30":"bg-red-500/20 border border-red-500/30"}`,children:[e.jsxs("p",{className:`text-sm font-medium ${m?"text-green-400":"text-red-400"}`,children:[m?"🎉 Świetnie!":"❌ Niepoprawne.",s.explanation]}),s.expectedOutput&&e.jsxs("div",{className:"p-3 bg-dark-900/50 rounded border border-js/10",children:[e.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Oczekiwany wynik:"}),e.jsx("code",{className:"text-green-400 font-mono text-sm",children:s.expectedOutput})]}),m&&e.jsxs("p",{className:"text-sm text-green-300",children:["+",s.points||10," punktów"]})]})]},r)});Pi.displayName="MethodQuizGame";const Kc=s=>{switch(s){case"array-methods":return is;case"string-methods":return nt;case"object-methods":return Le;case"dom-methods":return ws;default:return is}},Zc=s=>{switch(s){case"array-methods":return"Array Methods";case"string-methods":return"String Methods";case"object-methods":return"Object Methods";case"dom-methods":return"DOM Methods";default:return"Methods"}},Ei=i.memo(({score:s,timeElapsed:t,challenges:a,correctAnswers:r,categoryStats:n,onRestart:o})=>{const{updatePoints:c}=ge();i.useEffect(()=>{c(s)},[s,c]);const d=m=>{const p=Math.floor(m/60),h=m%60;return`${p}:${h<10?"0":""}${h}`},l=(m,p)=>p>0?Math.round(m/p*100):0,x=()=>n?Object.entries(n).filter(([m,p])=>p&&typeof p=="object").map(([m,p])=>{const h=Kc(m),j=l(p.correct||0,p.total||0);return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-dark-800/50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(h,{className:"text-js"}),e.jsx("h3",{className:"text-lg font-medium",children:Zc(m)})]}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mb-1",children:[e.jsxs("span",{children:["Poprawne: ",p.correct||0,"/",p.total||0]}),e.jsxs("span",{children:[j,"%"]})]}),e.jsx("div",{className:"w-full h-2 bg-gray-700 rounded-full overflow-hidden",children:e.jsx(u.div,{className:"h-full bg-js",initial:{width:0},animate:{width:`${j}%`},transition:{duration:.5,delay:.5}})})]},m)}):null;return e.jsxs("div",{className:"w-full max-w-3xl mx-auto p-6",children:[e.jsxs(u.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-10",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Koniec Method Quiz!"}),e.jsxs("p",{className:"text-gray-400",children:["Ukończyłeś quiz z wynikiem ",s," punktów, odpowiadając poprawnie na ",r," z"," ",(a==null?void 0:a.length)||0," pytań o metodach JavaScript."]})]}),e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"grid grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-dark-800/50 p-4 rounded-lg flex flex-col items-center justify-center",children:[e.jsx(q,{className:"text-3xl text-js mb-2"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Punkty"}),e.jsx("div",{className:"text-2xl font-bold",children:s})]}),e.jsxs("div",{className:"bg-dark-800/50 p-4 rounded-lg flex flex-col items-center justify-center",children:[e.jsx(G,{className:"text-3xl text-green-400 mb-2"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Poprawne odpowiedzi"}),e.jsxs("div",{className:"text-2xl font-bold",children:[r,"/",(a==null?void 0:a.length)||0]})]}),e.jsxs("div",{className:"bg-dark-800/50 p-4 rounded-lg flex flex-col items-center justify-center",children:[e.jsx(M,{className:"text-3xl text-js mb-2"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Całkowity czas"}),e.jsx("div",{className:"text-2xl font-bold",children:d(t)})]})]}),e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mb-8",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Wyniki według kategorii"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:x()})]}),e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"text-center",children:e.jsxs("button",{onClick:o,className:"bg-js/80 hover:bg-js text-dark px-6 py-3 rounded-lg font-medium flex items-center justify-center gap-2 mx-auto transition-colors",children:[e.jsx(js,{className:"text-dark"}),"Zagraj jeszcze raz"]})})]})});Ei.displayName="MethodQuizSummary";const Ai=i.memo(({isGameOver:s,gameStats:t,currentChallenge:a,finalTime:r,gameContent:n,onScoreUpdate:o,onLevelComplete:c,onGameOver:d,onRestart:l})=>{const{gameAnimation:x,summaryAnimation:m}=Ls();return!a&&!s?e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsx("p",{className:"text-js",children:"Ładowanie pytania..."})}):e.jsx(Q,{mode:"wait",children:e.jsx("div",{className:"flex-1 overflow-y-auto py-6",children:s?e.jsx(u.div,{initial:m.initial,animate:m.animate,exit:m.exit,transition:m.transition,children:e.jsx(Ei,{score:t.score,timeElapsed:r,challenges:(n==null?void 0:n.gameData)||[],correctAnswers:t.correctAnswers,categoryStats:t.categoryStats,onRestart:l})},"game-over"):e.jsx(u.div,{initial:x.initial,animate:x.animate,exit:x.exit,transition:x.transition,className:"w-full",children:a&&e.jsx(Pi,{currentChallenge:a,onScoreUpdate:o,onLevelComplete:c,currentLevel:t.currentLevel,totalLevels:t.totalLevels,onGameOver:d})},`level-${t.currentLevel}`)})})});Ai.displayName="GameContent";const Hs=({isGameStarted:s,onGameStart:t,gameStats:a})=>s?e.jsxs("div",{className:"flex items-center justify-between p-4 bg-dark-800/50 border-b border-js/10",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Method Quiz"}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[e.jsxs("span",{children:["Poziom: ",a.currentLevel,"/",a.totalLevels]}),e.jsxs("span",{children:["Punkty: ",a.score]})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] p-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Method Quiz"}),e.jsx("p",{className:"text-gray-400 text-center mb-8 max-w-md",children:"Sprawdź swoją znajomość metod JavaScript! Uzupełnij brakujące metody w fragmentach kodu."}),e.jsx("button",{onClick:t,className:"bg-js hover:bg-js/80 text-dark px-8 py-3 rounded-lg font-medium text-lg transition-colors",children:"Rozpocznij Quiz"})]}),Ri=i.memo(({isPaused:s=!1})=>{const{gameContent:t,isLoading:a,error:r}=Ic(),{containerAnimation:n}=Ls(),{pageTitle:o,pageDescription:c}=Gc(),{isGameStarted:d,isGameOver:l,finalTime:x,gameStats:m,currentChallenge:p,handleScoreUpdate:h,handleLevelComplete:j,handleRestart:b,handleStartGame:g,handleGameOver:N}=Hc({gameContent:t,isPaused:s});return e.jsx(Li,{isLoading:a,error:r,children:t&&e.jsx(e.Fragment,{children:d?e.jsxs(u.div,z(k({},n),{className:"w-full h-full flex flex-col",children:[e.jsx(B,{title:o,description:c,type:"website"}),e.jsx(Hs,{isGameStarted:d,isGameOver:l,gameStats:m,onGameStart:g}),e.jsx(Ai,{isGameOver:l,gameStats:m,currentChallenge:p,finalTime:x,gameContent:t,onScoreUpdate:h,onLevelComplete:j,onGameOver:N,onRestart:b})]})):e.jsx(Hs,{isGameStarted:d,isGameOver:l,gameStats:m,onGameStart:g})})})});Ri.displayName="MethodQuiz";const qc=Object.freeze(Object.defineProperty({__proto__:null,default:Ri},Symbol.toStringTag,{value:"Module"}));export{od as C,Wn as D,ud as G,dd as L,jd as R,cd as S,Xn as T,ne as _,ld as a,md as b,xd as c,pd as d,hd as e,Gn as u};
