const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/app-components-KQM4Im83.js","assets/vendor-react-DZE_uCEP.js","assets/vendor-other-DT6kVT6s.js","assets/vendor-monaco-C9aCaKYu.js","assets/vendor-framer-motion-D6A4MpK3.js","assets/app-auth-C-f-JYae.js","assets/app-services-CCT-xyXY.js"])))=>i.map(i=>d[i]);
var Vi=Object.defineProperty,Zi=Object.defineProperties;var Ki=Object.getOwnPropertyDescriptors;var Ds=Object.getOwnPropertySymbols;var qi=Object.prototype.hasOwnProperty,Xi=Object.prototype.propertyIsEnumerable;var Fs=(s,t,a)=>t in s?Vi(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,S=(s,t)=>{for(var a in t||(t={}))qi.call(t,a)&&Fs(s,a,t[a]);if(Ds)for(var a of Ds(t))Xi.call(t,a)&&Fs(s,a,t[a]);return s},z=(s,t)=>Zi(s,Ki(t));var k=(s,t,a)=>new Promise((r,n)=>{var o=l=>{try{d(a.next(l))}catch(u){n(u)}},c=l=>{try{d(a.throw(l))}catch(u){n(u)}},d=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,c);d((a=a.apply(s,t)).next())});import{r as i,P as He,j as e,Q as Ms,H as te,R as Yi,S as Os,w as A,p as en,T as sn,o as hs,v as Te,A as js,U as Vs,V as Zs,u as je,W as Ks,C as V,X as ye,Y as ce,Z as ys,q as tn,z as q,L as Le,_ as an,$ as qs,M,a0 as gs,a1 as Xs,a2 as ie,g as K,f as Ys,l as G,a3 as F,b as se,a4 as et,a5 as Ge,a6 as bs,a7 as rn,a8 as st,a9 as tt,aa as ue,ab as nn,x as fs,ac as We,ad as on,i as de,ae as ln,af as ws,m as Ue,ag as Ns,ah as vs,ai as at,c as cn,d as dn,aj as ks,ak as mn,al as xn,am as ne,an as rt,ao as it,ap as P,aq as nt,ar as un,h as Ss,N as ot,e as lt,as as zs,a as Qe,F as pn,at as Cs,au as hn,av as jn,aw as ct,ax as dt,ay as yn,az as gn,aA as bn,aB as fn,aC as wn,aD as Nn,aE as vn,aF as Ts,aG as Pe,aH as kn,aI as Sn,aJ as zn,aK as Cn,aL as Tn,aM as Ln,aN as Pn,aO as En,aP as mt,aQ as cs}from"./vendor-react-DZE_uCEP.js";import{L as ds,u as xt,M as An,d as Je,e as I,f as $n,g as Rn,a as he,B as ze}from"./app-components-KQM4Im83.js";import{u as _,A as $}from"./app-auth-C-f-JYae.js";import{m as x,A as W,u as Dn}from"./vendor-framer-motion-D6A4MpK3.js";import{f as ut,p as pt,z as O,t as Ve,a as ms}from"./vendor-other-DT6kVT6s.js";import{R as Fn,L as Mn,C as On,X as _n,Y as Bn,T as In,a as Hn}from"./vendor-charts-BQN0K2I5.js";import{h as X}from"./app-services-CCT-xyXY.js";import{l as Gn}from"./vendor-monaco-C9aCaKYu.js";const Wn="modulepreload",Un=function(s){return"/"+s},_s={},ee=function(t,a,r){let n=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));n=Promise.allSettled(a.map(l=>{if(l=Un(l),l in _s)return;_s[l]=!0;const u=l.endsWith(".css"),m=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${m}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":Wn,u||(p.as="script"),p.crossOrigin="",p.href=l,d&&p.setAttribute("nonce",d),document.head.appendChild(p),u)return new Promise((h,j)=>{p.addEventListener("load",h),p.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return n.then(c=>{for(const d of c||[])d.status==="rejected"&&o(d.reason);return t().catch(o)})},Qn={activeView:"community"},Jn=(s,t)=>{switch(t.type){case"SET_ACTIVE_VIEW":return z(S({},s),{activeView:t.payload});default:return s}},Vn=()=>{const[s,t]=i.useReducer(Jn,Qn),a=i.useCallback(r=>{t({type:"SET_ACTIVE_VIEW",payload:r})},[]);return{state:s,setActiveView:a}},ht=i.memo(()=>{const t=He().pathname,a=t==="/dashboard/community"||t==="/dashboard/community/"||/^\/dashboard\/community\/?$/.test(t),r=t.includes("/dashboard/community/ranking");return e.jsxs("div",{className:"flex gap-4 mb-8 pb-2",children:[e.jsxs(Ms,{to:"/dashboard/community",className:`flex items-center gap-2 px-6 py-3 font-semibold rounded-lg transition-all ${a?"bg-js/10 text-js border-b-2 border-js shadow-md":"text-gray-400 hover:text-js hover:bg-js/5"}`,children:[e.jsx("i",{className:"fas fa-newspaper"}),"Aktualności"]}),e.jsxs(Ms,{to:"/dashboard/community/ranking",className:`flex items-center gap-2 px-6 py-3 font-semibold rounded-lg transition-all ${r?"bg-js/10 text-js border-b-2 border-js shadow-md":"text-gray-400 hover:text-js hover:bg-js/5"}`,children:[e.jsx("i",{className:"fas fa-trophy"}),"Ranking"]})]})});ht.displayName="CommunityNavigation";const Zn=i.lazy(()=>ee(()=>Promise.resolve().then(()=>zc),void 0)),Kn=i.lazy(()=>ee(()=>Promise.resolve().then(()=>Lc),void 0)),jt=i.memo(()=>{const s=He(),{state:{activeView:t},setActiveView:a}=Vn();return i.useEffect(()=>{const r=s.pathname.split("community").pop()||"community";r!==t&&a(r)},[s.pathname,t,a]),e.jsxs("div",{className:"p-8 w-full min-h-screen bg-dark/50 backdrop-blur-sm",children:[e.jsxs(te,{children:[e.jsx("title",{children:"Community | CodeLinesJS"}),e.jsx("meta",{name:"description",content:"Community CodeLinesJS - dołącz do nas i rozwijaj swoje umiejętności w przyjaznym środowisku."})]}),e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"bg-dark/30 backdrop-blur-sm rounded-xl border border-js/10 p-6 shadow-lg",children:[e.jsx(ht,{}),e.jsxs(Yi,{children:[e.jsx(Os,{index:!0,element:e.jsx(i.Suspense,{fallback:e.jsx(ds,{text:"Ładowanie aktualności..."}),children:e.jsx(Zn,{})})}),e.jsx(Os,{path:"ranking",element:e.jsx(i.Suspense,{fallback:e.jsx(ds,{text:"Ładowanie rankingu..."}),children:e.jsx(Kn,{})})})]})]})})]})});jt.displayName="CommunitySection";const Sd=Object.freeze(Object.defineProperty({__proto__:null,CommunitySection:jt},Symbol.toStringTag,{value:"Module"})),qn=()=>{const[s,t]=i.useState(!1),[a,r]=i.useState("dashboard"),n=He();return i.useEffect(()=>{const c=n.pathname.split("/").pop()||"dashboard";r(c)},[n]),i.useEffect(()=>{const o=()=>{window.innerWidth<768&&t(!1)};return window.addEventListener("resize",o),o(),()=>window.removeEventListener("resize",o)},[]),{isExpanded:s,setIsExpanded:t,activeItem:a,setActiveItem:r}},Xn={expanded:{width:"240px",transition:{type:"spring",stiffness:300,damping:30}},collapsed:{width:"100px",transition:{type:"spring",stiffness:300,damping:30}}},Ls={expanded:{opacity:1,x:0,transition:{type:"spring",stiffness:300,damping:30}},collapsed:{opacity:0,x:-10,transition:{duration:.2}}},yt=i.memo(({isExpanded:s})=>e.jsx("div",{className:"px-4 mb-8",children:e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 min-w-[40px] rounded-xl bg-js/20 flex items-center justify-center",children:e.jsx(A,{className:"text-xl text-js"})}),e.jsx(W,{mode:"wait",children:s&&e.jsx(x.span,{variants:Ls,initial:"collapsed",animate:"expanded",exit:"collapsed",className:"font-bold text-js font-space",children:"CodeLinesJS"})})]})}));yt.displayName="NavigationLogo";const Ps=i.memo(({icon:s,label:t,isActive:a=!1,isExpanded:r,onClick:n,variant:o="default",id:c})=>e.jsxs(x.button,{onClick:n,"data-testid":`nav-button-${t==null?void 0:t.toLowerCase().replace(/\s/g,"-")}`,className:`
      ${c==="code"&&"hidden lg:flex"}
      w-full flex items-center gap-3 px-4 py-3 
      rounded-lg transition-all duration-200
      backdrop-blur-sm
      ${o==="default"?a?"bg-js/20 border-l-2 border-js text-js":"text-gray-400 hover:text-js hover:bg-js/10":a?"bg-red-500/20 text-red-400":"text-red-400 hover:bg-red-500/10"}
    `,whileHover:{scale:1.02,x:5},whileTap:{scale:.98},children:[e.jsx(x.span,{className:"text-xl min-w-[24px]",whileHover:{rotate:10},style:{color:"currentColor"},children:s}),e.jsx(W,{mode:"wait",children:r&&t&&e.jsx(x.span,{variants:Ls,initial:"collapsed",animate:"expanded",exit:"collapsed",className:"font-medium font-space whitespace-nowrap",style:{color:"currentColor"},children:t})})]}));Ps.displayName="NavigationButton";const gt=i.memo(({title:s,items:t,isExpanded:a,activeItem:r,onItemClick:n,index:o,isLastSection:c})=>e.jsxs(x.div,{className:"space-y-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.1},children:[a&&e.jsx(x.h2,{variants:Ls,initial:"collapsed",animate:"expanded",exit:"collapsed",className:"text-xs font-bold text-js/60 uppercase tracking-wider px-3 mb-2",children:s}),t.map(d=>e.jsx(Ps,{id:d.id,icon:d.icon,label:d.label,isActive:r===d.id,isExpanded:a,onClick:()=>n(d)},d.id)),!c&&e.jsx("div",{className:"mx-3 my-4",children:e.jsx("div",{className:"border-t border-js/5"})})]},s));gt.displayName="NavigationSection";const Z="/dashboard",Yn=[`${Z}/community`,`${Z}/community/ranking`,`${Z}/community/groups`,`${Z}/learn`,`${Z}/play`,`${Z}/play/regex-raider`,`${Z}/play/async-quest`,`${Z}/play/js-typo-hunter`,`${Z}/play/scope-explorer`,`${Z}/settings`],bt=()=>{const s=He();return i.useMemo(()=>{const t=s.pathname,a=Yn.includes(t),r=t.startsWith(`${Z}/learn/lesson/`);return a||r},[s.pathname])},eo=[{id:"dashboard",label:"Dashboard",icon:e.jsx(en,{}),section:"main",path:"/dashboard"},{id:"stats",label:"Statystyki",icon:e.jsx(sn,{}),section:"main",path:"/dashboard/stats"},{id:"play",label:"Graj",icon:e.jsx(hs,{}),section:"game",path:"/dashboard/play"},{id:"learn",label:"Nauka",icon:e.jsx(Te,{}),section:"game",path:"/dashboard/learn"},{id:"code",label:"Edytor",icon:e.jsx(A,{}),section:"game",path:"/dashboard/code"},{id:"community",label:"Społeczność",icon:e.jsx(js,{}),section:"social",path:"/dashboard/community"},{id:"settings",label:"Ustawienia",icon:e.jsx(Vs,{}),section:"social",path:"/dashboard/settings"},{id:"report",label:"Zgłoś błąd",icon:e.jsx(Zs,{}),section:"social",path:"/dashboard/report"}],so={main:"Główne",game:"Nauka",social:"Społeczność"},ft=i.memo(()=>{const s=je(),{isExpanded:t,setIsExpanded:a,activeItem:r,setActiveItem:n}=qn(),{logout:o}=_(),c=bt(),d=xt(),l=i.useCallback(h=>{n(h.id),h.path&&s(h.path)},[s,n]),u=i.useCallback(()=>{a(h=>!h)},[a]),m=i.useMemo(()=>Object.entries(eo.reduce((h,j)=>(h[j.section]||(h[j.section]=[]),h[j.section].push(j),h),{})),[]),p=i.useMemo(()=>c||d?"hidden md:flex":"",[c,d]);return c&&window.innerWidth<An?null:e.jsx(Je,{children:e.jsxs(x.nav,{initial:"collapsed",animate:t?"expanded":"collapsed",variants:Xn,className:`${p} fixed left-0 top-0 bg-gradient-to-b from-dark via-dark-medium to-dark backdrop-blur-lg border-r border-js/10 flex flex-col py-6 z-40 shadow-xl shadow-black/10 h-full`,"aria-label":"Menu nawigacyjne",children:[e.jsx(yt,{isExpanded:t}),e.jsx(x.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:u,className:"absolute -right-3 top-8 w-6 h-6 bg-js rounded-full flex items-center justify-center hover:opacity-90 transition-all shadow-lg shadow-js/20","aria-label":t?"Zwiń menu":"Rozwiń menu",children:e.jsx(x.span,{animate:{rotate:t?180:0},className:"text-dark text-sm font-bold",initial:"collapsed","aria-hidden":"true",children:"→"})}),e.jsx("div",{className:"overflow-x-hidden flex-1 px-3 space-y-6",children:e.jsx(W,{mode:"sync",children:m.map(([h,j],w)=>e.jsx(gt,{title:so[h]||h,items:j,isExpanded:t,activeItem:r,onItemClick:l,index:w,isLastSection:w===m.length-1},h))})}),e.jsx("div",{className:"pt-4 border-t border-js/10",children:e.jsx(Ps,{id:"logout",icon:e.jsx(Ks,{"aria-hidden":"true"}),label:"Wyloguj się",isExpanded:t,onClick:o,variant:"danger"})})]})})});ft.displayName="DashboardNavigation";const wt=i.memo(({username:s})=>e.jsx(x.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center gap-4",children:e.jsxs("div",{children:[e.jsxs("h2",{className:"text-js font-bold text-xl",children:["Witaj, ",s,"! 👋"]}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Miło Cię znów widzieć"})]})}));wt.displayName="WelcomeSection";const to=()=>k(void 0,null,function*(){const s=yield fetch(`${$}users/stats`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!s.ok){if(s.status===401)throw new Error("Brak autoryzacji - zaloguj się ponownie");const t=yield s.json();throw new Error(t.message||"Błąd podczas pobierania danych")}return s.json()}),Ze=()=>{const{isAuthenticated:s}=_();return V({queryKey:["userProgress"],queryFn:()=>to(),enabled:s,staleTime:1e3*60*5,refetchInterval:1e3*60,retry:(t,a)=>t<2&&!a.message.includes("autoryzacji")})},D={dropdown:{container:`
      absolute right-0 top-12 w-80 bg-dark/95 rounded-xl 
      border border-js/10 shadow-xl backdrop-blur-sm z-[2147483647]
    `,header:{wrapper:"flex justify-between items-center mb-4 p-4",title:"text-xl font-bold text-js",badge:"px-2 py-1 text-xs bg-js/20 text-js rounded-full"},content:{wrapper:"space-y-2 max-h-[400px] overflow-y-auto custom-scrollbar p-4",loading:"py-8 text-center text-gray-400",empty:"py-8 text-center text-gray-400",item:{wrapper:`
          p-3 rounded-lg bg-dark/50 hover:bg-dark/70
          border border-js/10 hover:border-js/20
          cursor-pointer transition-all duration-200
        `,content:"flex items-start gap-3",icon:"mt-1",text:{wrapper:"flex-1",message:"text-white",time:"text-sm text-gray-400 mt-1"}}}},button:{wrapper:"hidden xl:block relative",base:`
      relative p-2 rounded-lg
      hover:bg-js/5 transition-colors duration-200
    `,active:"bg-dark/50",icon:{base:"w-5 h-5",active:"text-js",inactive:"text-gray-400"},badge:`
      absolute -top-1 -right-1 bg-red-500 text-white 
      rounded-full min-w-[18px] h-[18px] text-xs 
      flex items-center justify-center px-1 font-medium
    `}},ao=()=>{const{token:s}=_(),t=ye();return{markAsRead:ce({mutationFn:r=>k(void 0,null,function*(){const n=yield fetch(`${$}/dashboard/notifications/${r}/read`,{method:"PATCH",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});if(!n.ok)throw new Error("Nie udało się oznaczyć jako przeczytane");return n.json()}),onSuccess:()=>{t.invalidateQueries({queryKey:["dashboard"]})}})}},ro=s=>{try{const t=s instanceof Date?s:new Date(s);return isNaN(t.getTime())?"Nieprawidłowa data":ut(t,"dd MMM, HH:mm",{locale:pt})}catch(t){return console.error("Error formatting date:",t),"Nieprawidłowa data"}},io=s=>{switch(s){case"challenge":return e.jsx(q,{className:"text-yellow-500"});case"achievement":return e.jsx(tn,{className:"text-green-500"});case"social":return e.jsx(js,{className:"text-blue-500"});default:return e.jsx(ys,{className:"text-gray-400"})}},Nt=i.memo(({notification:s,onRead:t})=>e.jsx(x.div,{className:`
      ${D.dropdown.content.item.wrapper}
      ${s.read?"opacity-60":""}
    `,whileHover:{x:5},onClick:()=>!s.read&&t(s._id),children:e.jsxs("div",{className:D.dropdown.content.item.content,children:[e.jsx("div",{className:D.dropdown.content.item.icon,children:io(s.type)}),e.jsxs("div",{className:D.dropdown.content.item.text.wrapper,children:[e.jsx("p",{className:D.dropdown.content.item.text.message,children:s.message}),e.jsx("span",{className:D.dropdown.content.item.text.time,children:ro(s.createdAt)})]})]})}));Nt.displayName="NotificationItem";const vt=i.memo(({unreadCount:s})=>e.jsxs("div",{className:D.dropdown.header.wrapper,children:[e.jsx("h3",{className:D.dropdown.header.title,children:"Powiadomienia"}),s>0&&e.jsxs("span",{className:D.dropdown.header.badge,children:[s," nowe"]})]}));vt.displayName="NotificationsHeader";const kt=i.memo(({onClose:s})=>{var n,o;const{data:t,isLoading:a}=Ze(),{markAsRead:r}=ao();return i.useEffect(()=>{const c=d=>{d.key==="Escape"&&s()};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[s]),e.jsxs(x.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:D.dropdown.container,onClick:c=>c.stopPropagation(),children:[e.jsx(vt,{unreadCount:(n=t==null?void 0:t.unreadCount)!=null?n:0}),a?e.jsx("div",{className:D.dropdown.content.loading,children:"Ładowanie powiadomień..."}):(o=t==null?void 0:t.notifications)!=null&&o.length?e.jsx("div",{className:D.dropdown.content.wrapper,children:t.notifications.map(c=>e.jsx(Nt,{notification:c,onRead:d=>r.mutate(d)},c._id))}):e.jsx("div",{className:D.dropdown.content.empty,children:"Brak nowych powiadomień"})]})});kt.displayName="NotificationsDropdown";const St=i.memo(()=>{var c;const[s,t]=i.useState(!1),{data:a}=Ze(),r=(c=a==null?void 0:a.unreadCount)!=null?c:0,n=i.useCallback(()=>t(!1),[]),o=i.useCallback(d=>{d.stopPropagation(),t(l=>!l)},[]);return e.jsxs("div",{className:D.button.wrapper,children:[e.jsxs(x.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:o,className:`${D.button.base} ${s?D.button.active:""}`,children:[e.jsx(ys,{className:`
          ${D.button.icon.base}
          ${s?D.button.icon.active:D.button.icon.inactive}
        `}),e.jsx(W,{children:r>0&&e.jsx(x.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:D.button.badge,children:r>9?"9+":r})})]}),e.jsx(W,{children:s&&e.jsx(kt,{onClose:n})})]})});St.displayName="NotificationsButton";const ts={container:`
    w-[90%]
    xl:w-full
    flex justify-between items-center
    xl:block
    mt-5
    pb-2
    bg-dark/50 backdrop-blur-sm
    border-b border-js/10 
    fixed top-0
    md:top-4 right-0
    h-14
    z-[0]
    rounded-lg mx-4
  `,content:`
    h-full
    ml-32
    sm:ml-auto
    flex justify-between items-center
    max-w-[1000px]
    mx-auto
    relative
  `,actions:"flex items-center gap-3 absolute right-6",gradients:{text:"bg-gradient-to-r from-js to-js/80 bg-clip-text text-transparent",hover:"hover:bg-js/5",base:"bg-gradient-to-br from-js/5 to-js/10"},borders:{base:"border-js/20",hover:"hover:border-js/30"},transitions:{base:"transition-all duration-200"},text:{heading:"text-lg font-bold text-js",primary:"text-white",secondary:"text-gray-400"}},no=()=>i.useMemo(()=>({container:{initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{duration:.3,ease:"easeOut"}}}}),[]),oo=()=>k(void 0,null,function*(){const s=yield fetch(`${$}users/profile`,{headers:{"Content-Type":"application/json"},credentials:"include"});if(!s.ok)throw new Error("Nie udało się pobrać danych użytkownika");return s.json()}),lo=["userProfile"],co=()=>{const{isAuthenticated:s}=_();return V({queryKey:lo,queryFn:()=>oo(),enabled:s})},zt=i.memo(()=>{const s=no(),{data:t,isLoading:a,error:r}=co(),n=i.useMemo(()=>r?"Użytkowniku":a?"Ładowanie...":(t==null?void 0:t.data.user.username)||"Użytkowniku",[t==null?void 0:t.data.user.username,a,r]);return a?e.jsx("nav",{className:"w-full flex items-center justify-center min-h-[60px] bg-dark",children:e.jsx("div",{className:"w-8 h-8",children:e.jsx(I,{})})}):e.jsx(Je,{children:e.jsx(x.nav,{variants:s.container,initial:"initial",animate:"animate",className:ts.container,"aria-label":"Górna nawigacja",children:e.jsxs("div",{className:ts.content,children:[e.jsx(wt,{username:n}),e.jsx("div",{className:ts.actions,children:e.jsx(i.Suspense,{fallback:e.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-700 animate-pulse"}),children:e.jsx(St,{})})})]})})})});zt.displayName="TopNavigation";const mo=i.lazy(()=>ee(()=>import("./app-components-KQM4Im83.js").then(s=>s.D),__vite__mapDeps([0,1,2,3,4,5,6]))),xo=i.lazy(()=>ee(()=>import("./app-components-KQM4Im83.js").then(s=>s.p),__vite__mapDeps([0,1,2,3,4,5,6])).then(s=>({default:s.LoadingSpinner}))),Ct=i.memo(()=>{const s=bt(),t=xt(),{logout:a}=_(),{isLoading:r}=Ze();return r?e.jsx(I,{}):e.jsx(Je,{fallback:e.jsx(i.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Ładowanie..."}),children:e.jsx(mo,{})}),children:e.jsxs("main",{className:"bg-gradient-to-b from-dark via-dark-medium to-dark backdrop-blur-lg flex min-h-screen",children:[e.jsxs(te,{children:[e.jsx("title",{children:"Dashboard | CodeLinesJS"}),e.jsx("meta",{name:"description",content:"Panel użytkownika CodeLinesJS - dostęp do kursów, gier i statystyk nauki."})]}),e.jsx(ft,{}),e.jsxs("div",{className:`flex-1 ${!s&&!t?"ml-[100px]":""} md:ml-[100px]`,children:[e.jsx(zt,{}),e.jsx("div",{className:"mt-20 p-6",children:e.jsxs("div",{className:`${s||t?"flex":""} flex-col justify-center items-center gap-4 md:block`,children:[s||t?e.jsxs("div",{className:"flex flex-col gap-2 mb-4 md:hidden",children:[e.jsx(Le,{to:"/dashboard",children:e.jsx("button",{"aria-label":"Wróć do strony głównej",className:"bg-js text-dark px-4 py-2 rounded-md w-full flex items-center justify-center",children:"Wróć do Home"})}),e.jsxs("button",{onClick:a,"aria-label":"Wyloguj się",className:"bg-red-600 text-white px-4 py-2 rounded-md flex items-center justify-center gap-2",children:[e.jsx(Ks,{"aria-hidden":"true"}),"Wyloguj się"]})]}):null,e.jsx(i.Suspense,{fallback:e.jsx(xo,{text:"Ładowanie zawartości..."}),children:e.jsx(an,{})})]})})]})]})})});Ct.displayName="Dashboard";const zd=Object.freeze(Object.defineProperty({__proto__:null,default:Ct},Symbol.toStringTag,{value:"Module"})),ve={text:{heading:"font-bold text-js"},grid:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",card:{base:"bg-dark/50 backdrop-blur-sm border border-js/10 shadow-xl",community:`
      col-span-1 md:col-span-2 lg:col-span-1
      order-2 lg:order-1
    `,game:`
      col-span-1 md:col-span-2 lg:col-span-1
      order-1 lg:order-2
    `,stats:`
      col-span-1 md:col-span-2 lg:col-span-1
      order-3
    `}},R={container:"bg-dark/50 backdrop-blur-sm rounded-xl border border-js/10 p-6",header:{wrapper:"flex justify-between items-center mb-6",title:"text-xl font-bold text-js flex items-center gap-2",icon:"w-5 h-5"},content:{wrapper:"space-y-6",description:"text-gray-400 text-sm leading-relaxed",button:{wrapper:"flex justify-center",base:"px-6 py-3 bg-js text-dark font-medium rounded-lg transition-all duration-200",hover:"hover:bg-js/90 hover:shadow-lg hover:shadow-js/20",active:"active:scale-95"}}},Tt=()=>i.useMemo(()=>({container:{hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}}},button:{hover:{scale:1.05},tap:{scale:.95}}}),[]),Lt=i.memo(()=>{const s=je(),t=Tt(),a=()=>{s("/dashboard/learn")};return e.jsxs(x.div,{variants:t.container,initial:"hidden",animate:"show",className:R.container,children:[e.jsx("div",{className:R.header.wrapper,children:e.jsxs("h2",{className:R.header.title,children:[e.jsx(Te,{className:R.header.icon}),"Nauka"]})}),e.jsxs("div",{className:R.content.wrapper,children:[e.jsx("p",{className:R.content.description,children:"Sprawdź najnowsze informacje i aktualności związane z nauką."}),e.jsx("div",{className:R.content.button.wrapper,children:e.jsx(x.button,{onClick:a,whileHover:"hover",whileTap:"tap",variants:t.button,className:`
              ${R.content.button.base}
              ${R.content.button.hover}
              ${R.content.button.active}
            `,children:"Sprawdź aktualności"})})]})]})});Lt.displayName="CommunityBlock";const Pt=i.memo(()=>{const s=je(),t=Tt(),a=()=>{s("/dashboard/play")};return e.jsxs(x.div,{variants:t.container,initial:"hidden",animate:"show",className:R.container,children:[e.jsx("div",{className:R.header.wrapper,children:e.jsxs("h2",{className:R.header.title,children:[e.jsx(hs,{className:R.header.icon}),"Tryb Gry"]})}),e.jsxs("div",{className:R.content.wrapper,children:[e.jsx("p",{className:R.content.description,children:"Rozpocznij nową sesję gry, rozwiązuj wyzwania i zdobywaj punkty. Sprawdź swoje umiejętności w praktyce!"}),e.jsx("div",{className:R.content.button.wrapper,children:e.jsx(x.button,{onClick:a,whileHover:"hover",whileTap:"tap",variants:t.button,className:`
              ${R.content.button.base}
              ${R.content.button.hover}
              ${R.content.button.active}
            `,children:"Rozpocznij Grę"})})]})]})});Pt.displayName="GameBlock";const le={container:"bg-dark/50 backdrop-blur-sm rounded-xl border border-js/10 p-6",header:{wrapper:"flex justify-between items-center mb-4",title:"text-xl font-bold text-js",refreshButton:"p-2 text-js hover:text-js/80 transition-colors cursor-pointer"},stats:{grid:"grid grid-cols-1 sm:grid-cols-2 gap-4",item:{wrapper:"flex items-center gap-4 p-4 bg-dark/30 rounded-lg",icon:"text-2xl text-js",content:{wrapper:"flex flex-col",label:"text-sm text-gray-400",value:"text-xl font-bold text-js"}}},lastActive:"text-sm text-gray-400 mt-4"},uo=()=>i.useCallback(s=>{try{if(!s)return"Brak danych";const t=new Date(s);return isNaN(t.getTime())?"Nieprawidłowa data":ut(t,"dd MMM, HH:mm",{locale:pt})}catch(t){return console.error("Error formatting date:",t),"Nieprawidłowa data"}},[]),Oe=i.memo(({icon:s,label:t,value:a})=>e.jsxs("div",{className:le.stats.item.wrapper,children:[e.jsx("div",{className:le.stats.item.icon,children:s}),e.jsxs("div",{className:le.stats.item.content.wrapper,children:[e.jsx("p",{className:le.stats.item.content.label,children:t}),e.jsx("p",{className:le.stats.item.content.value,children:a})]})]}));Oe.displayName="StatItem";const Et=i.memo(({stats:s})=>{const t=uo();return e.jsxs("div",{className:le.container,children:[e.jsxs("div",{className:le.stats.grid,children:[e.jsx(Oe,{icon:e.jsx(qs,{}),label:"Poziom",value:s.progress.level}),e.jsx(Oe,{icon:e.jsx(M,{}),label:"Punkty",value:s.progress.points}),e.jsx(Oe,{icon:e.jsx(gs,{}),label:"Seria",value:`${s.achievements.streak.current} dni`})]}),e.jsxs("p",{className:le.lastActive,children:["Ostatnia aktywność: ",t(s.user.lastActive)]})]})});Et.displayName="StatsBlock";const Ce=i.memo(({type:s,message:t})=>{const a=()=>{switch(s){case"error":return"text-red-400";default:return"text-gray-400"}};return e.jsx("div",{className:"p-8 w-full flex items-center justify-center min-h-[400px]",children:e.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},className:`text-xl ${a()}`,children:t||(s==="loading"?"Ładowanie danych...":s==="error"?"Wystąpił błąd podczas ładowania danych":"Brak danych do wyświetlenia")})})});Ce.displayName="DashboardState";const po=()=>i.useMemo(()=>({container:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},item:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}}}),[]),At=i.memo(()=>{const{data:s,isLoading:t,error:a}=Ze(),r=po();return t?e.jsx(I,{}):a?e.jsx(Ce,{type:"error",message:a.message}):s?e.jsxs(x.div,{className:"p-1 md:p-12 w-full overflow-y-auto",variants:r.container,initial:"hidden",animate:"visible",children:[e.jsx(x.h1,{className:`${ve.text.heading} text-3xl mb-12`,variants:r.item,children:"Dashboard"}),e.jsxs("div",{className:ve.grid,children:[e.jsx(x.div,{variants:r.item,className:ve.card.community,children:e.jsx(Lt,{})}),e.jsx(x.div,{variants:r.item,className:ve.card.game,children:e.jsx(Pt,{})}),e.jsx(x.div,{variants:r.item,className:ve.card.stats,children:e.jsx(Et,{stats:s.data})})]})]}):e.jsx(Ce,{type:"empty"})});At.displayName="DashboardContent";const Cd=Object.freeze(Object.defineProperty({__proto__:null,DashboardContent:At},Symbol.toStringTag,{value:"Module"})),ho=()=>k(void 0,null,function*(){var a,r;const s=yield fetch(`${$}users/stats`,{headers:{"Content-Type":"application/json"},credentials:"include"});if(!s.ok)throw s.status===401?new Error("Brak autoryzacji"):new Error("Błąd podczas pobierania statystyk");const t=yield s.json();return z(S({},t),{chartData:{daily:((a=t.chartData)==null?void 0:a.daily)||[],categories:((r=t.chartData)==null?void 0:r.categories)||[]}})}),Es=()=>{const{isAuthenticated:s}=_(),{data:t,isLoading:a,error:r}=V({queryKey:["userProgress"],queryFn:()=>ho(),enabled:s,staleTime:1e3*60*5,gcTime:1e3*60*30,retry:(n,o)=>o.message==="Brak autoryzacji"?!1:n<3});return{stats:t,isLoading:a,error:r}},xe={card:{base:"bg-dark/50 backdrop-blur-sm rounded-xl border border-js/10 p-6",title:"text-xl font-bold text-js mb-6",content:"h-full"},text:{heading:"text-3xl font-bold font-space text-js",subtitle:"text-gray-400 text-sm"}},$t=i.memo(({level:s,experience:t,nextLevel:a})=>{const r=t/a*100;return e.jsxs("div",{className:xe.card.base,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:xe.card.title,children:["Poziom ",s]}),e.jsxs("p",{className:"text-gray-400 text-sm",children:[t," / ",a," XP do następnego poziomu"]})]}),e.jsx("div",{className:"hidden w-16 h-16 rounded-full bg-js/20 md:flex items-center justify-center",children:e.jsx("span",{className:"text-2xl font-bold text-js",children:s})})]}),e.jsx("div",{className:"relative h-4 bg-dark/50 rounded-full overflow-hidden",children:e.jsx(x.div,{initial:{width:0},animate:{width:`${r}%`},transition:{duration:1,ease:"easeOut"},className:"absolute top-0 left-0 h-full bg-js/50"})})]})});$t.displayName="LevelProgress";const jo={hidden:{opacity:0,y:20},show:{opacity:1,y:0}},Rt=i.memo(({icon:s,label:t,value:a,subValue:r})=>e.jsx(x.div,{variants:jo,className:`${xe.card.base} hover:border-js/30 transition-all p-3 md:p-4`,children:e.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[e.jsx("div",{className:"p-2 md:p-3 rounded-lg bg-js/10 shrink-0",children:e.jsx(s,{className:"w-5 h-5 md:w-6 md:h-6 text-js"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-gray-400 text-xs md:text-sm mb-0.5 md:mb-1",children:t}),e.jsx("p",{className:"text-xl md:text-2xl font-bold font-space text-js truncate",children:a}),r&&e.jsx("p",{className:"text-xs md:text-sm text-gray-500 mt-0.5 md:mt-1",children:r})]})]})}));Rt.displayName="StatCard";const yo=()=>s=>{try{const t=new Date(s);return isNaN(t.getTime())?"Data nieznana":t.toLocaleDateString("pl-PL",{year:"numeric",month:"short",day:"numeric"})}catch(t){return"Data nieznana"}},go={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},bo={hidden:{opacity:0,y:20},show:{opacity:1,y:0}},Dt=i.memo(({badge:s})=>{const t=yo();return e.jsxs(x.div,{variants:bo,className:"min-w-[8rem] flex flex-col items-center p-4 bg-dark/30 rounded-lg border border-js/10 hover:border-js/30 transition-colors",children:[e.jsx("span",{className:"text-3xl mb-2",children:s.icon||"🏆"}),e.jsx("h4",{className:"text-js font-medium text-sm text-center",children:s.name}),e.jsx("p",{className:"text-gray-400 text-xs mt-1",children:t(s.earnedAt)}),s.description&&e.jsx("p",{className:"text-gray-400 text-xs mt-1 text-center",children:s.description},`${s.id}-description`)]})});Dt.displayName="BadgeCard";const Ft=i.memo(()=>e.jsxs("div",{className:xe.card.base,children:[e.jsx("h3",{className:xe.card.title,children:"Odznaki"}),e.jsx("p",{className:"text-gray-400 text-center py-4",children:"Nie zdobyto jeszcze żadnych odznak"})]}));Ft.displayName="EmptyBadges";const Mt=i.memo(({badges:s})=>s!=null&&s.length?e.jsxs("div",{className:xe.card.base,children:[e.jsx("h3",{className:xe.card.title,children:"Odznaki"}),e.jsx(x.div,{variants:go,initial:"hidden",animate:"show",className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:s.map(t=>e.jsx(Dt,{badge:t},t.name))})]}):e.jsx(Ft,{}));Mt.displayName="BadgesGrid";const Ot=i.memo(({message:s})=>e.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:e.jsx("p",{className:"text-red-500",children:s})}));Ot.displayName="ErrorState";const fo=s=>i.useMemo(()=>{var t;return s?[{id:"completed-lessons",icon:q,label:"Ukończone Lekcje",value:((t=s.data.achievements.completedChallenges)==null?void 0:t.toString())||"0",gradient:"from-amber-500 to-orange-500"},{id:"current-streak",icon:Xs,label:"Aktualny Streak",value:`${s.data.achievements.streak.current||0} dni`,subValue:`Najlepszy: ${s.data.achievements.streak.best||0} dni`,gradient:"from-red-500 to-pink-500"}]:[]},[s]),wo={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},_t=i.memo(({stats:s,isLoading:t,error:a})=>{const r=fo(s);return t?e.jsx(I,{}):a?e.jsx(Ot,{message:`Wystąpił błąd podczas ładowania statystyk: ${a.message}`}):s?e.jsxs(x.div,{variants:wo,initial:"hidden",animate:"show",className:"space-y-6",children:[e.jsx($t,{level:s.data.progress.level,experience:s.data.progress.points,nextLevel:s.data.progress.pointsToNextLevel}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:r.map(n=>e.jsx(Rt,S({},n),n.id))}),e.jsx(Mt,{badges:s.data.achievements.badges})]}):e.jsx("div",{className:"p-4 bg-dark/50 rounded-lg",children:e.jsx("p",{className:"text-gray-400",children:"Brak dostępnych statystyk"})})});_t.displayName="StatsOverview";const Bt=i.memo(({data:s})=>e.jsx(Fn,{width:"100%",height:300,children:e.jsxs(Mn,{data:s,margin:{top:5,right:20,bottom:5,left:0},children:[e.jsx(On,{strokeDasharray:"3 3",stroke:"#2A2A2A"}),e.jsx(_n,{dataKey:"date",stroke:"#666",tickLine:!1,tick:{fill:"#666"},axisLine:{stroke:"#333"}}),e.jsx(Bn,{stroke:"#666",tickLine:!1,tick:{fill:"#666"},axisLine:{stroke:"#333"},label:{value:"Punkty",angle:-90,position:"insideLeft",fill:"#666"}}),e.jsx(In,{contentStyle:{background:"#1A1A1A",border:"1px solid #333",borderRadius:"4px",padding:"8px"},labelStyle:{color:"#666"},itemStyle:{color:"#F7DF1E"}}),e.jsx(Hn,{type:"monotone",dataKey:"points",stroke:"#F7DF1E",strokeWidth:2,dot:{fill:"#F7DF1E",strokeWidth:2},activeDot:{r:6,fill:"#F7DF1E"}})]})}));Bt.displayName="DailyChart";const It=i.memo(({data:s,isLoading:t})=>t?e.jsx(I,{}):s?e.jsx("div",{className:"hidden md:flex flex-col gap-6 h-full",children:e.jsxs("div",{className:"bg-dark/50 rounded-lg p-6 flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-js mb-6",children:"Aktywność"}),e.jsx("div",{className:"h-[300px]",children:e.jsx(Bt,{data:s.daily})})]})}):null);It.displayName="StatsCharts";const Ht=i.memo(()=>{var l;const{stats:s,isLoading:t,error:a}=Es(),[r,n]=i.useState(!1),[o,c]=i.useState(null);if(i.useEffect(()=>{var u,m,p;(m=(u=s==null?void 0:s.data)==null?void 0:u.progress)!=null&&m.levelUp&&(c({level:s.data.progress.level,rewards:((p=s.data.achievements)==null?void 0:p.badges)||[]}),n(!0))},[s]),t)return e.jsx(I,{});if(a)return e.jsx(Ce,{type:"error",message:"Nie udało się załadować statystyk. Spróbuj ponownie później."});if(!s)return e.jsx(Ce,{type:"empty",message:"Brak dostępnych statystyk."});const d={data:{progress:{level:s.data.progress.level,points:s.data.progress.points,pointsToNextLevel:s.data.progress.pointsToNextLevel},achievements:{streak:{current:s.data.achievements.streak.current,best:s.data.achievements.streak.best},completedChallenges:s.data.achievements.completedChallenges,badges:s.data.achievements.badges},badges:s.data.achievements.badges,unlockedFeatures:[],levelUp:s.data.progress.levelUp,rewards:(l=s.data.achievements.badges)!=null&&l.length?{badges:s.data.achievements.badges,bonusPoints:0,unlockedFeatures:[]}:void 0,chartData:{daily:s.data.stats.daily,categories:[]}}};return e.jsxs(e.Fragment,{children:[e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col h-full p-6 gap-6",children:[e.jsxs(ie,{children:[e.jsx("title",{children:"Statystyki i Postępy | CodeLinesJS"}),e.jsx("meta",{name:"description",content:"Statystyki i Postępy CodeLinesJS - dołącz do nas i rozwijaj swoje umiejętności w przyjaznym środowisku."})]}),e.jsx(x.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-3xl font-bold font-space text-js",children:"Statystyki i Postępy"})}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 flex-1",children:[e.jsx("div",{className:"flex flex-col gap-6",children:e.jsx(_t,{stats:d,isLoading:t,error:a})}),e.jsx("div",{className:"flex flex-col gap-6 h-full",children:e.jsx(It,{data:s.data.stats,isLoading:t})})]})]}),e.jsx($n,{isVisible:r,onClose:()=>n(!1),level:(o==null?void 0:o.level)||0,rewards:{badges:(o==null?void 0:o.rewards)||[],bonusPoints:0,unlockedFeatures:[]}})]})});Ht.displayName="StatsSection";const Td=Object.freeze(Object.defineProperty({__proto__:null,StatsSection:Ht},Symbol.toStringTag,{value:"Module"})),Ke=i.memo(({message:s,onRetry:t})=>e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(K,{className:"w-12 h-12 text-red-500 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-200 mb-2",children:"Wystąpił błąd"}),e.jsx("p",{className:"text-gray-400 mb-4",children:s}),t&&e.jsx("button",{onClick:t,className:"px-4 py-2 bg-js/10 text-js rounded-lg hover:bg-js/20 transition-colors",children:"Spróbuj ponownie"})]})),No=[{id:"all",label:"Wszystkie"},{id:"beginner",label:"Podstawowe"},{id:"intermediate",label:"Średnie"},{id:"advanced",label:"Zaawansowane"}],Gt=i.memo(({onFilterChange:s,className:t=""})=>{const[a,r]=Ys(),n=a.get("filter")||"all";i.useEffect(()=>{s(n)},[n,s]);const o=c=>{r(c==="all"?{tab:"lessons"}:{filter:c,tab:"lessons"})};return e.jsx("div",{className:`flex gap-2 flex-wrap ${t}`,children:No.map(c=>{const d=n===c.id;return e.jsx(x.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>o(c.id),className:`w-fit px-3 py-1.5 rounded-lg text-sm font-medium transition-all
              ${d?"text-js bg-js/10 border border-js/20":"text-gray-400 hover:text-js/80 border border-transparent"}`,children:c.label},c.id)})})});Gt.displayName="LessonsFilter";const Wt=i.memo(({onFilterChange:s})=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-js mb-1",children:"Dostępne lekcje"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Wybierz interesującą Cię lekcję i rozpocznij naukę"})]}),e.jsx(Gt,{onFilterChange:s})]}));Wt.displayName="LessonsHeader";const vo={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}},Ut=i.memo(({lesson:s})=>{const{title:t,description:a,duration:r,slug:n,isCompleted:o,isLocked:c,requiredLevel:d=1}=s,l=e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{className:"space-y-1 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:`text-lg font-semibold ${c?"text-gray-500":"text-js"}`,children:t}),o&&e.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-js/10 text-js",children:[e.jsx(G,{className:"w-3 h-3 mr-1"}),"Ukończono"]})]}),e.jsx("p",{className:`text-sm ${c?"text-gray-600":"text-gray-400"} line-clamp-2`,children:a})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsxs("span",{className:`flex items-center gap-1 ${c?"text-gray-600":"text-gray-400"}`,children:[e.jsx(F,{className:"w-3.5 h-3.5"}),r," min"]}),c&&e.jsxs("span",{className:"flex items-center gap-1 text-gray-500",children:[e.jsx(se,{className:"w-3.5 h-3.5"}),"Poziom ",d]})]}),!c&&e.jsxs("div",{className:"flex items-center gap-2 text-js",children:[e.jsx("span",{children:o?"Powtórz":"Rozpocznij"}),e.jsx(et,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]});return e.jsx(x.div,{variants:vo,className:`group relative ${c?"opacity-75":""}`,children:c?e.jsx("div",{className:"block p-6 rounded-xl bg-dark-800 border border-gray-800 cursor-not-allowed",children:l}):e.jsx(Le,{to:`/dashboard/learn/lesson/${n}`,className:"block p-6 rounded-xl bg-dark-800 border border-js/10 hover:border-js/20 transition-colors",children:l})})});Ut.displayName="LessonCard";const ko={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},So=s=>{switch(s){case"beginner":return"podstawowym";case"intermediate":return"średnim";case"advanced":return"zaawansowanym";default:return""}},Qt=i.memo(({lessons:s,filter:t,userData:a,isLoading:r=!1})=>{if(r||s.length===0)return e.jsx(I,{});const o=s.map(c=>z(S({},c),{isLocked:c.requiredLevel?c.requiredLevel>a.userLevel:!1}));return o.length===0?e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx(Ge,{className:"w-20 h-20 text-gray-600 opacity-20"}),e.jsx("div",{className:"absolute -right-2 -bottom-2",children:e.jsx(bs,{className:"w-8 h-8 text-gray-500"})})]}),e.jsx("h3",{className:"text-xl font-bold text-js mb-3",children:t==="all"?"Brak dostępnych lekcji":`Brak lekcji o poziomie ${So(t)}`}),e.jsx("p",{className:"text-gray-400 text-sm max-w-md",children:t==="all"?"Aktualnie nie ma żadnych dostępnych lekcji. Sprawdź ponownie później.":"W tej kategorii nie znaleziono żadnych lekcji. Wybierz inny poziom trudności."})]}):e.jsxs(x.div,{variants:ko,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs(ie,{children:[e.jsx("title",{children:"Lekcje | CodeLinesJS"}),e.jsx("meta",{name:"description",content:"Lekcje JavaScript - dołącz do nas i rozwijaj swoje umiejętności w przyjaznym środowisku."})]}),o.map(c=>e.jsx(Ut,{lesson:c},c.slug))]})});Qt.displayName="LessonsList";const zo=s=>k(void 0,null,function*(){const t=yield fetch(`${$}lessons/${s}`,{headers:{"Content-Type":"application/json"},credentials:"include"});if(!t.ok)throw t.status===404?new Error("lesson_not_found"):new Error("Błąd podczas pobierania lekcji");const a=yield t.json();return a.data?a.data:a}),Co=a=>k(void 0,[a],function*({lessonId:s,pathId:t}){const r=yield fetch(`${$}lessons/${s}/complete`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({pathId:t})});if(!r.ok){const n=yield r.text();throw console.error("API error:",n),new Error(n||"Błąd podczas zakończenia lekcji")}return r.json()}),To=()=>k(void 0,null,function*(){const s=yield fetch(`${$}lessons`,{headers:{"Content-Type":"application/json"},credentials:"include"});if(!s.ok)throw s.status===401?new Error("Nieautoryzowany - proszę się zalogować ponownie"):new Error("Błąd podczas pobierania lekcji");return yield s.json()}),Bs=s=>{switch(s){case"beginner":return"podstawowym";case"intermediate":return"średnim";case"advanced":return"zaawansowanym";default:return""}},Lo=()=>{var b,v,C;const[s,t]=i.useState("all"),[a]=i.useState("javascript"),{isAuthenticated:r,isAuthChecking:n}=_(),{data:o,isLoading:c,error:d,refetch:l}=V({queryKey:["lessons"],queryFn:()=>To(),retry:2,staleTime:1e3*60*5,refetchOnWindowFocus:!0,enabled:r&&!n}),u=c||!o&&!d,m=(v=(b=o==null?void 0:o.data.lessons)==null?void 0:b[a])!=null?v:[],p=(C=o==null?void 0:o.data.stats)!=null?C:{total:0,completed:0,progress:0},h=i.useMemo(()=>s==="all"?m:m.filter(T=>T.difficulty===s),[m,s]),j=!m||m.length===0,w=!j&&h.length===0,y={currentFilter:s,label:Bs(s),isEmpty:j,hasNoLessonsForFilter:w,messages:{title:w?`Brak lekcji o poziomie ${Bs(s)}`:"Brak dostępnych lekcji",description:w?"W tej kategorii nie znaleziono żadnych lekcji. Wybierz inny poziom trudności lub wyświetl wszystkie lekcje.":"Aktualnie nie ma żadnych dostępnych lekcji. Sprawdź ponownie później."}};return{filteredLessons:h,filter:s,setFilter:t,resetFilter:()=>t("all"),isLoading:u,error:d,refetch:l,isEmpty:j,hasNoLessonsForFilter:w,filterState:y,requiredLevel:o==null?void 0:o.data.requiredLevel,stats:p}},Jt=i.memo(()=>{var p,h;const{user:s}=_(),{stats:t}=Es(),a=(s==null?void 0:s.id)||"current-user",r=((h=(p=t==null?void 0:t.data)==null?void 0:p.progress)==null?void 0:h.level)||1,{filteredLessons:n,filter:o,setFilter:c,isLoading:d,requiredLevel:l,error:u,refetch:m}=Lo();return u?e.jsx(Ke,{message:"Nie udało się pobrać listy lekcji. Spróbuj ponownie później.",onRetry:()=>m()}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(Wt,{onFilterChange:c}),e.jsx(Qt,{lessons:n,filter:o,userId:a,userData:{userLevel:r,requiredLevel:l||1},isLoading:d})]})});Jt.displayName="Lessons";const Po={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:200,damping:20}}},Vt=i.memo(({resource:s,isRecommended:t})=>e.jsxs(x.div,{variants:Po,whileHover:{scale:1.02},className:"group relative bg-dark-800/50 border border-js/10 rounded-xl p-5 hover:border-js/20 transition-colors",children:[t&&e.jsxs("div",{className:"absolute -top-2 -right-2 bg-js text-dark px-2 py-1 rounded-lg text-xs font-bold flex items-center gap-1",children:[e.jsx(M,{className:"w-3 h-3"}),"Polecane"]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-js mb-1 line-clamp-1",children:s.title}),e.jsx("p",{className:"text-gray-400 text-sm line-clamp-2",children:s.description})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs font-medium
            ${s.type==="documentation"?"bg-blue-500/10 text-blue-400":s.type==="tutorial"?"bg-green-500/10 text-green-400":s.type==="video"?"bg-red-500/10 text-red-400":"bg-purple-500/10 text-purple-400"}`,children:s.type==="documentation"?"Dokumentacja":s.type==="tutorial"?"Tutorial":s.type==="video"?"Wideo":"Artykuł"}),e.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs font-medium
            ${s.difficulty==="beginner"?"bg-green-500/10 text-green-400":s.difficulty==="intermediate"?"bg-yellow-500/10 text-yellow-400":"bg-red-500/10 text-red-400"}`,children:s.difficulty==="beginner"?"Podstawowy":s.difficulty==="intermediate"?"Średni":"Zaawansowany"})]}),e.jsxs("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-js hover:text-js/80 transition-colors text-sm",children:["Otwórz materiał",e.jsx(rn,{className:"w-3 h-3"})]})]})]}));Vt.displayName="ResourceCard";const Eo={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},xs=i.memo(({title:s,subtitle:t,resources:a,isRecommended:r})=>e.jsxs("section",{children:[e.jsxs(ie,{children:[e.jsx("title",{children:"Zasoby | CodeLinesJS"}),e.jsx("meta",{name:"description",content:"Zasoby JavaScript - dołącz do nas i rozwijaj swoje umiejętności w przyjaznym środowisku."})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-js mb-1",children:s}),e.jsx("p",{className:"text-gray-400 text-sm",children:t})]}),e.jsx(x.div,{variants:Eo,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(n=>e.jsx(Vt,{resource:n,isRecommended:r},n.id))})]}));xs.displayName="ResourceSection";const Ao=()=>k(void 0,null,function*(){const s=yield fetch(`${$}resources`,{headers:{"Content-Type":"application/json"},credentials:"include"});if(!s.ok)throw s.status===401?new Error("Nieautoryzowany - proszę się zalogować ponownie"):new Error("Błąd podczas pobierania zasobów");return yield s.json()}),$o=()=>{var m;const{isAuthenticated:s,isAuthChecking:t}=_(),{data:a,isLoading:r,error:n,refetch:o}=V({queryKey:["resources"],queryFn:()=>Ao(),retry:2,staleTime:1e3*60*5,enabled:s&&!t}),c=r||!a&&!n,d=((m=a==null?void 0:a.data)==null?void 0:m.resources)||[],l=d.filter(p=>p.isRecommended)||[],u=d.filter(p=>!p.isRecommended)||[];return{recommendedResources:l,otherResources:u,isLoading:c,error:n,refetch:o}},Zt=i.memo(()=>{const{recommendedResources:s,otherResources:t,isLoading:a,error:r,refetch:n}=$o(),o=a||(!s||s.length===0)&&(!t||t.length===0)&&!r;return r?e.jsx("div",{className:"flex flex-col items-center justify-center py-12",children:e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl",children:e.jsx(Ke,{message:"Nie udało się pobrać materiałów. Spróbuj ponownie później.",onRetry:()=>n()})})}):o?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(I,{})}):!(s!=null&&s.length)&&!(t!=null&&t.length)?e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx(st,{className:"w-20 h-20 text-gray-600 opacity-20"}),e.jsx("div",{className:"absolute -right-2 -bottom-2",children:e.jsx(bs,{className:"w-8 h-8 text-gray-500"})})]}),e.jsx("h3",{className:"text-xl font-bold text-js mb-3",children:"Brak dostępnych materiałów"}),e.jsx("p",{className:"text-gray-400 text-sm max-w-md",children:"Aktualnie nie ma żadnych dostępnych materiałów. Sprawdź ponownie później lub skontaktuj się z administratorem."}),e.jsx(x.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>n(),className:"mt-6 px-4 py-2 bg-js/10 text-js border border-js/20 rounded-lg text-sm font-medium hover:bg-js/20 transition-colors",children:"Odśwież materiały"})]}):e.jsxs("div",{className:"space-y-8",children:[(s==null?void 0:s.length)>0&&e.jsx(xs,{title:"Polecane materiały",subtitle:"Wyselekcjonowane materiały, które pomogą Ci w nauce",resources:s,isRecommended:!0}),(t==null?void 0:t.length)>0&&e.jsx(xs,{title:"Wszystkie materiały",subtitle:"Przeglądaj wszystkie dostępne materiały",resources:t})]})});Zt.displayName="Resources";const as=i.memo(({icon:s,title:t,label:a,value:r})=>e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(s,{className:"w-5 h-5 text-js"}),e.jsx("h4",{className:"font-medium text-gray-200",children:t})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:a}),e.jsx("span",{className:"text-js",children:r})]})]})),Ro=i.memo(({stats:s})=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(as,{icon:tt,title:"Postęp nauki",label:"Ukończone ścieżki",value:`${s.completedPaths}/${s.totalPaths}`}),e.jsx(as,{icon:gs,title:"Punkty XP",label:"Zdobyte punkty",value:`${s.totalPoints} XP`}),e.jsx(as,{icon:F,title:"W trakcie",label:"Aktywne ścieżki",value:s.pathsInProgress})]})),Do=()=>k(void 0,null,function*(){const s=yield fetch(`${$}Learning-paths`,{headers:{"Content-Type":"application/json"},credentials:"include"});if(!s.ok)throw s.status===401?new Error("Nieautoryzowany - proszę się zalogować ponownie"):new Error("Błąd podczas pobierania ścieżek nauki");return yield s.json()}),Kt=()=>{const{isAuthenticated:s,isAuthChecking:t}=_(),{data:a,isLoading:r,error:n,refetch:o}=V({queryKey:["learningPaths","userProgress"],queryFn:()=>Do(),staleTime:1e3*60*5,retry:2,refetchOnWindowFocus:!0,refetchOnReconnect:!0,enabled:s&&!t}),c=r||!a&&!n;return{paths:(a==null?void 0:a.data.paths)||[],userStats:a==null?void 0:a.data.userStats,isLoading:c,error:n,refetch:o,isEmpty:!(a!=null&&a.data.paths)||a.data.paths.length===0}},Fo=i.memo(()=>e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx("h3",{className:"text-xl font-bold text-js mb-2",children:"Brak dostępnych ścieżek nauki"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Aktualnie nie ma żadnych dostępnych ścieżek nauki. Sprawdź ponownie później."})]})),Mo=s=>{const t=i.useMemo(()=>{var n,o,c,d;return{id:s.id,title:s.title||"Brak tytułu",description:s.description||"Brak opisu",estimatedTime:s.estimatedTime||0,isLocked:s.isLocked,requiredLevel:s.requiredLevel,progress:{completed:Array.isArray((n=s.progress)==null?void 0:n.completed)?s.progress.completed.length:Number((o=s.progress)==null?void 0:o.completed)||0,total:Number((c=s.progress)==null?void 0:c.total)||0,percentage:Number((d=s.progress)==null?void 0:d.percentage)||0},outcomes:Array.isArray(s.outcomes)?s.outcomes.map(l=>String(l)):[],requirements:Array.isArray(s.requirements)?s.requirements.map(l=>String(l)):[]}},[s]),a=i.useMemo(()=>`
    bg-dark-800/50 border rounded-xl p-6 transition-all
    ${t.isLocked?"border-gray-700/50 opacity-75":"border-js/10 hover:border-js/20"}
  `,[t.isLocked]),r=i.useMemo(()=>t.isLocked?{}:{scale:1.02},[t.isLocked]);return{safeData:t,cardStyles:a,hoverAnimation:r}},qt=i.memo(({title:s,isLocked:t,requiredLevel:a})=>e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsx("h3",{className:`text-lg font-bold ${t?"text-gray-400":"text-js"}`,children:s}),t&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm",children:[e.jsx(se,{className:"w-4 h-4"}),e.jsxs("span",{children:["Poziom ",a]})]})]}));qt.displayName="PathHeader";const Xt=i.memo(({description:s,outcomes:t,requirements:a})=>e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:s}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-js",children:"Czego się nauczysz:"}),e.jsx("ul",{className:"text-sm text-gray-400 list-disc list-inside space-y-1",children:t.map((r,n)=>e.jsx("li",{children:r},n))})]}),a.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-js",children:"Wymagania:"}),e.jsx("ul",{className:"text-sm text-gray-400 list-disc list-inside space-y-1",children:a.map((r,n)=>e.jsx("li",{children:r},n))})]})]}));Xt.displayName="PathContent";const Yt=i.memo(({progress:s})=>e.jsxs("div",{children:[e.jsx("div",{className:"relative h-2 bg-dark rounded-full overflow-hidden",children:e.jsx(x.div,{initial:{width:0},animate:{width:`${s.percentage}%`},className:"absolute inset-y-0 left-0 bg-js rounded-full"})}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mt-1",children:[e.jsxs("span",{children:[s.completed,"/",s.total," ukończone"]}),e.jsxs("span",{children:[s.percentage,"%"]})]})]}));Yt.displayName="ProgressBar";const ea=i.memo(({id:s,isLocked:t,estimatedTime:a,progress:r})=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1 text-gray-400",children:[e.jsx(F,{className:"w-4 h-4"}),a," min"]}),!t&&e.jsx(Le,{to:`/dashboard/learn?tab=lessons&pathId=${s}`,className:"text-js hover:text-js/80 transition-colors",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsx(Yt,{progress:r})]}));ea.displayName="PathFooter";const sa=i.memo(({path:s})=>{const{safeData:t,cardStyles:a,hoverAnimation:r}=Mo(s);return e.jsx(x.div,{whileHover:r,className:a,children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(qt,{title:t.title,isLocked:t.isLocked,requiredLevel:t.requiredLevel}),e.jsx(Xt,{description:t.description,outcomes:t.outcomes,requirements:t.requirements}),e.jsx(ea,{id:t.id,isLocked:t.isLocked,estimatedTime:t.estimatedTime,progress:t.progress})]})})});sa.displayName="PathCard";const ta=i.memo(()=>{const{paths:s,userStats:t,isLoading:a,error:r,refetch:n,isEmpty:o}=Kt();return a||s.length===0&&!r?e.jsx(I,{}):r?(console.error("Learning paths error:",r),e.jsx(Ke,{message:"Nie udało się pobrać ścieżek nauki. Spróbuj ponownie później.",onRetry:n})):o?e.jsx(Fo,{}):e.jsxs("div",{className:"space-y-8",children:[e.jsx(Ro,{stats:t||{completedPaths:0,totalPaths:0,totalPoints:0,pathsInProgress:0,recentActivity:[]}}),e.jsxs("section",{children:[e.jsx("header",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-js mb-1",children:"Ścieżki nauki"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Wybierz ścieżkę nauki dopasowaną do Twoich potrzeb"})]})}),e.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},transition:{staggerChildren:.1},className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:s.map(d=>e.jsx(sa,{path:d},d.id))})]})]})});ta.displayName="LearningPaths";const Oo=[{id:"paths",label:"Ścieżki nauki",icon:tt},{id:"lessons",label:"Lekcje",icon:Te},{id:"resources",label:"Materiały",icon:ue},{id:"recruitment",label:"Rekrutacja",icon:nn,badge:"Nowość"}],aa=i.memo(({activeTab:s,onTabChange:t})=>e.jsx("div",{className:"flex gap-2 flex-wrap",children:Oo.map(a=>e.jsxs(x.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t(a.id),className:`relative flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all
            ${s===a.id?"text-js bg-js/10 border border-js/20":"text-gray-400 hover:text-js/80 border border-transparent"}`,children:[e.jsx(a.icon,{className:"w-4 h-4"}),a.label,a.badge&&e.jsx("span",{className:"ml-1 px-2 py-0.5 text-xs font-bold bg-gradient-to-r from-js to-js/80 text-dark rounded-full",children:a.badge}),s===a.id&&e.jsx(x.div,{layoutId:"activeTab",className:"absolute inset-0 bg-js/5 rounded-lg -z-10",transition:{type:"spring",bounce:.2,duration:.6}})]},a.id))}));aa.displayName="LearnTabs";const _o=()=>{const s=i.useMemo(()=>[{id:"technical-interview",title:"Przygotowanie do rozmowy technicznej",description:"Naucz się odpowiadać na pytania techniczne i rozwiązywać zadania programistyczne na żywo",icon:fs,isAvailable:!0,features:["Typowe pytania JavaScript","Zadania algorytmiczne","Code review na żywo","Whiteboarding"]},{id:"cv-preparation",title:"Przygotowanie CV",description:"Stwórz profesjonalne CV, które przyciągnie uwagę rekruterów i wyróżni Cię na rynku",icon:We,isAvailable:!0,features:["Szablony CV dla programistów","Opis projektów i umiejętności","Portfolio prezentacja","LinkedIn optimization"]}],[]),t=i.useMemo(()=>({technicalQuestions:100,practicalTasks:10,cvTips:10}),[]),a=i.useMemo(()=>({hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}}),[]),r=i.useMemo(()=>({hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}}),[]);return{recruitmentSections:s,stats:t,containerVariants:a,itemVariants:r}},ra=i.memo(()=>e.jsx("header",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[e.jsx(on,{className:"w-5 h-5 text-js"}),e.jsx("h3",{className:"text-xl font-bold text-js",children:"Rekrutacja"}),e.jsx("span",{className:"px-2 py-0.5 bg-js/20 text-js text-xs font-bold rounded-full",children:"NOWOŚĆ"})]}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Przygotuj się profesjonalnie do procesu rekrutacji w IT"})]})}));ra.displayName="RecruitmentHeader";const ia=i.memo(({section:s,variants:t,onClick:a})=>e.jsxs(x.div,{variants:t,whileHover:{scale:1.02},onClick:a,className:"bg-dark-700/50 border border-js/10 rounded-xl p-6 hover:border-js/20 transition-all cursor-pointer group",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:"p-3 rounded-lg bg-js/10 border border-js/20",children:e.jsx(s.icon,{className:"w-6 h-6 text-js"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-js transition-colors",children:s.title}),e.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:s.description})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Co znajdziesz w tej sekcji:"}),e.jsx("ul",{className:"space-y-2",children:s.features.map((r,n)=>e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-400",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-js rounded-full"}),r]},n))})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Status:"}),e.jsx("span",{className:`text-xs px-2 py-1 rounded border ${s.isAvailable?"bg-green-500/10 text-green-400 border-green-500/20":"bg-js/10 text-js border-js/20"}`,children:s.isAvailable?"Dostępne":"Wkrótce dostępne"})]})})]}));ia.displayName="RecruitmentCard";const na=i.memo(({stats:s,variants:t})=>e.jsxs(x.div,{variants:t,className:"bg-dark-700/30 border border-js/10 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(js,{className:"w-5 h-5 text-js"}),e.jsx("h3",{className:"text-lg font-bold text-white",children:"Przygotuj się z nami!"})]}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Nasze materiały rekrutacyjne zostały przygotowane przez doświadczonych programistów i rekruterów. Znajdziesz tu praktyczne porady, które pomogą Ci znaleźć wymarzoną pracę w IT."}),e.jsxs("div",{className:"grid sm:grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"bg-dark-700/50 border border-js/10 rounded-lg p-3",children:[e.jsxs("div",{className:"text-js font-bold text-lg",children:[s.technicalQuestions,"+"]}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Pytań technicznych"})]}),e.jsxs("div",{className:"bg-dark-700/50 border border-js/10 rounded-lg p-3",children:[e.jsxs("div",{className:"text-js font-bold text-lg",children:[s.practicalTasks,"+"]}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Zadań praktycznych"})]}),e.jsxs("div",{className:"bg-dark-700/50 border border-js/10 rounded-lg p-3",children:[e.jsxs("div",{className:"text-js font-bold text-lg",children:[s.cvTips,"+"]}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Praktycznych porad jak stworzyć skuteczne CV"})]})]})]}));na.displayName="RecruitmentStatsSection";const Bo=[{id:"theory",title:"Teoria",description:"Podstawowe koncepty i wiedza teoretyczna niezbędna podczas rozmów technicznych",icon:Te,topics:["Podstawy JavaScript (var, let, const)","Hoisting i scope","Closures i funkcje wyższego rzędu","Prototypy i dziedziczenie","Event loop i asynchroniczność","ES6+ nowe funkcjonalności"]},{id:"practice",title:"Praktyka",description:"Zadania praktyczne i przykłady kodu często pojawiające się na rozmowach",icon:A,topics:["Algorytmy sortowania i wyszukiwania","Manipulacja tablicami i obiektami","Zadania z rekurencją","Problemy z string-ami","Live coding challenges","Debugowanie kodu"]}],Io=[{category:"Przed rozmową",tips:["Przejrzyj podstawy JavaScript","Przygotuj pytania do firmy","Przetestuj kamerę i mikrofon"]},{category:"W trakcie rozmowy",tips:["Myśl na głos","Zadawaj pytania doprecyzowujące","Nie bój się przyznać do niewiedzy"]},{category:"Live coding",tips:["Zacznij od prostego rozwiązania","Testuj kod na przykładach","Optymalizuj tylko na końcu"]}],Ho=()=>{const s=i.useMemo(()=>({hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}}),[]),t=i.useMemo(()=>({hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}}),[]);return{interviewBlocks:Bo,interviewTips:Io,containerVariants:s,itemVariants:t}},oa=i.memo(({onBack:s})=>e.jsx("header",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[e.jsxs(x.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:s,className:"flex items-center gap-2 text-gray-400 hover:text-js transition-colors",children:[e.jsx(de,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Powrót"})]}),e.jsx("div",{className:"w-px h-5 bg-gray-600 mx-2"}),e.jsx(fs,{className:"w-5 h-5 text-js"}),e.jsx("h3",{className:"text-xl font-bold text-js",children:"Przygotowanie do rozmowy technicznej"})]}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Naucz się odpowiadać na pytania techniczne i rozwiązywać zadania programistyczne na żywo"})]})}));oa.displayName="TechnicalInterviewHeader";const la=i.memo(({block:s,variants:t,onClick:a})=>e.jsxs(x.div,{variants:t,whileHover:{scale:1.02},onClick:a,className:"bg-dark-700/50 border border-js/10 rounded-xl p-6 hover:border-js/20 transition-all cursor-pointer group",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:"p-3 rounded-lg bg-js/10 border border-js/20",children:e.jsx(s.icon,{className:"w-6 h-6 text-js"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-js transition-colors",children:s.title}),e.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:s.description})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Tematy do nauki:"}),e.jsx("ul",{className:"space-y-2",children:s.topics.map((r,n)=>e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-400",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-js rounded-full"}),r]},n))})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Dostępność:"}),e.jsx("span",{className:"text-xs bg-green-500/10 text-green-400 border border-green-500/20 px-2 py-1 rounded",children:"Dostępne"})]})})]}));la.displayName="InterviewBlockCard";const ca=i.memo(({tips:s,variants:t})=>e.jsxs(x.div,{variants:t,className:"bg-dark-700/30 border border-js/10 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(fs,{className:"w-5 h-5 text-js"}),e.jsx("h3",{className:"text-lg font-bold text-white",children:"Porady na rozmowę techniczną"})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:s.map((a,r)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold text-js text-sm",children:a.category}),e.jsx("ul",{className:"text-sm text-gray-400 space-y-1",children:a.tips.map((n,o)=>e.jsxs("li",{children:["• ",n]},o))})]},r))})]}));ca.displayName="InterviewTipsSection";const Go=[{value:5,label:"5 pytań",time:"~5 min"},{value:10,label:"10 pytań",time:"~10 min"},{value:15,label:"15 pytań",time:"~15 min"},{value:20,label:"20 pytań",time:"~20 min"}],Wo=100,Uo={topics:"podstawy JavaScript, hoisting, closures, prototypy, event loop, ES6+",details:[{title:"Pytania w bazie",description:`${Wo} pytań dostępnych`},{title:"Format",description:"Pytania wielokrotnego wyboru"},{title:"Czas",description:"Bez ograniczeń czasowych"}]},Qo=()=>{const[s,t]=i.useState(10),a=i.useMemo(()=>({hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}}),[]),r=i.useMemo(()=>({hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}}),[]);return{selectedCount:s,questionOptions:Go,testInfo:Uo,containerVariants:a,cardVariants:r,handleQuestionCountChange:o=>{t(o)}}},Jo=(s=10)=>k(void 0,null,function*(){try{const t=yield X.get(`theory-questions?limit=${s}`);if(t.error)return{data:null,error:t.error,status:t.status};if(t.data){if(t.data.success&&t.data.data)return{data:t.data.data,error:null,status:t.status};if(Array.isArray(t.data))return{data:t.data,error:null,status:t.status}}return{data:null,error:"Nieprawidłowa struktura odpowiedzi z serwera",status:t.status}}catch(t){return{data:null,error:"Błąd połączenia z serwerem",status:0}}}),Vo=(s,t)=>k(void 0,null,function*(){try{const a=yield X.post(`theory-questions/${s}/check`,{answer:t},{requiresAuth:!0});if(a.error)return{data:null,error:a.error,status:a.status};if(a.data){if(a.data.success&&a.data.data)return{data:a.data.data,error:null,status:a.status};if("isCorrect"in a.data&&"correctAnswer"in a.data&&"explanation"in a.data&&"points"in a.data)return{data:a.data,error:null,status:a.status}}return{data:null,error:"Nieprawidłowa struktura odpowiedzi przy sprawdzaniu",status:a.status}}catch(a){return{data:null,error:"Błąd połączenia z serwerem",status:0}}}),Zo=()=>{const[s,t]=i.useState("setup"),[a,r]=i.useState(10),[n,o]=i.useState([]),[c,d]=i.useState(0),[l,u]=i.useState(null),[m,p]=i.useState([]),[h,j]=i.useState(0),[w,y]=i.useState(0),[b,v]=i.useState(!1),[C,T]=i.useState(null),f=i.useCallback(B=>k(void 0,null,function*(){v(!0),T(null);try{const Q=yield Jo(B);if(Q.error){T(Q.error),v(!1);return}Q.data&&(o(Q.data),r(B),d(0),u(null),p([]),t("inProgress"),j(Date.now()),y(Date.now()))}catch(Q){T("Błąd podczas ładowania pytań")}finally{v(!1)}}),[]),N=i.useCallback(B=>{u(B)},[]),g=i.useCallback(()=>k(void 0,null,function*(){var Ae,$e,Rs;if(l===null)return;const B=n[c],Q=(Date.now()-w)/1e3;try{const Re=yield Vo(B._id,l),es={questionId:B._id,selectedAnswer:l,isCorrect:((Ae=Re.data)==null?void 0:Ae.isCorrect)||!1,timeTaken:Q,explanation:(($e=Re.data)==null?void 0:$e.explanation)||"",correctAnswer:(Rs=Re.data)==null?void 0:Rs.correctAnswer};p(Ne=>[...Ne,es]),c===n.length-1?t("completed"):(d(Ne=>Ne+1),u(null),y(Date.now()))}catch(Re){T("Błąd podczas sprawdzania odpowiedzi");const es=l===B.correctAnswer,Ne={questionId:B._id,selectedAnswer:l,isCorrect:es,timeTaken:Q,explanation:B.explanation,correctAnswer:B.correctAnswer};p(ss=>[...ss,Ne]),c===n.length-1?t("completed"):(d(ss=>ss+1),u(null),y(Date.now()))}}),[l,n,c,w]),L=i.useCallback(()=>{t("setup"),r(10),o([]),d(0),u(null),p([]),j(0),y(0),v(!1),T(null)},[]),E=i.useCallback(()=>{n.length>0?f(n.length):L()},[n.length,f,L]),U=i.useCallback(()=>{t("setup")},[]),H=i.useCallback(()=>h===0?0:((s==="completed"?Date.now():h)-h)/1e3,[h,s]),Y=i.useCallback(()=>n.length===0?0:(c+1)/n.length*100,[c,n.length]),we=i.useCallback(()=>n[c],[n,c]),Ye=i.useCallback(()=>{const B=m.filter($e=>$e.isCorrect).length,Q=m.length,Ae=Q>0?Math.round(B/Q*100):0;return{correctAnswers:B,totalQuestions:Q,percentage:Ae,totalTime:H()}},[m,H]);return{testState:s,selectedQuestionCount:a,questions:n,currentQuestionIndex:c,selectedAnswer:l,answers:m,loading:b,error:C,startTest:f,selectAnswer:N,nextQuestion:g,resetTest:L,restartTest:E,goBackToSetup:U,setSelectedQuestionCount:r,getTotalTime:H,getProgress:Y,getCurrentQuestion:we,getStats:Ye,isAnswerSelected:l!==null,isLastQuestion:c===n.length-1,canProceed:l!==null}},da=i.memo(({onBack:s,label:t="Powrót"})=>e.jsxs(x.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:s,className:"flex items-center gap-2 text-gray-400 hover:text-js transition-colors",children:[e.jsx(de,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:t})]}));da.displayName="BackButton";const ma=i.memo(()=>e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"p-6 rounded-full bg-js/10 border border-js/20",children:e.jsx(Te,{className:"w-12 h-12 text-js"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Test teorii JavaScript"}),e.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"Sprawdź swoją wiedzę teoretyczną z JavaScript. Wybierz ilość pytań i rozpocznij test."})]})]}));ma.displayName="TheoryHeader";const xa=i.memo(({options:s,selectedCount:t,onSelectionChange:a})=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 text-js",children:[e.jsx(ln,{className:"w-5 h-5"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Wybierz ilość pytań"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.map(r=>e.jsx(x.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>a(r.value),className:`p-4 rounded-xl border transition-all ${t===r.value?"bg-js/10 border-js text-js":"bg-dark-700/30 border-gray-600 text-gray-300 hover:border-js/50"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold",children:r.label}),e.jsxs("div",{className:"text-sm opacity-70 flex items-center justify-center gap-1 mt-1",children:[e.jsx(F,{className:"w-3 h-3"}),r.time]})]})},r.value))})]}));xa.displayName="QuestionSelector";const ua=i.memo(({details:s})=>e.jsxs("div",{className:"bg-dark-700/30 border border-js/10 rounded-xl p-6 space-y-3",children:[e.jsx("h4",{className:"text-js font-semibold text-center",children:"Informacje o teście"}),e.jsx("div",{className:"grid md:grid-cols-3 gap-4 text-sm text-gray-400",children:s.map((t,a)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium text-white",children:t.title}),e.jsx("div",{children:t.description})]},a))})]}));ua.displayName="TestInfoSection";const pa=i.memo(({questionCount:s,onStart:t,loading:a=!1})=>e.jsx(x.button,{whileHover:{scale:a?1:1.05},whileTap:{scale:a?1:.95},onClick:t,disabled:a,className:`w-full bg-gradient-to-r from-js to-js/80 text-dark font-bold py-4 px-8 rounded-xl hover:shadow-lg transition-all flex items-center justify-center gap-3 text-lg ${a?"opacity-50 cursor-not-allowed":""}`,children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-dark border-t-transparent rounded-full animate-spin"}),"Ładowanie pytań..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ws,{className:"w-5 h-5"}),"Rozpocznij test (",s," pytań)"]})}));pa.displayName="StartButton";const Ko=(s,t,a)=>{const r=i.useMemo(()=>s[t],[s,t]),n=i.useMemo(()=>(t+1)/a*100,[t,a]),o=i.useMemo(()=>t===a-1,[t,a]);return{currentQuestion:r,progress:n,isLastQuestion:o,getOptionLetter:d=>String.fromCharCode(65+d)}},ha=i.memo(({onBack:s,currentQuestionIndex:t,totalQuestions:a,progress:r})=>e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 text-gray-400 hover:text-white transition-colors",children:[e.jsx(de,{}),"Powrót"]}),e.jsxs("div",{className:"text-white text-lg font-medium",children:["Pytanie ",t+1," z ",a]})]}),e.jsx("div",{className:"w-full h-2 bg-dark rounded-full overflow-hidden",children:e.jsx(x.div,{className:"h-full bg-gradient-to-r from-js to-js/80",initial:{width:0},animate:{width:`${r}%`},transition:{duration:.5}})})]}));ha.displayName="TestHeader";const ja=i.memo(({question:s,selectedAnswer:t,onAnswerSelect:a,currentQuestionIndex:r,getOptionLetter:n})=>e.jsxs(x.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"bg-dark-800/50 backdrop-blur-sm border border-js/10 rounded-2xl p-8 mb-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"text-js text-sm font-medium mb-2 uppercase tracking-wide",children:s.category}),e.jsx("h2",{className:"text-white text-2xl font-bold leading-relaxed",children:s.question})]}),e.jsx("div",{className:"space-y-4",children:s.options.map((o,c)=>e.jsx(x.button,{onClick:()=>a(c),className:`w-full p-4 rounded-xl border-2 text-left transition-all duration-200 ${t===c?"border-js bg-js/10 text-white":"border-js/10 bg-dark-700/50 text-gray-300 hover:border-js/20 hover:bg-dark-700"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${t===c?"border-js bg-js":"border-gray-600"}`,children:t===c&&e.jsx(G,{className:"text-dark text-xs"})}),e.jsx("span",{className:"text-lg",children:o})]}),e.jsx("div",{className:"text-gray-500 text-sm font-medium",children:n(c)})]})},c))})]},r));ja.displayName="QuestionCard";const ya=i.memo(({onNext:s,selectedAnswer:t,isLastQuestion:a})=>{const r=t!==null,n=()=>k(void 0,null,function*(){r&&(yield s())});return e.jsx("div",{className:"flex justify-end",children:e.jsx(x.button,{onClick:n,disabled:!r,className:`px-8 py-4 rounded-xl font-medium text-lg transition-all duration-200 ${r?"bg-gradient-to-r from-js to-js/80 text-dark hover:shadow-lg hover:shadow-js/20":"bg-dark-700 text-gray-500 cursor-not-allowed"}`,whileHover:r?{scale:1.05}:{},whileTap:r?{scale:.95}:{},children:a?"Zakończ test":"Następne pytanie"})})});ya.displayName="TestActions";const ga=i.memo(({questions:s,currentQuestionIndex:t,selectedAnswer:a,onAnswerSelect:r,onNext:n,onBack:o,totalQuestions:c})=>{const{currentQuestion:d,progress:l,isLastQuestion:u,getOptionLetter:m}=Ko(s,t,c);return e.jsx("div",{className:"min-h-screen bg-dark/50 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-4xl",children:[e.jsx(ha,{onBack:o,currentQuestionIndex:t,totalQuestions:c,progress:l}),e.jsx(ja,{question:d,selectedAnswer:a,onAnswerSelect:r,currentQuestionIndex:t,getOptionLetter:m}),e.jsx(ya,{onNext:n,selectedAnswer:a,isLastQuestion:u})]})})});ga.displayName="TestScreen";const qo=(s,t,a=0)=>{const r=i.useMemo(()=>{const l=t.filter(h=>h.isCorrect).length,u=s.length,m=Math.round(l/u*100),p=s.reduce((h,j,w)=>{var b;const y=j.category;return h[y]||(h[y]={total:0,correct:0}),h[y].total++,(b=t[w])!=null&&b.isCorrect&&h[y].correct++,h},{});return{correctAnswers:l,totalQuestions:u,percentage:m,categoryStats:p,averageTime:a/u||0}},[s,t,a]),o=(l=>l>=90?{level:"Doskonały",color:"text-green-400",bgColor:"bg-green-500/10"}:l>=80?{level:"Bardzo dobry",color:"text-blue-400",bgColor:"bg-blue-500/10"}:l>=70?{level:"Dobry",color:"text-js",bgColor:"bg-js/10"}:l>=60?{level:"Zadowalający",color:"text-orange-400",bgColor:"bg-orange-500/10"}:{level:"Wymaga poprawy",color:"text-red-400",bgColor:"bg-red-500/10"})(r.percentage);return{stats:r,performance:o,formatTime:l=>{if(l<60)return`${Math.round(l)}s`;const u=Math.floor(l/60),m=Math.round(l%60);return`${u}:${m.toString().padStart(2,"0")}`},getRecommendations:(()=>{const l=[];r.percentage>=90?l.push("Doskonały wynik! Jesteś gotowy na rozmowę techniczną."):r.percentage>=70?l.push("Dobry wynik! Powtórz tematy gdzie miałeś błędy."):l.push("Warto powtórzyć materiał i przejść test ponownie.");const u=Object.entries(r.categoryStats).filter(([,m])=>m.correct/m.total<.7).slice(0,2).map(([m])=>`• Skup się na temacie: ${m}`);return[...l,...u]})()}},ba=i.memo(({onBack:s})=>e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 text-gray-400 hover:text-white transition-colors",children:[e.jsx(de,{}),"Powrót do teorii"]}),e.jsx("div",{className:"text-white text-xl font-bold",children:"Wyniki testu"})]}));ba.displayName="ResultsHeader";const fa=i.memo(({correctAnswers:s,totalQuestions:t,percentage:a,performance:r})=>e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-dark-800/50 backdrop-blur-sm border border-js/10 rounded-2xl p-8 mb-8 text-center",children:e.jsxs(x.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"mb-6",children:[e.jsx(q,{className:"text-js text-6xl mx-auto mb-4"}),e.jsxs("div",{className:"text-white text-4xl font-bold mb-2",children:[s,"/",t]}),e.jsxs("div",{className:"text-js text-2xl font-bold mb-4",children:[a,"% poprawnych odpowiedzi"]}),e.jsx("div",{className:`inline-block px-6 py-3 rounded-full ${r.bgColor} ${r.color} font-medium text-lg`,children:r.level})]})}));fa.displayName="MainResultCard";const wa=i.memo(({correctAnswers:s,totalQuestions:t,totalTime:a,formatTime:r})=>e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-dark-800/50 backdrop-blur-sm border border-js/10 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(gs,{className:"text-js text-xl"}),e.jsx("h3",{className:"text-white text-lg font-bold",children:"Statystyki"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Poprawne:"}),e.jsx("span",{className:"text-green-400 font-medium",children:s})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Błędne:"}),e.jsx("span",{className:"text-red-400 font-medium",children:t-s})]}),a>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Czas całkowity:"}),e.jsx("span",{className:"text-white font-medium",children:r(a)})]})]})]}));wa.displayName="StatsCard";const Na=i.memo(({categoryStats:s})=>e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-dark-800/50 backdrop-blur-sm border border-js/10 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(st,{className:"text-js text-xl"}),e.jsx("h3",{className:"text-white text-lg font-bold",children:"Według kategorii"})]}),e.jsx("div",{className:"space-y-3",children:Object.entries(s).map(([t,a])=>{const r=Math.round(a.correct/a.total*100);return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:t}),e.jsxs("span",{className:"text-white font-medium",children:[a.correct,"/",a.total," (",r,"%)"]})]}),e.jsx("div",{className:"w-full h-2 bg-dark rounded-full overflow-hidden",children:e.jsx(x.div,{className:"h-full bg-gradient-to-r from-js to-js/80",initial:{width:0},animate:{width:`${r}%`},transition:{delay:.5,duration:1}})})]},t)})})]}));Na.displayName="CategoryStatsCard";const va=i.memo(({recommendations:s,percentage:t})=>{const a=()=>t>=90?"text-green-400":t>=70?"text-js":"text-orange-400";return e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-dark-800/50 backdrop-blur-sm border border-js/10 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(M,{className:"text-js text-xl"}),e.jsx("h3",{className:"text-white text-lg font-bold",children:"Rekomendacje"})]}),e.jsx("div",{className:"space-y-3 text-sm",children:s.map((r,n)=>e.jsx("p",{className:n===0?a():"text-gray-400",children:r},n))})]})});va.displayName="RecommendationsCard";const ka=i.memo(({questions:s,answers:t})=>e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-dark-800/50 backdrop-blur-sm border border-js/10 rounded-2xl p-6 mb-8",children:[e.jsx("h3",{className:"text-white text-lg font-bold mb-6",children:"Szczegółowe odpowiedzi"}),e.jsx("div",{className:"space-y-4",children:s.map((a,r)=>{var c;const n=t[r],o=n==null?void 0:n.isCorrect;return e.jsx("div",{className:"border border-js/10 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${o?"bg-green-500":"bg-red-500"}`,children:o?e.jsx(G,{className:"text-white text-xs"}):e.jsx(Ue,{className:"text-white text-xs"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-gray-400 text-sm mb-1",children:a.category}),e.jsx("div",{className:"text-white font-medium mb-2",children:a.question}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:`text-sm ${o?"text-green-400":"text-red-400"}`,children:["Twoja odpowiedź: ",a.options[(n==null?void 0:n.selectedAnswer)||0]]}),e.jsxs("div",{className:"text-green-400 text-sm",children:["Poprawna odpowiedź: ",a.options[(c=n==null?void 0:n.correctAnswer)!=null?c:a.correctAnswer]]}),e.jsxs("div",{className:"text-gray-300 text-sm bg-dark-700/50 p-3 rounded-lg",children:[e.jsx("strong",{children:"Wyjaśnienie:"})," ",(n==null?void 0:n.explanation)||a.explanation]})]})]})]})},a._id)})})]}));ka.displayName="DetailedAnswers";const Sa=i.memo(({onRestart:s})=>e.jsx("div",{className:"flex gap-4 justify-center",children:e.jsxs(x.button,{onClick:s,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-js to-js/80 text-dark font-medium rounded-xl hover:shadow-lg hover:shadow-js/20 transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(Ns,{}),"Rozpocznij ponownie"]})}));Sa.displayName="ResultsActions";const za=i.memo(({questions:s,answers:t,onRestart:a,onBack:r,totalTime:n=0})=>{const{stats:o,performance:c,formatTime:d,getRecommendations:l}=qo(s,t,n);return e.jsx("div",{className:"min-h-screen bg-dark/50 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx(ba,{onBack:r}),e.jsx(fa,{correctAnswers:o.correctAnswers,totalQuestions:o.totalQuestions,percentage:o.percentage,performance:c}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[e.jsx(wa,{correctAnswers:o.correctAnswers,totalQuestions:o.totalQuestions,totalTime:n,formatTime:d}),e.jsx(Na,{categoryStats:o.categoryStats}),e.jsx(va,{recommendations:l,percentage:o.percentage})]}),e.jsx(ka,{questions:s,answers:t}),e.jsx(Sa,{onRestart:a})]})})});za.displayName="ResultsScreen";const Ca=i.memo(({onBack:s})=>{const{selectedCount:t,questionOptions:a,testInfo:r,cardVariants:n,handleQuestionCountChange:o}=Qo(),{testState:c,questions:d,currentQuestionIndex:l,selectedAnswer:u,answers:m,loading:p,error:h,startTest:j,selectAnswer:w,nextQuestion:y,resetTest:b,restartTest:v,goBackToSetup:C,setSelectedQuestionCount:T,getTotalTime:f}=Zo(),N=()=>k(void 0,null,function*(){yield j(t)}),g=()=>{C()},L=()=>{b(),s()};return c==="inProgress"?e.jsx(ga,{questions:d,currentQuestionIndex:l,selectedAnswer:u,onAnswerSelect:w,onNext:y,onBack:g,totalQuestions:d.length}):c==="completed"?e.jsx(za,{questions:d,answers:m,onRestart:v,onBack:g,totalTime:f()}):e.jsx("div",{className:"min-h-screen bg-dark/50 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs(x.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,ease:"easeOut"},className:"max-w-2xl w-full space-y-8",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx(da,{onBack:L})}),e.jsxs(x.div,{variants:n,initial:"hidden",animate:"visible",className:"bg-dark-700/50 border border-js/10 rounded-2xl p-8 text-center space-y-8",children:[e.jsx(ma,{}),e.jsx(xa,{options:a,selectedCount:t,onSelectionChange:E=>{T(E),o(E)}}),e.jsx(ua,{details:r.details}),e.jsx(pa,{questionCount:t,onStart:N,loading:p}),h&&e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4 text-red-400 text-center",children:h})]}),e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.5},className:"text-center text-gray-400 text-sm",children:["Tematy: ",r.topics]})]})})});Ca.displayName="TheorySection";const Xo=(s=50)=>k(void 0,null,function*(){try{const t=yield X.get(`practice-tasks?limit=${s}`);if(t.error)return{data:null,error:t.error,status:t.status};if(t.data){if(t.data.success&&t.data.data)return{data:t.data.data,error:null,status:t.status};if(Array.isArray(t.data))return{data:t.data,error:null,status:t.status}}return{data:null,error:"Nieprawidłowa struktura odpowiedzi z serwera",status:t.status}}catch(t){return{data:null,error:"Błąd połączenia z serwerem",status:0}}}),Yo=s=>k(void 0,null,function*(){try{const t=yield X.get(`practice-tasks/${s}/solution`);if(t.error)return{data:null,error:t.error,status:t.status};if(t.data){if(t.data.success&&t.data.data)return{data:t.data.data,error:null,status:t.status};if("solution"in t.data)return{data:t.data,error:null,status:t.status}}return{data:null,error:"Rozwiązanie nie zostało znalezione",status:404}}catch(t){return{data:null,error:"Błąd podczas pobierania rozwiązania",status:0}}}),el=()=>k(void 0,null,function*(){try{const s=yield X.get("practice-tasks/categories");if(s.error)return{data:null,error:s.error,status:s.status};if(s.data){if(s.data.success&&s.data.data)return{data:["Wszystkie",...s.data.data],error:null,status:s.status};if(Array.isArray(s.data))return{data:["Wszystkie",...s.data],error:null,status:s.status}}return{data:["Wszystkie"],error:null,status:s.status}}catch(s){return{data:["Wszystkie"],error:null,status:0}}}),sl=()=>k(void 0,null,function*(){try{const s=yield X.get("practice-tasks/stats");if(s.error)return{data:null,error:s.error,status:s.status};if(s.data){if(s.data.success&&s.data.data)return{data:s.data.data,error:null,status:s.status};if("totalTasks"in s.data&&"tasksByDifficulty"in s.data)return{data:s.data,error:null,status:s.status}}return{data:null,error:"Błąd podczas pobierania statystyk",status:s.status}}catch(s){return{data:null,error:"Błąd podczas pobierania statystyk",status:0}}}),Is=s=>({id:s._id,title:s.title,description:s.description,difficulty:s.difficulty,category:s.category,estimatedTime:s.estimatedTime,taskContent:s.taskContent,solution:s.solution||"",tips:s.tips,tags:s.tags}),Ta=()=>{const[s,t]=i.useState(!1),[a,r]=i.useState(null),n=i.useCallback((l=50)=>k(void 0,null,function*(){t(!0),r(null);try{const u=yield Xo(l);return u.error?(r(u.error),{data:null,error:u.error}):u.data?{data:u.data.map(Is),error:null}:{data:null,error:"Brak danych"}}catch(u){const m="Błąd podczas ładowania zadań";return r(m),{data:null,error:m}}finally{t(!1)}}),[]),o=i.useCallback(()=>k(void 0,null,function*(){try{const l=yield el();return l.error?(r(l.error),{data:null,error:l.error}):{data:l.data,error:null}}catch(l){const u="Błąd podczas ładowania kategorii";return r(u),{data:null,error:u}}}),[]),c=i.useCallback(()=>k(void 0,null,function*(){try{const l=yield sl();return l.error?(r(l.error),{data:null,error:l.error}):l.data?{data:{total:l.data.totalTasks,easy:l.data.tasksByDifficulty.easy,medium:l.data.tasksByDifficulty.medium,hard:l.data.tasksByDifficulty.hard},error:null}:{data:null,error:"Brak danych statystyk"}}catch(l){const u="Błąd podczas ładowania statystyk";return r(u),{data:null,error:u}}}),[]),d=i.useCallback(l=>k(void 0,null,function*(){t(!0),r(null);try{const u=yield Yo(l);return u.error?(r(u.error),{data:null,error:u.error}):{data:u.data,error:null}}catch(u){const m="Błąd podczas ładowania rozwiązania";return r(m),{data:null,error:m}}finally{t(!1)}}),[]);return{loading:s,error:a,loadTasks:n,loadCategories:o,loadStats:c,loadSolution:d,convertApiTaskToLocal:Is}},tl=s=>{const[t,a]=i.useState("Wszystkie"),[r,n]=i.useState("all"),[o,c]=i.useState(""),d=i.useMemo(()=>s.filter(m=>{const p=t==="Wszystkie"||m.category===t,h=r==="all"||m.difficulty===r,j=m.title.toLowerCase().includes(o.toLowerCase())||m.description.toLowerCase().includes(o.toLowerCase())||m.tags.some(w=>w.toLowerCase().includes(o.toLowerCase()));return p&&h&&j}),[s,t,r,o]);return{selectedCategory:t,selectedDifficulty:r,searchQuery:o,filteredTasks:d,setSelectedCategory:a,setSelectedDifficulty:n,setSearchQuery:c,resetFilters:()=>{a("Wszystkie"),n("all"),c("")},getActiveFiltersCount:()=>{let m=0;return t!=="Wszystkie"&&m++,r!=="all"&&m++,o.trim()!==""&&m++,m}}},al=()=>{const[s,t]=i.useState(null),[a,r]=i.useState(!1),[n,o]=i.useState(!1),{loadSolution:c}=Ta(),d=i.useCallback(p=>{t(p),r(!1)},[]),l=i.useCallback(()=>{t(null),r(!1)},[]),u=i.useCallback(()=>k(void 0,null,function*(){if(s){if(!a&&(!s.solution||s.solution==="")){o(!0);try{const p=yield c(s.id);p.data&&p.data.solution&&t(h=>h?z(S({},h),{solution:p.data.solution}):null)}catch(p){console.error("Błąd podczas ładowania rozwiązania:",p)}finally{o(!1)}}r(p=>!p)}}),[s,a,c]),m=i.useCallback(()=>{t(null),r(!1),o(!1)},[]);return{selectedTask:s,showSolution:a,solutionLoading:n,handleTaskSelect:d,handleBackToList:l,handleShowSolution:u,resetTask:m}},rl=()=>{const[s,t]=i.useState([]),[a,r]=i.useState(["Wszystkie"]),[n,o]=i.useState({total:0,easy:0,medium:0,hard:0}),{loading:c,error:d,loadTasks:l,loadCategories:u,loadStats:m}=Ta(),p=tl(s),h=al();return i.useEffect(()=>{k(void 0,null,function*(){try{const[w,y,b]=yield Promise.all([l(50),u(),m()]);w.data&&t(w.data),y.data&&r(["Wszystkie",...y.data]),b.data&&o(b.data)}catch(w){console.error("Błąd podczas ładowania danych:",w)}})},[l,u,m]),{tasks:p.filteredTasks,categories:a,stats:n,loading:c,error:d,selectedCategory:p.selectedCategory,selectedDifficulty:p.selectedDifficulty,searchQuery:p.searchQuery,setSelectedCategory:p.setSelectedCategory,setSelectedDifficulty:p.setSelectedDifficulty,setSearchQuery:p.setSearchQuery,resetFilters:p.resetFilters,getActiveFiltersCount:p.getActiveFiltersCount,selectedTask:h.selectedTask,showSolution:h.showSolution,solutionLoading:h.solutionLoading,handleTaskSelect:h.handleTaskSelect,handleBackToList:h.handleBackToList,handleShowSolution:h.handleShowSolution,resetTask:h.resetTask}},il={easy:"Łatwe",medium:"Średnie",hard:"Trudne"},nl=({task:s})=>e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:s.title}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${s.difficulty==="easy"?"bg-green-500/10 text-green-400 border-green-500/20":s.difficulty==="medium"?"bg-js/10 text-js border-js/20":"bg-red-500/10 text-red-400 border-red-500/20"}`,children:il[s.difficulty]})]}),e.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-400 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.estimatedTime," min"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"w-4 h-4"}),e.jsx("span",{children:s.category})]})]}),e.jsx("p",{className:"text-gray-300 text-lg",children:s.description})]}),ol=({task:s})=>e.jsxs("div",{className:"bg-dark-700/50 border border-js/10 rounded-xl p-6 mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx(A,{className:"w-5 h-5 text-js"}),"Zadanie"]}),e.jsx("div",{className:"bg-dark-700/30 border border-gray-600 rounded-lg",children:e.jsx(vs,{language:"javascript",style:at,customStyle:{background:"transparent",padding:"1rem",fontSize:"0.875rem",borderRadius:"0.5rem"},children:s.taskContent})})]}),ll=({task:s})=>s.tips.length===0?null:e.jsxs("div",{className:"bg-dark-700/50 border border-js/10 rounded-xl p-6 mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx(ue,{className:"w-5 h-5 text-js"}),"Wskazówki"]}),e.jsx("ul",{className:"space-y-2",children:s.tips.map((t,a)=>e.jsxs("li",{className:"flex items-start gap-2 text-gray-300",children:[e.jsx("span",{className:"text-js mt-1",children:"•"}),e.jsx("span",{children:t})]},a))})]}),cl=({task:s,showSolution:t,copied:a,onShowSolution:r,onCopySolution:n})=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6 flex gap-4",children:[e.jsxs(x.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:r,className:"flex items-center gap-2 bg-js hover:bg-js/80 text-dark px-6 py-3 rounded-lg font-medium transition-colors",children:[t?e.jsx(cn,{className:"w-4 h-4"}):e.jsx(dn,{className:"w-4 h-4"}),t?"Ukryj rozwiązanie":"Pokaż rozwiązanie"]}),t&&e.jsxs(x.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:n,className:`flex items-center gap-2 px-6 py-3 rounded-lg font-medium transition-all ${a?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-600 hover:bg-gray-700 text-white"}`,children:[a?e.jsx(G,{className:"w-4 h-4"}):e.jsx(ks,{className:"w-4 h-4"}),a?"Skopiowane!":"Kopiuj kod"]})]}),t&&e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-dark-700/50 border border-green-500/20 rounded-xl p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx(A,{className:"w-5 h-5 text-green-400"}),"Rozwiązanie"]}),e.jsx("div",{className:"bg-dark-700/30 border border-gray-600 rounded-lg",children:e.jsx(vs,{language:"javascript",style:at,customStyle:{background:"transparent",padding:"1rem",fontSize:"0.875rem",borderRadius:"0.5rem"},children:s.solution})})]})]}),dl=({task:s})=>s.tags.length===0?null:e.jsx("div",{className:"mt-6 flex flex-wrap gap-2",children:s.tags.map((t,a)=>e.jsx("span",{className:"px-3 py-1 bg-dark-700/30 border border-gray-600 text-gray-300 rounded-full text-sm",children:t},a))}),ml=({task:s,showSolution:t,onBack:a,onShowSolution:r})=>{const[n,o]=i.useState(!1),c=()=>k(void 0,null,function*(){try{yield navigator.clipboard.writeText(s.solution),o(!0),setTimeout(()=>o(!1),2e3)}catch(d){console.error("Nie udało się skopiować tekstu: ",d)}});return e.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-dark backdrop-blur-sm z-50 overflow-y-auto",children:e.jsxs("div",{className:"min-h-screen p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs(x.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:a,className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors",children:[e.jsx(de,{className:"w-4 h-4"}),e.jsx("span",{children:"Powrót do listy zadań"})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx(nl,{task:s}),e.jsx(ol,{task:s}),e.jsx(ll,{task:s}),e.jsx(cl,{task:s,showSolution:t,copied:n,onShowSolution:r,onCopySolution:c}),e.jsx(dl,{task:s})]})]})})},xl={easy:"Łatwe",medium:"Średnie",hard:"Trudne"},ul=({task:s,index:t,onSelect:a})=>e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.1},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>a(s),className:"bg-dark-700/50 border border-js/10 rounded-xl p-6 cursor-pointer hover:border-js/20 transition-all group",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-white pr-4 group-hover:text-js transition-colors",children:s.title}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${s.difficulty==="easy"?"bg-green-500/10 text-green-400 border-green-500/20":s.difficulty==="medium"?"bg-js/10 text-js border-js/20":"bg-red-500/10 text-red-400 border-red-500/20"}`,children:xl[s.difficulty]})]}),e.jsx("p",{className:"text-gray-300 mb-4 line-clamp-3",children:s.description}),e.jsx("div",{className:"flex items-center justify-between text-sm text-gray-400 mb-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(F,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.estimatedTime," min"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(A,{className:"w-4 h-4"}),e.jsx("span",{children:s.category})]})]})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.tags.slice(0,3).map((r,n)=>e.jsx("span",{className:"px-2 py-1 bg-dark-700/30 border border-js text-white rounded text-xs",children:r},n)),s.tags.length>3&&e.jsxs("span",{className:"px-2 py-1 bg-dark-700/30 border border-js text-white rounded text-xs",children:["+",s.tags.length-3]})]})]}),pl=({stats:s})=>e.jsxs("div",{className:"flex justify-center gap-8 mt-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:s.total}),e.jsx("div",{className:"text-sm text-gray-400",children:"Wszystkich zadań"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-400",children:s.easy}),e.jsx("div",{className:"text-sm text-gray-400",children:"Łatwych"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-js",children:s.medium}),e.jsx("div",{className:"text-sm text-gray-400",children:"Średnich"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-400",children:s.hard}),e.jsx("div",{className:"text-sm text-gray-400",children:"Trudnych"})]})]}),hl=({categories:s,selectedCategory:t,selectedDifficulty:a,searchQuery:r,onCategoryChange:n,onDifficultyChange:o,onSearchQueryChange:c,onResetFilters:d})=>e.jsxs("div",{className:"bg-dark-700/50 border border-js/10 rounded-xl p-6 space-y-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[e.jsx(mn,{className:"w-4 h-4 text-js"}),"Filtry"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Szukaj zadań...",value:r,onChange:l=>c(l.target.value),className:"w-full pl-10 pr-4 py-2 bg-dark border border-js rounded-lg text-white placeholder-white focus:outline-none focus:border-js/50"})]}),e.jsx("select",{value:t,onChange:l=>n(l.target.value),className:"px-4 py-2 bg-dark-700/30 border border-js rounded-lg text-white focus:outline-none focus:border-js/50",style:{backgroundColor:"#1b1a1b",color:"white"},children:s.map(l=>e.jsx("option",{value:l,style:{backgroundColor:"#1b1a1b",color:"white"},children:l},l))}),e.jsxs("select",{value:a,onChange:l=>o(l.target.value),className:"px-4 py-2 bg-dark-700/30 border border-js rounded-lg text-white focus:outline-none focus:border-js/50",style:{backgroundColor:"#1b1a1b",color:"white"},children:[e.jsx("option",{value:"all",style:{backgroundColor:"#1b1a1b",color:"white"},children:"Wszystkie poziomy"}),e.jsx("option",{value:"easy",style:{backgroundColor:"#1b1a1b",color:"white"},children:"Łatwe"}),e.jsx("option",{value:"medium",style:{backgroundColor:"#1b1a1b",color:"white"},children:"Średnie"}),e.jsx("option",{value:"hard",style:{backgroundColor:"#1b1a1b",color:"white"},children:"Trudne"})]})]}),e.jsx("button",{onClick:d,className:"text-js hover:text-js/80 text-sm transition-colors",children:"Resetuj filtry"})]}),jl=({onResetFilters:s})=>e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 text-lg mb-4",children:"Nie znaleziono zadań"}),e.jsx("button",{onClick:s,className:"text-js hover:text-js/80 transition-colors",children:"Resetuj filtry"})]}),La=({onBack:s})=>{const{tasks:t,categories:a,stats:r,selectedTask:n,showSolution:o,selectedCategory:c,selectedDifficulty:d,searchQuery:l,loading:u,error:m,setSelectedCategory:p,setSelectedDifficulty:h,setSearchQuery:j,handleTaskSelect:w,handleBackToList:y,handleShowSolution:b,resetFilters:v}=rl();return n?e.jsx(ml,{task:n,showSolution:o,onBack:y,onShowSolution:b}):u?e.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),e.jsx("p",{className:"text-gray-300",children:"Ładowanie zadań..."})]})}):m?e.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"text-red-400 text-xl",children:"⚠️"}),e.jsx("p",{className:"text-red-400",children:m}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Spróbuj ponownie"})]})}):e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(x.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:s,className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors",children:[e.jsx(de,{className:"w-4 h-4"}),e.jsx("span",{children:"Powrót"})]})}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Zadania Praktyczne"}),e.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Rozwiąż praktyczne zadania programistyczne, które często pojawiają się na rozmowach kwalifikacyjnych."}),e.jsx(pl,{stats:r})]}),e.jsx(hl,{categories:a,selectedCategory:c,selectedDifficulty:d,searchQuery:l,onCategoryChange:p,onDifficultyChange:C=>h(C),onSearchQueryChange:j,onResetFilters:v}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map((C,T)=>e.jsx(ul,{task:C,index:T,onSelect:w},C.id))}),t.length===0&&e.jsx(jl,{onResetFilters:v})]})};La.displayName="PracticeSection";const Pa=i.memo(({onBack:s})=>{const[t,a]=i.useState("main"),{interviewBlocks:r,interviewTips:n,containerVariants:o,itemVariants:c}=Ho(),d=u=>{u==="theory"?a("theory"):u==="practice"&&a("practice")},l=()=>{a("main")};return t==="theory"?e.jsx(Ca,{onBack:l}):t==="practice"?e.jsx(La,{onBack:l}):e.jsxs(x.div,{variants:o,initial:"hidden",animate:"visible",className:"space-y-8",children:[e.jsx(oa,{onBack:s}),e.jsx(x.div,{variants:o,className:"grid md:grid-cols-2 gap-6",children:r.map(u=>e.jsx(la,{block:u,variants:c,onClick:()=>d(u.id)},u.id))}),e.jsx(ca,{tips:n,variants:c})]})});Pa.displayName="TechnicalInterviewSection";const Hs=(...t)=>k(void 0,[...t],function*(s={}){var n;const a=new URLSearchParams;s.category&&a.append("category",s.category),s.importance&&a.append("importance",s.importance),s.search&&a.append("search",s.search),(n=s.tags)!=null&&n.length&&a.append("tags",s.tags.join(",")),s.limit&&a.append("limit",s.limit.toString()),s.page&&a.append("page",s.page.toString()),s.sortBy&&a.append("sortBy",s.sortBy),s.sortOrder&&a.append("sortOrder",s.sortOrder);const r=yield X.get(`cv/tips?${a}`);if(r.error)throw new Error(r.error);return r.data}),Gs=(...t)=>k(void 0,[...t],function*(s={}){var n;const a=new URLSearchParams;s.type&&a.append("type",s.type),s.level&&a.append("level",s.level),s.field&&a.append("field",s.field),s.search&&a.append("search",s.search),(n=s.tags)!=null&&n.length&&a.append("tags",s.tags.join(",")),s.limit&&a.append("limit",s.limit.toString()),s.page&&a.append("page",s.page.toString()),s.sortBy&&a.append("sortBy",s.sortBy),s.sortOrder&&a.append("sortOrder",s.sortOrder);const r=yield X.get(`cv/examples?${a}`);if(r.error)throw new Error(r.error);return r.data}),Ws=()=>k(void 0,null,function*(){const s=yield X.get("cv/stats");if(s.error)throw new Error(s.error);return s.data}),yl=s=>k(void 0,null,function*(){const t=yield X.post("cv/progress",s);if(t.error)throw new Error(t.error)}),gl=()=>{const[s,t]=i.useState([]),[a,r]=i.useState([]),[n,o]=i.useState(null),[c,d]=i.useState(!1),[l,u]=i.useState(null),[m,p]=i.useState(1),[h,j]=i.useState(1),[w,y]=i.useState(!1),b=i.useCallback(()=>k(void 0,null,function*(){d(!0),u(null);try{const[f,N,g]=yield Promise.all([Hs({limit:50,sortBy:"order"}),Gs({limit:50,sortBy:"order"}),Ws()]);t(f.data),r(N.data),o(g)}catch(f){u(f instanceof Error?f.message:"Błąd podczas ładowania danych")}finally{d(!1)}}),[]),v=i.useCallback((f,N=1)=>k(void 0,null,function*(){d(!0),u(null);try{const g=yield Hs(z(S({},f),{page:N,limit:20,sortBy:"order"}));t(N===1?g.data:L=>[...L,...g.data]),p(g.pagination.page),j(g.pagination.totalPages),y(g.pagination.hasNext)}catch(g){u(g instanceof Error?g.message:"Błąd podczas ładowania porad")}finally{d(!1)}}),[]),C=i.useCallback((f,N=1)=>k(void 0,null,function*(){d(!0),u(null);try{const g=yield Gs(z(S({},f),{page:N,limit:20,sortBy:"order"}));r(N===1?g.data:L=>[...L,...g.data]),p(g.pagination.page),j(g.pagination.totalPages),y(g.pagination.hasNext)}catch(g){u(g instanceof Error?g.message:"Błąd podczas ładowania przykładów")}finally{d(!1)}}),[]),T=i.useCallback(()=>k(void 0,null,function*(){try{const f=yield Ws();o(f)}catch(f){console.error("Błąd podczas odświeżania statystyk:",f)}}),[]);return i.useEffect(()=>{b()},[b]),{tips:s,examples:a,stats:n,loading:c,error:l,currentPage:m,totalPages:h,hasMore:w,loadTips:v,loadExamples:C,refreshStats:T,refetch:b,setCurrentPage:p,setError:u}},bl=()=>{const[s,t]=i.useState("main"),[a,r]=i.useState(""),[n,o]=i.useState("all"),c=i.useCallback(p=>{t(p)},[]),d=i.useCallback(()=>{t("main"),r(""),o("all")},[]),l=i.useCallback(p=>{r(p)},[]),u=i.useCallback(()=>{r(""),o("all")},[]),m=i.useCallback(()=>{let p=0;return a.trim()!==""&&p++,n!=="all"&&p++,p},[a,n]);return{currentView:s,searchQuery:a,selectedCategory:n,setCurrentView:t,setSearchQuery:r,setSelectedCategory:o,handleSectionClick:c,handleBackToMain:d,handleSearch:l,resetFilters:u,getActiveFiltersCount:m}},fl=({refreshStats:s})=>({trackProgress:i.useCallback((a,r)=>k(void 0,null,function*(){try{yield yl({type:a,itemId:r}),yield s()}catch(n){console.error("Błąd podczas śledzenia postępu:",n)}}),[s])}),wl=(s,t,a)=>({cvPreparationSections:i.useMemo(()=>{var n,o,c,d;return[{id:"content-tips",title:"Treść i zawartość",description:"Jak napisać CV które sprzeda Twoje umiejętności",icon:We,stats:{items:s.filter(l=>l.category==="content").length,completed:((n=a==null?void 0:a.userProgress)==null?void 0:n.completedSections)||0},isAvailable:!0},{id:"technical-tips",title:"Umiejętności techniczne",description:"Jak prezentować projekty i technologie",icon:A,stats:{items:s.filter(l=>["skills","projects"].includes(l.category)).length,completed:((o=a==null?void 0:a.userProgress)==null?void 0:o.completedSections)||0},isAvailable:!0},{id:"design-tips",title:"Formatowanie i design",description:"Jak sprawić żeby CV wyglądało profesjonalnie",icon:xn,stats:{items:s.filter(l=>l.category==="design").length,completed:((c=a==null?void 0:a.userProgress)==null?void 0:c.completedSections)||0},isAvailable:!0},{id:"examples",title:"Przykłady opisów",description:"Gotowe opisy projektów i doświadczenia",icon:ue,stats:{items:t.length,completed:((d=a==null?void 0:a.userProgress)==null?void 0:d.completedSections)||0},isAvailable:!0}]},[s,t,a])}),Nl=()=>({"content-tips":["content"],"technical-tips":["skills","projects"],"design-tips":["design"]}),vl=()=>({"content-tips":{title:"Treść i zawartość",description:"Jak napisać CV które sprzeda Twoje umiejętności"},"technical-tips":{title:"Umiejętności techniczne",description:"Jak prezentować projekty i technologie"},"design-tips":{title:"Formatowanie i design",description:"Jak sprawić żeby CV wyglądało profesjonalnie"},examples:{title:"Przykłady opisów",description:"Gotowe opisy projektów i doświadczenia"}}),kl=()=>{const s=gl(),t=bl(),a=fl({refreshStats:s.refreshStats}),{cvPreparationSections:r}=wl(s.tips,s.examples,s.stats),n=i.useMemo(()=>({hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}}),[]),o=i.useMemo(()=>({hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}}),[]),c=i.useMemo(()=>{if(t.currentView==="main")return s.tips;const h=Nl()[t.currentView]||[];return s.tips.filter(j=>h.includes(j.category))},[s.tips,t.currentView]),d=i.useCallback(p=>{if(t.handleSectionClick(p),s.setCurrentPage(1),p==="examples")s.loadExamples({search:t.searchQuery||void 0},1);else{const j={"content-tips":"content","technical-tips":"skills","design-tips":"design"}[p];j&&s.loadTips({category:j,search:t.searchQuery||void 0},1)}},[t,s]),l=i.useCallback(p=>{if(t.handleSearch(p),s.setCurrentPage(1),t.currentView==="examples")s.loadExamples({search:p||void 0},1);else if(t.currentView!=="main"){const j={"content-tips":"content","technical-tips":"skills","design-tips":"design"}[t.currentView];j&&s.loadTips({category:j,search:p||void 0},1)}},[t,s]),u=i.useCallback(()=>{if(!s.hasMore||s.loading)return;const p=s.currentPage+1;if(t.currentView==="examples")s.loadExamples({search:t.searchQuery||void 0},p);else{const j={"content-tips":"content","technical-tips":"skills","design-tips":"design"}[t.currentView];j&&s.loadTips({category:j,search:t.searchQuery||void 0},p)}},[t,s]),m=i.useCallback(()=>{t.handleBackToMain(),s.setCurrentPage(1)},[t,s]);return{currentView:t.currentView,searchQuery:t.searchQuery,selectedCategory:t.selectedCategory,tips:c,examples:s.examples,stats:s.stats,loading:s.loading,error:s.error,currentPage:s.currentPage,totalPages:s.totalPages,hasMore:s.hasMore,cvPreparationSections:r,containerVariants:n,itemVariants:o,handleSectionClick:d,handleBackToMain:m,handleSearch:l,loadMore:u,trackProgress:a.trackProgress,setCurrentView:t.setCurrentView,setSearchQuery:t.setSearchQuery,setSelectedCategory:t.setSelectedCategory,resetFilters:t.resetFilters,getActiveFiltersCount:t.getActiveFiltersCount,refetch:s.refetch}},qe=i.memo(({title:s,description:t,onBack:a,showBackButton:r=!0})=>e.jsxs("header",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:r&&e.jsxs(x.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:a,className:"flex items-center gap-2 text-gray-400 hover:text-js transition-colors",children:[e.jsx(de,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Powrót"})]})}),e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"p-6 rounded-full bg-js/10 border border-js/20",children:e.jsx(We,{className:"w-12 h-12 text-js"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:s}),e.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto leading-relaxed",children:t})]})]})]}));qe.displayName="CVHeader";const Ea=i.memo(({error:s,onBack:t,onRetry:a=()=>window.location.reload()})=>e.jsx("div",{className:"min-h-screen bg-dark/50 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx(qe,{title:"Przygotowanie CV",description:"Stwórz profesjonalne CV, które przyciągnie uwagę rekruterów",onBack:t}),e.jsxs("div",{className:"mt-8 bg-red-500/10 border border-red-500/20 rounded-lg p-6 text-center",children:[e.jsx(K,{className:"w-8 h-8 text-red-400 mx-auto mb-4"}),e.jsx("p",{className:"text-red-400 mb-4",children:s}),e.jsx("button",{onClick:a,className:"px-4 py-2 bg-red-500/20 border border-red-500/30 rounded-lg text-red-400 hover:bg-red-500/30 transition-colors",children:"Spróbuj ponownie"})]})]})}));Ea.displayName="CVErrorState";const Aa=i.memo(({section:s,variants:t,onClick:a})=>{const{title:r,description:n,icon:o,stats:c,isAvailable:d}=s;return e.jsxs(x.div,{variants:t,whileHover:d?{scale:1.02}:{},onClick:d?a:void 0,className:`
        relative bg-dark-700/50 border border-js/10 rounded-xl p-6 transition-all
        ${d?"hover:border-js/20 cursor-pointer group":"opacity-60 cursor-not-allowed"}
      `,children:[!d&&e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"p-2 bg-dark rounded-full border border-gray-600",children:e.jsx(se,{className:"w-3 h-3 text-gray-400"})})}),e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:`
          p-3 rounded-lg border transition-colors
          ${d?"bg-js/10 border-js/20 group-hover:bg-js/20":"bg-gray-700/30 border-gray-600"}
        `,children:e.jsx(o,{className:`w-6 h-6 ${d?"text-js":"text-gray-400"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`
            text-xl font-bold mb-2 transition-colors
            ${d?"text-white group-hover:text-js":"text-gray-400"}
          `,children:r}),e.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:n})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[e.jsxs("span",{children:["Dostępne: ",c.items]}),c.completed!==void 0&&e.jsxs("span",{children:["Ukończone: ",c.completed]})]}),!d&&e.jsx("span",{className:"text-xs bg-gray-700/50 text-gray-400 border border-gray-600 px-2 py-1 rounded",children:"Wkrótce"}),d&&e.jsx("span",{className:"text-xs bg-green-500/10 text-green-400 border border-green-500/20 px-2 py-1 rounded",children:"Dostępne"})]}),c.completed!==void 0&&c.completed>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"w-full h-2 bg-dark rounded-full overflow-hidden",children:e.jsx(x.div,{className:"h-full bg-gradient-to-r from-js to-js/80",initial:{width:0},animate:{width:`${c.completed/c.items*100}%`},transition:{duration:1,delay:.5}})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[e.jsxs("span",{children:[c.completed," z ",c.items]}),e.jsxs("span",{children:[Math.round(c.completed/c.items*100),"%"]})]})]})]})});Aa.displayName="CVSectionCard";const $a=i.memo(({stats:s,variants:t})=>{var a,r;return e.jsx(x.div,{variants:t,className:"bg-dark-700/30 border border-js/10 rounded-xl p-6",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-js",children:s.totalTips}),e.jsx("div",{className:"text-sm text-gray-400",children:"Dostępnych porad"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-js",children:s.totalExamples}),e.jsx("div",{className:"text-sm text-gray-400",children:"Gotowych przykładów"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl font-bold text-js",children:[((a=s.userProgress)==null?void 0:a.completionPercentage)||0,"%"]}),e.jsx("div",{className:"text-sm text-gray-400",children:"Ukończono"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-js",children:((r=s.userProgress)==null?void 0:r.tipsViewed)||0}),e.jsx("div",{className:"text-sm text-gray-400",children:"Przeczytanych porad"})]})]})})});$a.displayName="CVStatsOverview";const Ra=i.memo(({variants:s})=>e.jsxs(x.div,{variants:s,className:"bg-dark-700/30 border border-js/10 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"💡 Dlaczego te porady są skuteczne?"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm text-gray-400",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold text-js",children:"Sprawdzone metody"}),e.jsx("p",{children:"Każda rada jest oparta na doświadczeniu rekruterów IT i feedback od programistów, którzy znaleźli pracę."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold text-js",children:"Konkretne przykłady"}),e.jsx("p",{children:'Zamiast ogólnych wskazówek, pokazujemy dokładnie co napisać i jak to zrobić - z przykładami "dobrze" vs "źle".'})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold text-js",children:"Dla programistów"}),e.jsx("p",{children:"Wszystkie porady są specjalnie dostosowane do branży IT i tego, na co rekruterzy zwracają uwagę w CV developerów."})]})]})]}));Ra.displayName="CVInfoSection";const Da=i.memo(({stats:s,loading:t,cvPreparationSections:a,containerVariants:r,itemVariants:n,onBack:o,onSectionClick:c})=>e.jsx("div",{className:"min-h-screen bg-dark/50 backdrop-blur-sm p-4",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs(x.div,{variants:r,initial:"hidden",animate:"visible",className:"space-y-8",children:[e.jsx(qe,{title:"Przygotowanie CV",description:"Stwórz profesjonalne CV, które przyciągnie uwagę rekruterów i wyróżni Cię na rynku pracy",onBack:o}),t&&!s&&e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(ne,{className:"w-8 h-8 text-js animate-spin"})}),s&&e.jsx($a,{stats:s,variants:n}),e.jsx(x.div,{variants:r,className:"grid md:grid-cols-2 gap-6",children:a.map(d=>e.jsx(Aa,{section:d,variants:n,onClick:()=>c(d.id)},d.id))}),e.jsx(Ra,{variants:n})]})})}));Da.displayName="CVMainView";const Fa=i.memo(({tip:s,index:t})=>{const[a,r]=i.useState(!1),o={low:{bg:"bg-gray-500/10",border:"border-gray-500/20",text:"text-gray-400"},medium:{bg:"bg-blue-500/10",border:"border-blue-500/20",text:"text-blue-400"},high:{bg:"bg-orange-500/10",border:"border-orange-500/20",text:"text-orange-400"},critical:{bg:"bg-red-500/10",border:"border-red-500/20",text:"text-red-400"}}[s.importance];return e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.1},className:"bg-dark-700/30 border border-js/10 rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-start gap-4 mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:s.title}),e.jsxs("span",{className:`
                px-2 py-1 rounded text-xs ${o.bg} ${o.border} ${o.text} border
              `,children:[s.importance==="low"&&"Niska",s.importance==="medium"&&"Średnia",s.importance==="high"&&"Wysoka",s.importance==="critical"&&"Krytyczna"]})]}),e.jsx("p",{className:"text-gray-400 leading-relaxed",children:s.description})]})}),e.jsxs(x.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r(!a),className:"w-full flex items-center justify-between p-3 bg-dark-700/50 border border-js/10 rounded-lg hover:border-js/20 transition-colors",children:[e.jsx("span",{className:"text-js font-medium",children:a?"Ukryj przykłady":"Pokaż przykłady"}),a?e.jsx(rt,{className:"w-4 h-4 text-js"}):e.jsx(it,{className:"w-4 h-4 text-js"})]})]}),e.jsx(x.div,{initial:!1,animate:{height:a?"auto":0,opacity:a?1:0},transition:{duration:.3},className:"overflow-hidden",children:e.jsx("div",{className:"px-6 pb-6",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"flex items-center gap-2 text-green-400 font-semibold mb-3",children:[e.jsx(G,{className:"w-4 h-4"}),"Dobrze ✅"]}),e.jsx("ul",{className:"space-y-2",children:s.examples.good.map((c,d)=>e.jsx("li",{className:"text-sm text-gray-300 p-3 bg-green-500/5 border border-green-500/20 rounded-lg",children:c},d))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"flex items-center gap-2 text-red-400 font-semibold mb-3",children:[e.jsx(Ue,{className:"w-4 h-4"}),"Źle ❌"]}),e.jsx("ul",{className:"space-y-2",children:s.examples.bad.map((c,d)=>e.jsx("li",{className:"text-sm text-gray-300 p-3 bg-red-500/5 border border-red-500/20 rounded-lg",children:c},d))})]})]})})})]})});Fa.displayName="TipCard";const Ma=i.memo(({example:s,index:t})=>{const[a,r]=i.useState(!1),[n,o]=i.useState(!1),c={junior:{bg:"bg-green-500/10",border:"border-green-500/20",text:"text-green-400"},mid:{bg:"bg-blue-500/10",border:"border-blue-500/20",text:"text-blue-400"},senior:{bg:"bg-purple-500/10",border:"border-purple-500/20",text:"text-purple-400"}},d={"full-cv":We,section:A,"skill-description":A,"project-description":A},l=c[s.level],u=d[s.type],m=()=>k(void 0,null,function*(){try{yield navigator.clipboard.writeText(s.content),o(!0),setTimeout(()=>o(!1),2e3)}catch(p){console.error("Failed to copy text: ",p)}});return e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.1},className:"bg-dark-700/30 border border-js/10 rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 rounded-lg bg-js/10 border border-js/20",children:e.jsx(u,{className:"w-6 h-6 text-js"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:s.title}),e.jsx("span",{className:`
                  px-2 py-1 rounded text-xs ${l.bg} ${l.border} ${l.text} border
                `,children:s.level}),e.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-500/10 border border-gray-500/20 text-gray-400",children:s.field})]}),e.jsx("p",{className:"text-gray-400 leading-relaxed",children:s.description})]})]}),e.jsx(x.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:m,className:"flex items-center gap-2 px-3 py-2 bg-js/10 border border-js/20 rounded-lg hover:bg-js/20 transition-colors",children:n?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:"text-sm text-green-400",children:"Skopiowano!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ks,{className:"w-4 h-4 text-js"}),e.jsx("span",{className:"text-sm text-js",children:"Kopiuj"})]})})]}),e.jsxs(x.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r(!a),className:"w-full flex items-center justify-between p-3 bg-dark-700/50 border border-js/10 rounded-lg hover:border-js/20 transition-colors",children:[e.jsx("span",{className:"text-js font-medium",children:a?"Ukryj przykład":"Pokaż przykład"}),a?e.jsx(rt,{className:"w-4 h-4 text-js"}):e.jsx(it,{className:"w-4 h-4 text-js"})]})]}),e.jsx(x.div,{initial:!1,animate:{height:a?"auto":0,opacity:a?1:0},transition:{duration:.3},className:"overflow-hidden",children:e.jsxs("div",{className:"px-6 pb-6",children:[e.jsx("div",{className:"bg-dark-700/50 border border-js/10 rounded-lg p-4 mb-4",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap font-mono leading-relaxed",children:s.content})}),s.highlightPoints.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-js font-semibold mb-3 flex items-center gap-2",children:[e.jsx(G,{className:"w-4 h-4"}),"Kluczowe elementy:"]}),e.jsx("ul",{className:"space-y-2",children:s.highlightPoints.map((p,h)=>e.jsxs("li",{className:"text-sm text-gray-300 p-3 bg-js/5 border border-js/20 rounded-lg flex items-start gap-2",children:[e.jsx(G,{className:"w-4 h-4 text-js mt-0.5 flex-shrink-0"}),p]},h))})]})]})})]})});Ma.displayName="ExampleCard";const Oa=i.memo(({title:s,description:t,type:a,items:r,loading:n,hasMore:o,onBack:c,onLoadMore:d})=>e.jsx("div",{className:"min-h-screen bg-dark/50 backdrop-blur-sm p-4",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-8",children:[e.jsx(qe,{title:s,description:t,onBack:c}),n&&e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(ne,{className:"w-8 h-8 text-js animate-spin"})}),e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"grid gap-6",children:[a==="tips"?r.map((l,u)=>e.jsx(Fa,{tip:l,index:u},l.id)):r.map((l,u)=>e.jsx(Ma,{example:l,index:u},l.id)),o&&!n&&e.jsx("div",{className:"flex justify-center py-4",children:e.jsx("button",{onClick:d,className:`px-6 py-2 bg-js/20 hover:bg-js/30 border border-js/30 \r
                         rounded-lg text-js font-medium transition-colors`,children:"Załaduj więcej"})}),r.length===0&&!n&&e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"text-gray-400",children:[e.jsx("p",{className:"text-lg mb-2",children:"Brak wyników"}),e.jsx("p",{className:"text-sm",children:"Spróbuj zmienić kryteria wyszukiwania"})]})})]})]})})}));Oa.displayName="CVDetailView";const _a=i.memo(({onBack:s})=>{const{currentView:t,tips:a,examples:r,stats:n,loading:o,error:c,cvPreparationSections:d,containerVariants:l,itemVariants:u,hasMore:m,handleSectionClick:p,handleBackToMain:h,loadMore:j}=kl(),w=i.useMemo(()=>{const b=vl()[t];return b?t==="examples"?{title:b.title,description:b.description,items:r,type:"examples"}:{title:b.title,description:b.description,items:a,type:"tips"}:null},[t,a,r]);return c?e.jsx(Ea,{error:c,onBack:s}):w&&t!=="main"?e.jsx(Oa,{title:w.title,description:w.description,type:w.type,items:w.items,loading:o,hasMore:m,onBack:h,onLoadMore:j}):e.jsx(Da,{stats:n,loading:o,cvPreparationSections:d,containerVariants:l,itemVariants:u,onBack:s,onSectionClick:p})});_a.displayName="CVPreparationSection";const Ba=i.memo(()=>{const[s,t]=i.useState("main"),{recruitmentSections:a,stats:r,containerVariants:n,itemVariants:o}=_o(),c=l=>{l==="technical-interview"?t("technical-interview"):l==="cv-preparation"&&t("cv-preparation")},d=()=>{t("main")};return s==="technical-interview"?e.jsx(Pa,{onBack:d}):s==="cv-preparation"?e.jsx(_a,{onBack:d}):e.jsxs(x.div,{variants:n,initial:"hidden",animate:"visible",className:"space-y-8",children:[e.jsx(ra,{}),e.jsx(x.div,{variants:n,className:"grid md:grid-cols-2 gap-6",children:a.map(l=>e.jsx(ia,{section:l,variants:o,onClick:()=>c(l.id)},l.id))}),e.jsx(na,{stats:r,variants:o})]})});Ba.displayName="Recruitment";const Ia=i.memo(()=>{const[s,t]=Ys(),{isAuthenticated:a,isAuthChecking:r}=_(),n=s.get("tab")||"paths",o=d=>{t(l=>(d==="paths"?(l.delete("tab"),l.delete("filter")):l.set("tab",d),l))},c={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return r||!a?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(I,{})}):e.jsxs(x.div,{variants:c,initial:"hidden",animate:"visible",className:"min-h-screen bg-dark/50 backdrop-blur-sm",children:[e.jsxs(ie,{children:[e.jsx("title",{children:"Nauka | CodeLinesJS"}),e.jsx("meta",{name:"description",content:"Nauka JavaScript - dołącz do nas i rozwijaj swoje umiejętności w przyjaznym środowisku."})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx(Rn,{title:"Nauka JavaScript",subtitle:"Wybierz swoją ścieżkę nauki i rozpocznij przygodę z JS",className:"mb-8",titleClassName:"text-js drop-shadow-lg",subtitleClassName:"text-gray-400"}),e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-xl p-6",children:[e.jsx(aa,{activeTab:n,onTabChange:o}),e.jsxs(x.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3,type:"spring",stiffness:200,damping:20},className:"mt-8",children:[n==="paths"&&e.jsx(ta,{}),n==="lessons"&&e.jsx(Jt,{}),n==="resources"&&e.jsx(Zt,{}),n==="recruitment"&&e.jsx(Ba,{})]},n)]})]})]})});Ia.displayName="LearnSection";const Ld=Object.freeze(Object.defineProperty({__proto__:null,LearnSection:Ia},Symbol.toStringTag,{value:"Module"})),Sl=(s,t,a)=>k(void 0,null,function*(){const r=yield fetch(`${$}users/${s}/lessons/${t}/progress`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)});if(!r.ok)throw new Error("Błąd podczas aktualizacji postępu");return r.json()}),zl=s=>{const{user:t,isAuthenticated:a,isAuthChecking:r}=_(),n=ye(),{refetch:o}=Kt(),[c,d]=i.useState(0),{data:l,isLoading:u,error:m,refetch:p}=V({queryKey:["lesson",s],queryFn:()=>zo(s),enabled:!!s&&a&&!r,retry:!1}),h=u||!l&&!m,j=(m==null?void 0:m.message)==="lesson_not_found",w=ce({mutationFn:Co,onSuccess:()=>{n.invalidateQueries({queryKey:["userProgress"]}),n.invalidateQueries({queryKey:["lessons"]}),n.invalidateQueries({queryKey:["lesson",s]}),o()}}),y=ce({mutationFn:f=>Sl(t==null?void 0:t.id,s,f),onSuccess:()=>{n.invalidateQueries({queryKey:["userProgress"]})}}),b=f=>{d(f)},v=f=>k(void 0,null,function*(){!(t!=null&&t.id)||!s||(yield y.mutateAsync({completedSections:[...(l==null?void 0:l.completedSections)||[],f],isCompleted:!1,points:0}))}),C=f=>k(void 0,null,function*(){!(t!=null&&t.id)||!s||(yield y.mutateAsync({completedSections:(l==null?void 0:l.completedSections)||[],isCompleted:!1,points:f}))}),T=()=>k(void 0,null,function*(){if(!s||!l)return console.error("Brak wymaganych danych:",{lessonSlug:s,lesson:l}),Promise.reject(new Error("Brak wymaganych danych"));try{const f=yield w.mutateAsync({lessonId:l.id,pathId:l.pathId});return yield p(),yield o(),P.success("Lekcja ukończona!",{duration:3e3,position:"bottom-right"}),f}catch(f){throw console.error("Błąd podczas kończenia lekcji:",f),P.error("Nie udało się ukończyć lekcji. Spróbuj ponownie.",{duration:4e3,position:"bottom-right"}),f}});return{lesson:l,isLoading:h,error:m,isNotFound:j,activeSection:c,progress:l==null?void 0:l.progress,refetch:p,handleSectionChange:b,handleSectionComplete:v,handleQuizComplete:C,handleLessonComplete:T,completeLessonMutation:w}},Ee=i.memo(({children:s})=>e.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen bg-dark/50 backdrop-blur-sm py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s})}));Ee.displayName="LessonLayout";const Ha=i.memo(()=>e.jsxs(Le,{to:"/dashboard/learn",className:"inline-flex items-center gap-2 text-js hover:text-js/80 transition-colors mb-6",children:[e.jsx(nt,{className:"w-4 h-4"}),"Wróć do listy lekcji"]}));Ha.displayName="BackToLessons";const rs={BEGINNER:"beginner",INTERMEDIATE:"intermediate",ADVANCED:"advanced"},Cl={[rs.BEGINNER]:"bg-green-500/10 text-green-400",[rs.INTERMEDIATE]:"bg-yellow-500/10 text-yellow-400",[rs.ADVANCED]:"bg-red-500/10 text-red-400"},Ga=i.memo(({difficulty:s})=>e.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs font-medium ${Cl[s]}`,children:s==="beginner"?"Podstawowy":s==="intermediate"?"Średni":"Zaawansowany"}));Ga.displayName="DifficultyBadge";const Wa=i.memo(({xp:s})=>e.jsxs("span",{className:"flex items-center gap-1 text-js bg-js/10 px-2.5 py-1 rounded-lg text-sm",children:[e.jsx(M,{className:"w-4 h-4"}),s," XP"]}));Wa.displayName="XpBadge";const Tl=i.memo(({title:s,duration:t,difficulty:a,xp:r})=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(Ga,{difficulty:a}),e.jsx(Wa,{xp:r})]}),e.jsx("h1",{className:"text-3xl font-bold text-js mb-4",children:s}),e.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(F,{className:"w-4 h-4"}),t," min"]})})]})),Ll=s=>s?s.replace(/<!--[\s\S]*?-->/g,"").replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/javascript:/gi,"").replace(/on\w+=/gi,"").replace(/data:/gi,"nodata:").replace(/eval\s*\(/gi,"").replace(/new\s+Function\s*\(/gi,""):"",Pl=vs,Ua=i.memo(({code:s,language:t,showLineNumbers:a=!0,className:r})=>{const n=Ll(s),o=()=>{navigator.clipboard.writeText(n)};return e.jsxs("div",{className:`relative group ${r}`,children:[e.jsx("button",{onClick:o,className:`absolute right-2 top-2 p-2 rounded-lg bg-dark/50 text-gray-400 \r
          opacity-0 group-hover:opacity-100 transition-opacity hover:text-js`,title:"Kopiuj kod",children:e.jsx(ks,{className:"w-4 h-4"})}),e.jsx(Pl,{language:t,style:un,showLineNumbers:a,wrapLines:!0,customStyle:{margin:0,borderRadius:"0.5rem",background:"transparent"},codeTagProps:{style:{fontFamily:"JetBrains Mono, monospace"}},children:n})]})});Ua.displayName="CodeBlock";const El=i.memo(({example:s,index:t})=>s.code?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-200",children:["Przykład ",t+1,":"]}),e.jsx(Ua,{code:s.code,language:s.language||"javascript",showLineNumbers:!0,className:"rounded-lg border border-js/10"}),s.explanation&&e.jsx("p",{className:"text-gray-400 text-sm",children:s.explanation})]}):e.jsx("div",{className:"p-4 bg-dark-800/50 rounded-lg border border-js/10",children:e.jsx("p",{className:"text-gray-400 text-sm text-center",children:"Ten przykład nie zawiera jeszcze kodu."})})),Qa=i.memo(({section:s,index:t})=>e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-js",children:[t+1,". ",s.title]}),e.jsx("div",{className:"prose prose-invert max-w-none",children:s.content}),e.jsx("div",{className:"space-y-8 mt-8",children:s.examples&&s.examples.length>0&&e.jsx("div",{className:"space-y-8 mt-8",children:s.examples.map((a,r)=>e.jsx(El,{example:a,index:r},r))})})]}));Qa.displayName="LessonSection";const is={perfect:{icon:q,label:"Perfekcyjnie!",color:"text-yellow-500"},excellent:{icon:qs,label:"Świetnie!",color:"text-js"},good:{icon:M,label:"Mogło być lepiej!",color:"text-blue-500"}},Al=s=>s===100?is.perfect:s>=80?is.excellent:is.good,Ja=i.memo(({correctAnswers:s,totalQuestions:t})=>{const a=s/t*100,r=Al(a),n=r.icon;return e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-dark-800/50 border border-js/10 rounded-lg p-6 text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(n,{className:`w-12 h-12 ${r.color}`}),e.jsx(x.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3},className:"absolute -right-2 -bottom-2",children:e.jsx(M,{className:"w-6 h-6 text-yellow-500 animate-pulse"})})]})}),e.jsx("h3",{className:`text-xl font-bold ${r.color} mb-2`,children:r.label}),e.jsxs("p",{className:"text-gray-400 mb-4",children:["Poprawne odpowiedzi: ",s," z ",t]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(x.div,{initial:{width:0},animate:{width:"100%"},className:"h-2 bg-dark rounded-full overflow-hidden mx-auto",children:e.jsx(x.div,{initial:{width:0},animate:{width:`${a}%`},className:`h-full ${a===100?"bg-yellow-500":"bg-js"}`,transition:{delay:.5,duration:.8}})}),e.jsxs("p",{className:"text-sm text-gray-400",children:[Math.round(a),"% poprawnych odpowiedzi"]})]})]})}),Va=i.memo(({questions:s,onComplete:t})=>{const[a,r]=i.useState(0),[n,o]=i.useState(null),[c,d]=i.useState(0),[l,u]=i.useState(!1),[m,p]=i.useState(!1),h=100,j=a/s.length*100,w=b=>{o(b),p(!0),b===s[a].correctAnswer&&d(v=>v+1)},y=()=>{a<s.length-1?(r(b=>b+1),o(null),p(!1)):(t(c,s.length),u(!0))};return l?e.jsx(Ja,{correctAnswers:c,totalQuestions:s.length,earnedXP:Math.round(c/s.length*h)}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-sm text-gray-400",children:["Pytanie ",a+1," z ",s.length]}),e.jsx("span",{className:"text-js",children:"•"})]}),e.jsxs("div",{className:"text-sm text-gray-400",children:[Math.round(j),"% ukończone"]})]}),m&&e.jsx(x.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-dark-800/50 border border-js/10 rounded-lg text-gray-400 text-sm",children:s[a].explanation}),n!==null&&e.jsx(x.button,{initial:{opacity:0},animate:{opacity:1},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:y,className:"w-full py-3 bg-js/10 text-js rounded-lg hover:bg-js/20 transition-colors",children:a<s.length-1?"Następne pytanie":"Zakończ quiz"}),e.jsx("div",{className:"text-lg font-medium text-gray-200",children:s[a].question}),e.jsx("div",{className:"space-y-3",children:s[a].options.map((b,v)=>e.jsx(x.button,{whileHover:{scale:1.02},whileTap:{scale:.98},disabled:n!==null,onClick:()=>w(v),className:`w-full p-4 rounded-lg border text-left transition-colors
              ${n===null?"border-js/10 hover:border-js/20":v===s[a].correctAnswer?"border-green-500 bg-green-500/10 text-green-400":n===v?"border-red-500 bg-red-500/10 text-red-400":"border-js/10 opacity-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:b}),n!==null&&(v===s[a].correctAnswer?e.jsx(G,{className:"w-4 h-4 text-green-400"}):n===v?e.jsx(Ue,{className:"w-4 h-4 text-red-400"}):null)]})},v))})]})});Va.displayName="LessonQuiz";Ja.displayName="QuizSummary";const Za=i.memo(({lesson:s,onQuizComplete:t})=>{if(!s)return null;if(!s.content)return e.jsx("div",{className:"w-[85vw] mb-32 md:w-auto md:mb-auto col-span-9 lesson-content overflow-y-auto max-h-[calc(100vh-200px)]",children:e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-xl p-6 md:p-8 text-center",children:[e.jsx("h2",{className:"text-xl text-js mb-4",children:"Brak treści lekcji"}),e.jsx("p",{className:"text-gray-400",children:"Treść lekcji jest niedostępna. Spróbuj ponownie później."})]})});const{sections:a=[]}=s.content;return e.jsx("div",{className:"w-[85vw] mb-32 md:w-auto md:mb-auto col-span-9 lesson-content overflow-y-auto max-h-[calc(100vh-200px)]",children:e.jsx(x.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"bg-dark-800/50 border border-js/10 rounded-xl p-6 md:p-8",children:e.jsxs("div",{className:"space-y-8",children:[e.jsx(Tl,{title:s.title,duration:String(s.duration),difficulty:s.difficulty,xp:s.points}),e.jsxs("div",{className:"space-y-8",children:[a.map((r,n)=>e.jsx(Qa,{section:r,index:n},n)),s.content.quiz&&e.jsx(Va,{questions:s.content.quiz,onComplete:t})]})]})})})});Za.displayName="LessonMainContent";const Ka=i.memo(({isCompleted:s,onComplete:t})=>{const[a,r]=i.useState(0),[n,o]=i.useState(!1),c=Dn(0),d=je();i.useEffect(()=>{const m=document.querySelector(".lesson-content");if(!m)return;const p=()=>{const{scrollTop:h,scrollHeight:j,clientHeight:w}=m,y=h/(j-w)*100;r(Math.min(y,100)),c.set(Math.min(y,100))};return m.addEventListener("scroll",p),p(),()=>m.removeEventListener("scroll",p)},[c]);const l=a>=98&&!s,u=()=>k(void 0,null,function*(){if(!l||n){console.log("Nie można ukończyć lekcji:",{isLessonCompleted:l,isSubmitting:n});return}try{o(!0),yield t(),d("/dashboard/learn?tab=lessons")}catch(m){}finally{o(!1)}});return e.jsx("div",{className:"mb-5 fixed bottom-0 left-0 right-0 bg-dark-800/95 border-t border-js/10 backdrop-blur-sm",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 mr-8",children:[e.jsx("div",{className:"relative h-2 bg-dark rounded-full overflow-hidden",children:e.jsx(x.div,{style:{width:`${a}%`},className:"absolute inset-y-0 left-0 bg-js rounded-full"})}),e.jsx("div",{className:"flex justify-between text-sm text-gray-400 mt-2",children:e.jsxs("span",{children:[Math.round(a),"% przeczytane"]})})]}),e.jsxs(x.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:u,disabled:!l||n,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors
            ${l&&!n?"bg-js/10 text-js hover:bg-js/20":"bg-gray-800/50 text-gray-500 cursor-not-allowed"}`,children:[e.jsx(G,{className:"w-4 h-4"}),n?"Zapisywanie...":l?"Zakończ lekcję":"Przeczytaj całą lekcję"]})]})})});Ka.displayName="LessonProgress";const qa=i.memo(({lesson:s,activeSection:t,progress:a,onSectionComplete:r,onQuizComplete:n,onLessonComplete:o})=>{if(!s)return null;const d=(s.sections||[]).length;return e.jsx(e.Fragment,{children:e.jsxs(Ee,{children:[e.jsx(Ha,{}),e.jsx("div",{className:"w-full flex items-center justify-center",children:e.jsx(Za,{lesson:s,onSectionComplete:r,onQuizComplete:n})}),e.jsx(Ka,{currentSection:t,totalSections:d,progress:a,isCompleted:s.isCompleted||!1,onComplete:o})]})})});qa.displayName="LessonContent";const us=i.memo(()=>e.jsx("div",{className:"min-h-screen bg-dark/50 backdrop-blur-sm py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-js mb-4",children:"Lekcja nie została znaleziona"}),e.jsxs(Le,{to:"/dashboard/learn",className:"inline-flex items-center gap-2 text-js hover:text-js/80 transition-colors",children:[e.jsx(nt,{className:"w-4 h-4"}),"Wróć do listy lekcji"]})]})})}));us.displayName="LessonNotFound";const Xa=()=>{var j;const{lessonSlug:s}=Ss(),{stats:t,isLoading:a}=Es();if(!s)return e.jsx(ot,{to:"/dashboard/learn",replace:!0});const{lesson:r,isLoading:n,error:o,isNotFound:c,activeSection:d,progress:l,handleSectionComplete:u,handleQuizComplete:m,handleLessonComplete:p}=zl(s);if(n||a)return e.jsx(Rl,{});if(c)return e.jsx(us,{});if(o)return e.jsx(Dl,{onRetry:()=>window.location.reload()});if(!r)return e.jsx(us,{});const h=((j=t==null?void 0:t.data)==null?void 0:j.progress.level)||0;return r.requiredLevel&&h<r.requiredLevel?e.jsx($l,{requiredLevel:r.requiredLevel,userLevel:h}):e.jsxs(e.Fragment,{children:[e.jsxs(ie,{children:[e.jsxs("title",{children:[r.title," | CodeLinesJS"]}),e.jsx("meta",{name:"description",content:r.description})]}),e.jsx(qa,{lesson:r,activeSection:d,progress:typeof l=="number"?l:0,onSectionComplete:u,onQuizComplete:m,onLessonComplete:p})]})},$l=({requiredLevel:s,userLevel:t})=>e.jsx(Ee,{children:e.jsx("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center",children:e.jsxs("div",{className:"bg-dark-800/50 p-8 rounded-xl border border-js/10 max-w-md",children:[e.jsx("div",{className:"mb-4 bg-js/10 p-4 rounded-full w-16 h-16 flex items-center justify-center mx-auto",children:e.jsx(se,{className:"text-js text-2xl"})}),e.jsx("h2",{className:"text-xl font-bold text-js mb-2",children:"Lekcja zablokowana"}),e.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:["Aby odblokować tę lekcję, musisz osiągnąć poziom ",s,"."]}),e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Twój obecny poziom: ",e.jsx("span",{className:"text-js font-medium",children:t})]}),e.jsx("button",{onClick:()=>window.location.href="/dashboard/learn",className:"mt-4 px-4 py-2 bg-js/10 text-js rounded-lg hover:bg-js/20 transition-colors w-full",children:"Wróć do listy lekcji"})]})})}),Rl=()=>e.jsx(Ee,{children:e.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:e.jsx(I,{})})}),Dl=({onRetry:s})=>e.jsx(Ee,{children:e.jsx(Ke,{message:"Nie udało się pobrać lekcji. Spróbuj ponownie później.",onRetry:s})});Xa.displayName="LessonPage";const Pd=Object.freeze(Object.defineProperty({__proto__:null,LessonPage:Xa},Symbol.toStringTag,{value:"Module"})),Fl=[{id:"profile",label:"Profil",icon:lt},{id:"security",label:"Bezpieczeństwo",icon:se},{id:"preferences",label:"Preferencje",icon:Vs},{id:"delete",label:"Usuń konto",icon:zs}],De={container:"bg-dark/30 backdrop-blur-sm rounded-xl border border-js/10 p-4 h-fit shadow-lg",nav:"flex flex-col gap-2",button:s=>`
    flex items-center gap-3 p-3 rounded-lg text-left
    transition-colors duration-200
    ${s?"bg-js/20 text-js":"text-gray-400 hover:text-js hover:bg-js/10"}
  `,icon:"w-5 h-5"},Ya=i.memo(({activeView:s,onViewChange:t})=>{const a=i.useCallback(r=>{t(r)},[t]);return e.jsx("div",{className:De.container,children:e.jsx("nav",{className:De.nav,children:Fl.map(r=>e.jsxs(x.button,{whileHover:{x:4},whileTap:{scale:.98},onClick:()=>a(r.id),className:De.button(s===r.id),children:[e.jsx(r.icon,{className:De.icon}),r.label]},r.id))})})});Ya.displayName="SettingsSidebar";const er=()=>({"Content-Type":"application/json"}),Ml=()=>k(void 0,null,function*(){var n;const s=yield fetch(`${$}settings/profile`,{headers:er(),credentials:"include"});if(!s.ok)throw new Error("Błąd podczas pobierania profilu");const t=yield s.json(),a=t.data||t,r=a.user||a;return{username:r.username||"",email:r.email||"",profile:{bio:r.bio||((n=a.profile)==null?void 0:n.bio)||""}}}),Ol=s=>k(void 0,null,function*(){var r;const t={username:s.username,email:s.email,bio:((r=s.profile)==null?void 0:r.bio)||""},a=yield fetch(`${$}settings/profile`,{method:"PUT",headers:er(),credentials:"include",body:JSON.stringify(t)});if(!a.ok){const n=yield a.json().catch(()=>({}));throw new Error(n.message||"Błąd podczas aktualizacji profilu")}return a.json()}),_e=["profile"],sr=()=>{var c;const s=ye(),{isAuthenticated:t}=_(),{data:a,isLoading:r,error:n}=V({queryKey:_e,queryFn:()=>Ml(),enabled:t,staleTime:1e3*60*5}),o=ce({mutationFn:d=>Ol(d),onSuccess:d=>{s.setQueryData(_e,d),s.invalidateQueries({queryKey:_e})}});return{profile:a,username:(a==null?void 0:a.username)||"",email:(a==null?void 0:a.email)||"",bio:((c=a==null?void 0:a.profile)==null?void 0:c.bio)||"",isLoading:r,error:n,updateProfile:o}},_l=O.object({username:O.string().min(3,"Nazwa użytkownika musi mieć minimum 3 znaki").max(20,"Nazwa użytkownika może mieć maksymalnie 20 znaków"),email:O.string().email("Nieprawidłowy adres email"),profile:O.object({bio:O.string().max(160,"Bio może mieć maksymalnie 160 znaków").optional(),avatar:O.string().optional()})}),Bl=({onSubmit:s,defaultValues:t})=>{var n,o;const a=Qe({resolver:Ve(_l),defaultValues:{username:(t==null?void 0:t.username)||"",email:(t==null?void 0:t.email)||"",profile:{bio:((n=t==null?void 0:t.profile)==null?void 0:n.bio)||"",avatar:((o=t==null?void 0:t.profile)==null?void 0:o.avatar)||""}}}),r=c=>k(void 0,null,function*(){try{yield s(c)}catch(d){console.error("Failed to update profile:",d)}});return{form:a,onSubmit:a.handleSubmit(r)}},Il=s=>{var c;const{updateProfile:t}=sr(),a=i.useCallback(d=>k(void 0,null,function*(){var l;try{yield t.mutateAsync({username:d.username,email:d.email,profile:{bio:((l=d.profile)==null?void 0:l.bio)||""}})}catch(u){throw console.error("Błąd w useProfileFormLogic:",u),u}}),[t]),r={username:(s==null?void 0:s.username)||"",email:(s==null?void 0:s.email)||"",profile:{bio:((c=s==null?void 0:s.profile)==null?void 0:c.bio)||""}},{form:n,onSubmit:o}=Bl({onSubmit:a,defaultValues:r});return{form:n,onSubmit:o}},pe={form:`w-full max-w-2xl sm:ml-0 sm:mr-auto 
    space-y-8 px-4 sm:px-0`,usernameContainer:"flex flex-col gap-4",container:`bg-dark/30 backdrop-blur-sm rounded-xl 
    p-4 sm:p-6 md:p-8 border border-js/10 
    space-y-6 md:space-y-8`,header:"flex flex-col md:flex-row gap-6 md:gap-8",infoSection:"w-full md:w-2/3 space-y-6",bioSection:"space-y-4",bioLabel:`block text-gray-400 
    text-sm sm:text-base 
    font-medium`,bioTextarea:`w-full px-4 py-3 rounded-lg 
    bg-dark/50 border border-js/10 
    text-gray-300 placeholder-gray-500
    focus:outline-none focus:ring-2 focus:ring-js/50
    text-sm sm:text-base 
    min-h-[120px] max-h-[240px] 
    resize-y
    transition-colors duration-200`,error:"text-red-500 text-sm mt-1",successMessage:"text-green-500 mt-2 text-sm font-medium"},tr=i.memo(({register:s,errors:t})=>{var a,r;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:pe.usernameContainer,children:e.jsx(he,S({type:"text",label:"Nazwa użytkownika",placeholder:"Wprowadź nazwę użytkownika",icon:e.jsx(lt,{}),error:(a=t.username)==null?void 0:a.message},s("username")))}),e.jsx(he,S({type:"email",label:"Email",placeholder:"Wprowadź adres email",icon:e.jsx(pn,{}),error:(r=t.email)==null?void 0:r.message},s("email")))]})});tr.displayName="UserInfoFields";const Fe={container:"space-y-2",label:"block text-gray-400 text-sm",textarea:`w-full h-32 px-4 py-3 rounded-lg 
    bg-dark/50 border border-js/10
    text-gray-300 placeholder-gray-500
    focus:outline-none focus:ring-2 focus:ring-js/50
    resize-none`,error:"text-red-500 text-sm"},ar=i.memo(({register:s,errors:t,defaultValue:a})=>{var r;return e.jsxs("div",{className:Fe.container,children:[e.jsx("label",{className:Fe.label,children:"Bio"}),e.jsx("textarea",z(S({},s("profile.bio")),{className:Fe.textarea,placeholder:a||"Napisz coś o sobie..."})),((r=t.profile)==null?void 0:r.bio)&&e.jsx("span",{className:Fe.error,children:t.profile.bio.message})]})});ar.displayName="BioField";const ns={container:`flex flex-col-reverse sm:flex-row justify-end gap-3 sm:gap-4
    w-full sm:w-auto mt-6 sm:mt-8`,cancelButton:`w-full sm:w-auto order-1 sm:order-none
    px-4 sm:px-6 py-2.5 sm:py-3 rounded-lg
    bg-dark/50 text-gray-400
    border border-js/10 hover:border-js/30 hover:bg-dark/60
    disabled:opacity-50 disabled:cursor-not-allowed
    transition-colors duration-200 shadow-none
    text-sm sm:text-base font-medium
  `,submitButton:`w-full sm:w-auto
    px-4 sm:px-6 py-2.5 sm:py-3 rounded-lg
    bg-js text-dark
    hover:bg-js/90
    disabled:opacity-50 disabled:cursor-not-allowed
    transition-colors duration-200
    text-sm sm:text-base font-medium
    flex items-center justify-center
  `},Xe=i.memo(({onCancel:s,isSubmitting:t,submitText:a="Zapisz zmiany",loadingText:r="Zapisywanie",disabled:n=!1})=>e.jsxs("div",{className:ns.container,children:[e.jsx(ze,{type:"button",onClick:s,className:ns.cancelButton,disabled:t,children:"Anuluj zmiany"}),e.jsx(ze,{type:"submit",disabled:t||n,className:ns.submitButton,children:t?e.jsxs("div",{className:"flex items-center justify-center gap-2 min-w-[100px]",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-dark border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm sm:text-base whitespace-nowrap",children:r})]}):e.jsx("span",{className:"text-sm sm:text-base whitespace-nowrap",children:a})})]}));Xe.displayName="FormButtons";const rr=i.memo(({handleCancel:s,register:t,errors:a,defaultBio:r,isSubmitting:n,isPending:o,onSubmit:c,isSaved:d=!1,isDirty:l=!1})=>e.jsxs(x.form,{onSubmit:c,className:pe.form,initial:{opacity:0},animate:{opacity:1},children:[e.jsx("div",{className:pe.container,children:e.jsxs("div",{className:pe.header,children:[e.jsxs("div",{className:pe.infoSection,children:[e.jsx(tr,{register:t,errors:a}),e.jsx(ar,{register:t,errors:a,defaultValue:r})]}),d&&!l&&e.jsx("div",{className:pe.successMessage,children:"✓ Zapisano zmiany"})]})}),e.jsx(Xe,{onCancel:s,isSubmitting:n||o,submitText:"Zapisz profil",loadingText:"Zapisywanie",disabled:!l||n})]}));rr.displayName="ProfileFormContent";const ir=i.memo(()=>{const{profile:s,username:t,email:a,bio:r,isLoading:n,updateProfile:o}=sr(),{form:c,onSubmit:d}=Il(s||null),l=ye(),[u,m]=i.useState(!1),[p,h]=i.useState(!1),{register:j,formState:{errors:w,isDirty:y},reset:b,setValue:v,watch:C}=c,T=C();i.useEffect(()=>{y&&h(!1)},[T,y]),i.useEffect(()=>{s&&(v("username",t),v("email",a),v("profile.bio",r))},[s,v,t,a,r]);const f=i.useCallback(()=>{try{s&&(b(s),P.success("Zmiany zostały anulowane"),h(!1))}catch(g){P.error("Nie udało się anulować zmian")}},[s,b]),N=g=>k(void 0,null,function*(){if(!y){P.success("Nie wprowadzono żadnych zmian");return}try{m(!0),yield d(g),yield l.invalidateQueries({queryKey:_e}),h(!0),P.success("Profil został zaktualizowany pomyślnie")}catch(L){L instanceof Error?P.error(L.message||"Wystąpił błąd podczas aktualizacji profilu"):P.error("Wystąpił nieznany błąd podczas aktualizacji profilu")}finally{m(!1)}});return n?e.jsx(I,{}):e.jsxs(e.Fragment,{children:[p&&!y&&e.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 text-green-400 px-4 py-2 rounded-lg mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"✓"}),"Twój profil został zaktualizowany pomyślnie"]}),e.jsx(rr,{handleCancel:f,register:j,errors:w,defaultBio:r,isSubmitting:u||o.isPending,isPending:o.isPending,onSubmit:N,isSaved:p,isDirty:y})]})});ir.displayName="ProfileForm";const nr=i.memo(({form:s,errors:t})=>{var r,n,o;const{register:a}=s;return e.jsxs("div",{className:"space-y-6",children:[e.jsx(he,S({type:"password",label:"Aktualne hasło",placeholder:"Wprowadź aktualne hasło",icon:e.jsx(se,{}),error:(r=t.currentPassword)==null?void 0:r.message},a("currentPassword"))),e.jsx(he,S({type:"password",label:"Nowe hasło",placeholder:"Wprowadź nowe hasło",icon:e.jsx(se,{}),error:(n=t.newPassword)==null?void 0:n.message},a("newPassword"))),e.jsx(he,S({type:"password",label:"Powtórz nowe hasło",placeholder:"Powtórz nowe hasło",icon:e.jsx(se,{}),error:(o=t.confirmPassword)==null?void 0:o.message},a("confirmPassword")))]})});nr.displayName="PasswordFields";const Hl=O.object({currentPassword:O.string().min(1,"Aktualne hasło jest wymagane").min(8,"Hasło musi mieć minimum 8 znaków"),newPassword:O.string().min(1,"Nowe hasło jest wymagane").min(8,"Nowe hasło musi mieć minimum 8 znaków").regex(/[A-Z]/,"Hasło musi zawierać wielką literę").regex(/[0-9]/,"Hasło musi zawierać cyfrę"),confirmPassword:O.string().min(1,"Potwierdzenie hasła jest wymagane")}).refine(s=>s.newPassword===s.confirmPassword,{message:"Hasła muszą być takie same",path:["confirmPassword"]});class or extends Error{constructor(t,a){super(a),this.code=t,this.name="SecurityError"}}const Gl=s=>k(void 0,null,function*(){const t=yield fetch(`${$}settings/security/password`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)});if(!t.ok){const a=yield t.json(),r=a.message||"Wystąpił błąd podczas zmiany hasła",n=a.code||"UNKNOWN_ERROR";throw new or(n,r)}}),Wl=({onSuccess:s,onError:t}={})=>{const a=Qe({resolver:Ve(Hl),mode:"onSubmit",reValidateMode:"onSubmit",defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),r=ce({mutationFn:n=>Gl({currentPassword:n.currentPassword,newPassword:n.newPassword}),onSuccess:()=>{a.reset(),s==null||s()},onError:t});return{form:a,onSubmit:a.handleSubmit(n=>r.mutateAsync(n)),isUpdating:r.isPending}},Ul=()=>{const s=i.useCallback(()=>{P.success("Hasło zostało zmienione")},[]),t=i.useCallback(n=>{if(n instanceof or){P.error(n.message);return}P.error("Wystąpił błąd podczas zmiany hasła")},[]),a=i.useCallback(()=>{P.success("Zmiany zostały anulowane")},[]),r=i.useCallback(()=>{P.error("Nie udało się anulować zmian")},[]);return{handleSuccess:s,handleError:t,handleCancel:a,handleCancelError:r}},Ql={initial:{opacity:0},animate:{opacity:1}},lr=i.memo(()=>{const{handleSuccess:s,handleError:t,handleCancel:a,handleCancelError:r}=Ul(),{form:n,onSubmit:o,isUpdating:c}=Wl({onSuccess:()=>{s(),n.reset()},onError:t}),{formState:{errors:d,isSubmitting:l},reset:u}=n,m=i.useCallback(()=>{try{u(),a()}catch(p){r()}},[u,a,r]);return e.jsxs(x.form,z(S({onSubmit:o,className:"w-full max-w-md sm:ml-0 sm:mr-auto space-y-8 px-4 sm:px-0"},Ql),{children:[e.jsx(nr,{form:n,errors:d}),e.jsx(Xe,{onCancel:m,isSubmitting:l||c,submitText:"Zmień hasło",loadingText:"Zmienianie hasła"})]}))});lr.displayName="SecurityForm";const Jl=O.object({emailNotifications:O.boolean(),pushNotifications:O.boolean(),language:O.literal("pl")}),Vl=({onSubmit:s,defaultValues:t})=>{const a=Qe({resolver:Ve(Jl),defaultValues:t||{emailNotifications:!1,pushNotifications:!1,language:"pl"},mode:"onChange",reValidateMode:"onChange",resetOptions:{keepDirtyValues:!0,keepValues:!0}}),r=a.handleSubmit(n=>k(void 0,null,function*(){try{yield s(n)}catch(o){console.error("Failed to update preferences:",o)}}));return{form:a,onSubmit:r}};class J extends Error{constructor(t,a){super(a),this.code=t,this.name="PreferencesError"}}const Zl=()=>k(void 0,null,function*(){var s,t;try{const a=yield fetch(`${$}settings/preferences`,{headers:{"Content-Type":"application/json"},credentials:"include"});if(!a.ok){if(a.status===401)throw new J("AUTH_ERROR","Sesja wygasła. Zaloguj się ponownie.");const o=yield a.json().catch(()=>null);throw new J((o==null?void 0:o.code)||"UNKNOWN_ERROR",(o==null?void 0:o.message)||"Błąd podczas pobierania preferencji")}const r=yield a.json(),n=r.data||r;return{emailNotifications:(s=n.emailNotifications)!=null?s:!1,pushNotifications:(t=n.pushNotifications)!=null?t:!1,language:n.language||"pl"}}catch(a){throw a instanceof J?a:(console.error("Błąd w fetchPreferences:",a),new J("UNKNOWN_ERROR","Wystąpił nieznany błąd podczas pobierania preferencji"))}}),Kl=s=>k(void 0,null,function*(){var t,a;try{const r=yield fetch(`${$}settings/preferences`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)});if(!r.ok){if(r.status===401)throw new J("AUTH_ERROR","Sesja wygasła. Zaloguj się ponownie.");const c=yield r.json().catch(()=>({code:"UNKNOWN_ERROR"}));throw new J((c==null?void 0:c.code)||"UNKNOWN_ERROR",(c==null?void 0:c.message)||"Wystąpił błąd podczas aktualizacji preferencji")}const n=yield r.json(),o=n.data||n;return{emailNotifications:(t=o.emailNotifications)!=null?t:!1,pushNotifications:(a=o.pushNotifications)!=null?a:!1,language:o.language||"pl"}}catch(r){throw r instanceof J?r:(console.error("Błąd w updatePreferences:",r),new J("UNKNOWN_ERROR","Wystąpił nieznany błąd podczas aktualizacji preferencji"))}}),os=["preferences"],ql=()=>{const{isAuthenticated:s}=_(),t=ye(),{data:a,isLoading:r,error:n,refetch:o}=V({queryKey:os,queryFn:()=>Zl(),enabled:s,staleTime:1e3*60*5,retry:(d,l)=>l instanceof J&&l.code==="AUTH_ERROR"?(P.error("Sesja wygasła. Zaloguj się ponownie."),!1):d<3});n&&!(n instanceof J&&n.code==="AUTH_ERROR")&&P.error(n instanceof Error?n.message:"Wystąpił błąd podczas ładowania preferencji");const c=ce({mutationFn:d=>Kl(d),onSuccess:d=>{t.setQueryData(os,d),t.invalidateQueries({queryKey:os}),P.success("Preferencje zostały zaktualizowane")},onError:d=>{if(d instanceof J&&d.code==="AUTH_ERROR"){P.error("Sesja wygasła. Zaloguj się ponownie.");return}P.error(d instanceof Error?d.message:"Wystąpił błąd podczas aktualizacji preferencji")}});return{preferences:a,isLoading:r,error:n,updatePreferences:c,refetch:o}},Xl=()=>{const{preferences:s,isLoading:t,updatePreferences:a,refetch:r}=ql(),[n,o]=i.useState(!1),[c,d]=i.useState(!1),{form:l,onSubmit:u}=Vl({onSubmit:v=>k(void 0,null,function*(){try{o(!0),yield a.mutateAsync({emailNotifications:v.emailNotifications,pushNotifications:v.pushNotifications,language:"pl"}),d(!0),yield r()}catch(C){throw console.error("Błąd w usePreferencesFormLogic:",C),C instanceof J?C:C instanceof Error?new Error(C.message||"Wystąpił błąd podczas aktualizacji preferencji"):new Error("Wystąpił nieznany błąd podczas aktualizacji preferencji")}finally{o(!1)}})}),{register:m,formState:{isDirty:p},setValue:h,watch:j,reset:w}=l,y=j();i.useEffect(()=>{p&&d(!1)},[y,p]),i.useEffect(()=>{s&&(h("emailNotifications",s.emailNotifications),h("pushNotifications",s.pushNotifications),h("language","pl"))},[s,h]);const b=()=>{try{s&&(w({emailNotifications:s.emailNotifications,pushNotifications:s.pushNotifications,language:"pl"}),d(!1),P.success("Zmiany zostały anulowane"))}catch(v){console.error("Błąd podczas anulowania zmian:",v),P.error("Nie udało się anulować zmian")}};return{isLoading:t,register:m,formValues:y,isSubmitting:n||a.isPending,isPending:a.isPending,isDirty:p,isSaved:c,updatePreferences:a,handleCancel:b,onSubmit:u,setValue:h}},ae={section:"space-y-4",title:"text-lg sm:text-xl font-medium text-gray-200 flex items-center gap-2",icon:"text-js text-xl sm:text-2xl",optionsContainer:"space-y-4 ml-4 sm:ml-8",optionLabel:`flex items-start sm:items-center gap-3 hover:cursor-pointer group
    transition-colors duration-200`,checkbox:`w-5 h-5 rounded border-gray-600 bg-gray-700 text-js 
    focus:ring-js/50 mt-1 sm:mt-0`,optionText:"group-hover:text-js transition-colors duration-200",optionTitle:"block text-gray-200 text-base sm:text-lg",optionDescription:"block text-sm text-gray-400 mt-1"},cr=i.memo(({register:s,values:t,onChange:a})=>e.jsxs("div",{className:ae.section,children:[e.jsxs("h3",{className:ae.title,children:[e.jsx(ys,{className:ae.icon}),"Powiadomienia"]}),e.jsx("div",{className:ae.optionsContainer,children:e.jsxs("label",{className:ae.optionLabel,children:[e.jsx("input",z(S({type:"checkbox"},s("emailNotifications")),{checked:t.emailNotifications,onChange:r=>a("emailNotifications",r.target.checked),className:ae.checkbox})),e.jsxs("div",{className:ae.optionText,children:[e.jsx("span",{className:ae.optionTitle,children:"Powiadomienia email"}),e.jsx("span",{className:ae.optionDescription,children:"Otrzymuj powiadomienia na email"})]})]})})]}));cr.displayName="NotificationsSection";const ke={section:"space-y-4",title:"text-lg sm:text-xl font-medium text-gray-200 flex items-center gap-2",icon:"text-js text-xl sm:text-2xl",container:"ml-4 sm:ml-8",select:`w-full max-w-xs px-4 py-3 rounded-lg 
    bg-dark/50 border border-js/10 
    text-gray-300 text-base sm:text-lg
    focus:ring-2 focus:ring-js/50 focus:border-transparent 
    transition-colors`},dr=i.memo(({register:s})=>e.jsxs("div",{className:ke.section,children:[e.jsxs("h3",{className:ke.title,children:[e.jsx(Cs,{className:ke.icon}),"Język"]}),e.jsx("div",{className:ke.container,children:e.jsx("select",z(S({},s("language")),{className:ke.select,children:e.jsx("option",{value:"pl",children:"Polski"})}))})]}));dr.displayName="LanguageSection";const mr=i.memo(({register:s,formValues:t,setValue:a,onSubmit:r,onCancel:n,isSubmitting:o,isPending:c})=>e.jsxs(x.form,{onSubmit:r,className:"w-full max-w-2xl sm:ml-0 sm:mr-auto space-y-8 px-4 sm:px-0",initial:{opacity:0},animate:{opacity:1},children:[e.jsxs("div",{className:"bg-dark/30 backdrop-blur-sm rounded-xl p-4 sm:p-6 md:p-8 border border-js/10 space-y-6",children:[e.jsx(cr,{register:s,values:t,onChange:(d,l)=>a(d,l)}),e.jsx("div",{className:"w-full h-px bg-js/10"}),e.jsx(dr,{register:s})]}),e.jsx(Xe,{onCancel:n,isSubmitting:o||c,submitText:"Zapisz preferencje",loadingText:"Zapisywanie",disabled:o})]}));mr.displayName="PreferencesFormContent";const xr=i.memo(()=>{const{isLoading:s,register:t,formValues:a,isSubmitting:r,isPending:n,isDirty:o,isSaved:c,handleCancel:d,onSubmit:l,setValue:u}=Xl(),m=p=>k(void 0,null,function*(){p.preventDefault();try{yield l(p)}catch(h){console.error("Błąd podczas zapisywania preferencji:",h),h instanceof Error?P.error(h.message):P.error("Wystąpił nieznany błąd podczas zapisywania preferencji")}});return s?e.jsx(I,{}):e.jsx(mr,{register:t,formValues:a,setValue:u,onSubmit:m,onCancel:d,isSubmitting:r,isPending:n,isDirty:o,isSaved:c})});xr.displayName="PreferencesForm";const Yl=()=>{const[s,t]=i.useState(!1),a=i.useCallback(()=>{t(!0)},[]),r=i.useCallback(()=>{t(!1)},[]);return{showConfirmation:s,handleShowConfirmation:a,handleHideConfirmation:r}};class Be extends Error{constructor(t,a){super(a),this.code=t,this.name="AccountError"}}const ec=s=>k(void 0,null,function*(){const t=yield fetch(`${$}settings/account`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)});if(!t.ok){const a=yield t.json();throw a.code==="INVALID_PASSWORD"?new Be("INVALID_PASSWORD","Podane hasło jest nieprawidłowe"):a.code==="INVALID_CONFIRMATION"?new Be("INVALID_CONFIRMATION","Nieprawidłowe potwierdzenie"):new Be("UNKNOWN_ERROR","Wystąpił błąd podczas usuwania konta")}}),sc=O.object({password:O.string().min(1,"Hasło jest wymagane"),confirmation:O.string().refine(s=>s==="USUŃ KONTO",{message:"Wpisz dokładnie 'USUŃ KONTO' aby potwierdzić"})}),tc=({onSuccess:s,onError:t}={})=>{const a=Qe({resolver:Ve(sc)}),r=ce({mutationFn:o=>ec(o),onSuccess:()=>{a.reset(),s==null||s(),window.location.href="/logowanie"},onError:t}),n=a.handleSubmit(o=>k(void 0,null,function*(){yield r.mutateAsync(o)}));return{form:a,onSubmit:n,isDeleting:r.isPending}},ac=s=>{const t=i.useCallback(()=>{P.success("Konto zostało usunięte")},[]),a=i.useCallback(d=>{if(d instanceof Be)switch(d.code){case"INVALID_PASSWORD":P.error("Podane hasło jest nieprawidłowe");return;case"INVALID_CONFIRMATION":P.error("Nieprawidłowe potwierdzenie");return}P.error("Nie udało się usunąć konta")},[]),r=i.useCallback(()=>{try{s(),P.success("Operacja została anulowana")}catch(d){P.error("Nie udało się anulować operacji")}},[s]),{form:n,onSubmit:o,isDeleting:c}=tc({onSuccess:t,onError:a});return{form:n,onSubmit:o,isDeleting:c,handleCancel:r}},rc=["Wszystkie twoje dane zostaną usunięte","Stracisz dostęp do wszystkich kursów","Twoje postępy w nauce zostaną utracone","Nie będzie możliwości przywrócenia konta"],Me={container:`
    bg-red-500/10 border border-red-500/20 rounded-lg p-4 sm:p-6 mb-6
    backdrop-blur-sm
  `,content:"flex flex-col sm:flex-row items-start gap-4",icon:"text-red-500 text-xl sm:text-2xl mt-1 flex-shrink-0",title:"text-red-400 font-medium text-lg sm:text-xl mb-2",list:`
    text-gray-400 space-y-2 list-disc list-inside
    text-sm sm:text-base leading-relaxed
  `},ur=i.memo(()=>e.jsx("div",{className:`
      bg-red-500/10 border border-red-500/20 rounded-lg p-4 sm:p-6 mb-6
      backdrop-blur-sm
    `,role:"alert","aria-label":"Ostrzeżenie o usuwaniu konta",children:e.jsxs("div",{className:Me.content,children:[e.jsx(K,{className:Me.icon,"data-testid":"warning-icon"}),e.jsxs("div",{children:[e.jsx("h3",{className:Me.title,children:"Usuwanie konta jest nieodwracalne"}),e.jsx("ul",{className:Me.list,children:rc.map((s,t)=>e.jsx("li",{children:s},t))})]})]})}));ur.displayName="WarningBox";const pr=i.memo(({onConfirm:s})=>e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full max-w-md sm:ml-0 sm:mr-auto px-4 sm:px-0",children:[e.jsx(ur,{}),e.jsx(ze,{type:"button",onClick:s,className:`w-full px-6 py-3 rounded-lg bg-red-500/20 text-red-400 \r
        hover:bg-red-500/30 transition-colors duration-200 shadow-none\r
        text-base sm:text-lg font-medium`,children:"Chcę usunąć konto"})]}));pr.displayName="InitialWarning";const re={form:"space-y-6",confirmationField:"space-y-2",label:"block text-gray-400 text-sm sm:text-base",hint:"text-sm text-gray-500",input:`w-full px-4 py-3 rounded-lg 
    bg-dark/50 border border-js/10 
    text-gray-300 placeholder-gray-500
    focus:outline-none focus:ring-2 focus:ring-js/50
    text-base sm:text-lg
  `,error:"text-red-500 text-sm",buttons:"flex flex-col sm:flex-row justify-end gap-3 sm:gap-4 mt-8",submitButton:`w-full sm:w-auto order-2 sm:order-1
    px-4 sm:px-6 py-3 rounded-lg
    bg-red-500/20 text-red-400 
    hover:bg-red-500/30
    transition-colors duration-200 shadow-none
    text-sm sm:text-base font-medium
    disabled:opacity-50 disabled:cursor-not-allowed
    whitespace-nowrap
  `,cancelButton:`w-full sm:w-auto order-1 sm:order-2
    px-4 sm:px-6 py-3 rounded-lg
    bg-dark/50 text-gray-400
    border border-js/10
    hover:text-js hover:border-js/30
    hover:bg-dark/60
    transition-colors duration-200 shadow-none
    text-sm sm:text-base
    disabled:opacity-50 disabled:cursor-not-allowed
    whitespace-nowrap
  `},hr=i.memo(({register:s,errors:t,isSubmitting:a,onCancel:r,onSubmit:n})=>{var o;return e.jsxs(x.form,{initial:{opacity:0},animate:{opacity:1},className:re.form,onSubmit:n,children:[e.jsx(he,S({id:"password",type:"password",label:"Hasło",placeholder:"Wprowadź hasło aby potwierdzić",icon:e.jsx(se,{}),error:(o=t.password)==null?void 0:o.message},s("password"))),e.jsxs("div",{className:re.confirmationField,children:[e.jsx("label",{htmlFor:"confirmation",className:re.label,children:"Potwierdzenie"}),e.jsx("p",{className:re.hint,children:'Wpisz "USUŃ KONTO" aby potwierdzić'}),e.jsx("input",z(S({id:"confirmation",type:"text"},s("confirmation")),{className:re.input})),t.confirmation&&e.jsx("p",{className:re.error,children:t.confirmation.message})]}),e.jsxs("div",{className:re.buttons,children:[e.jsx(ze,{type:"submit",disabled:a,className:re.submitButton,children:a?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-dark border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Usuwanie"})]}):"Definitywnie usuń konto"}),e.jsx(ze,{type:"button",onClick:r,disabled:a,className:re.cancelButton,children:"Anuluj"})]})]})});hr.displayName="ConfirmationForm";const jr=i.memo(()=>{const{showConfirmation:s,handleShowConfirmation:t,handleHideConfirmation:a}=Yl(),{form:r,onSubmit:n,isDeleting:o,handleCancel:c}=ac(a);return s?e.jsx(hr,{register:r.register,errors:r.formState.errors,isSubmitting:o,onCancel:c,onSubmit:n}):e.jsx(pr,{onConfirm:t})});jr.displayName="DeleteAccountForm";const yr=i.memo(({activeView:s})=>e.jsx(W,{mode:"wait",children:e.jsxs(x.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"bg-dark/30 backdrop-blur-sm rounded-xl p-6 border border-js/10 shadow-lg",children:[e.jsxs("h2",{className:"text-2xl font-bold font-space text-js mb-6",children:[s==="profile"&&"Edytuj Profil",s==="security"&&"Bezpieczeństwo",s==="preferences"&&"Preferencje",s==="delete"&&"Usuń Konto"]}),s==="profile"&&e.jsx(ir,{}),s==="security"&&e.jsx(lr,{}),s==="preferences"&&e.jsx(xr,{}),s==="delete"&&e.jsx(jr,{})]},s)}));yr.displayName="SettingsContent";const gr=i.memo(()=>{const[s,t]=i.useState("profile");return e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col h-full p-6 gap-6",children:[e.jsxs(ie,{children:[e.jsx("title",{children:"Ustawienia | CodeLinesJS"}),e.jsx("meta",{name:"description",content:"Ustawienia CodeLinesJS - dołącz do nas i rozwijaj swoje umiejętności w przyjaznym środowisku."})]}),e.jsx(x.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-3xl font-bold font-space text-js",children:"Ustawienia"})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx(Ya,{activeView:s,onViewChange:t}),e.jsxs(ie,{children:[e.jsxs("title",{children:[s.charAt(0).toUpperCase()+s.slice(1)," | CodeLinesJS"]}),e.jsx("meta",{name:"description",content:"Ustawienia CodeLinesJS - dołącz do nas i rozwijaj swoje umiejętności w przyjaznym środowisku."})]}),e.jsx("div",{className:"lg:col-span-3",children:e.jsx(yr,{activeView:s})})]})]})});gr.displayName="SettingsSection";const Ed=Object.freeze(Object.defineProperty({__proto__:null,SettingsSection:gr},Symbol.toStringTag,{value:"Module"})),br=i.memo(()=>e.jsx(x.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(x.div,{whileHover:{scale:1.1,rotate:15},className:"p-3 rounded-xl bg-gradient-to-br from-js/20 to-js/20",children:e.jsx(hs,{className:"w-8 h-8 text-js"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-space text-transparent bg-clip-text bg-gradient-to-r from-js to-js",children:"Gry JavaScript"}),e.jsx("p",{className:"text-gray-400 mt-1",children:"Ucz się JavaScriptu poprzez zabawę i wyzwania"})]})]})}));br.displayName="GamesHeader";const fr=i.memo(()=>e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(s=>e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:s*.1},className:"bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-xl border border-gray-700/50 overflow-hidden",children:[e.jsx("div",{className:"aspect-video bg-gray-800/50 animate-pulse"}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsx("div",{className:"h-6 bg-gray-800/50 rounded animate-pulse w-3/4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-800/50 rounded animate-pulse"}),e.jsx("div",{className:"h-4 bg-gray-800/50 rounded animate-pulse w-4/5"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"h-4 w-16 bg-gray-800/50 rounded animate-pulse"}),e.jsx("div",{className:"h-4 w-16 bg-gray-800/50 rounded animate-pulse"})]}),e.jsx("div",{className:"h-8 w-24 bg-gray-800/50 rounded animate-pulse"})]})]})]},s))}));fr.displayName="GamesListSkeleton";const wr=i.memo(({query:s})=>{const a=s?{title:"Brak wyników wyszukiwania",description:`Nie znaleziono gier dla zapytania "${s}"`,icon:Ge}:{title:"Brak gier w tej kategorii",description:"Spróbuj wybrać inną kategorię lub wróć później",icon:bs};return e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex flex-col items-center justify-center py-16",children:[e.jsx(x.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",bounce:.4},className:"w-20 h-20 mb-6 rounded-full bg-js/10 flex items-center justify-center",children:e.jsx(a.icon,{className:"w-10 h-10 text-js"})}),e.jsx(x.h3,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-2xl font-bold text-js mb-2 text-center",children:a.title}),e.jsx(x.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-gray-400 text-center max-w-md",children:a.description})]})});wr.displayName="NoGamesFound";const Nr=i.memo(({game:s})=>{const t=je(),a=()=>{s.isLevelAvailable&&t(`/dashboard/play/${s.slug}`)},r=!s.isLevelAvailable;return e.jsxs(x.div,{whileHover:{scale:r?1:1.02},className:`group bg-dark-800/50 border rounded-xl overflow-hidden transition-all ${r?"border-gray-700/50 opacity-50 cursor-not-allowed":"border-js/10 hover:border-js/20"}`,children:[e.jsxs("div",{className:"relative aspect-video",children:[e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-js/5 to-js/20 flex items-center justify-center",children:e.jsx("div",{className:"bg-js/10 px-4 py-2 rounded-lg border border-js/20",children:e.jsx("span",{className:"font-mono text-js/80 font-medium",children:s.slug})})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-dark/90 to-transparent"}),r?e.jsx("div",{className:"absolute inset-0 m-auto w-12 h-12 bg-gray-700 text-gray-400 rounded-full flex items-center justify-center",children:e.jsx(se,{className:"w-5 h-5"})}):e.jsx(x.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:a,className:"absolute inset-0 m-auto w-12 h-12 bg-js text-dark rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(ws,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-js line-clamp-1",children:s.title}),e.jsxs("span",{className:"flex items-center gap-1 text-js bg-js/10 px-2 py-0.5 rounded-lg text-sm",children:[e.jsx(q,{className:"w-3.5 h-3.5"}),s.rewardPoints]})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-4 line-clamp-2",children:r?`Dostępne od poziomu ${s.requiredLevel}`:s.description}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("div",{className:"flex items-center gap-4 text-gray-400",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(M,{className:"w-4 h-4"}),s.rating.average.toFixed(1)]})}),e.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs font-medium
            ${s.difficulty==="easy"?"bg-green-500/10 text-green-400":s.difficulty==="medium"?"bg-yellow-500/10 text-yellow-400":"bg-red-500/10 text-red-400"}`,children:s.difficulty==="easy"?"Łatwy":s.difficulty==="medium"?"Średni":"Trudny"})]})]})]})});Nr.displayName="GameCard";const ic=()=>k(void 0,null,function*(){const s=yield fetch(`${$}games`,{credentials:"include",headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error("Nie udało się pobrać gier");return s.json()}),oe=()=>V({queryKey:["games"],queryFn:()=>ic(),select:s=>({games:s.data,pagination:s.data}),staleTime:5*60*1e3}),vr=i.memo(({sortBy:s,searchQuery:t,selectedDifficulty:a})=>{const{data:r,isLoading:n,isError:o}=oe();if(n)return e.jsx(fr,{});if(o)return e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-red-400",children:"Wystąpił błąd podczas ładowania gier. Spróbuj ponownie później."})});if(!(r!=null&&r.games))return null;const c=r.games.filter(d=>(a==="all"||d.difficulty===a)&&(d.title.toLowerCase().includes(t.toLowerCase())||d.description.toLowerCase().includes(t.toLowerCase()))).sort((d,l)=>{switch(s){case"newest":return new Date(l.createdAt).getTime()-new Date(d.createdAt).getTime();case"popular":return l.completions.count-d.completions.count;case"difficulty":return l.difficulty.localeCompare(d.difficulty);case"xp":return l.rewardPoints-d.rewardPoints;default:return 0}});return c.length?e.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"w-full grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4 gap-4 sm:gap-6",children:c.map(d=>{const l={_id:d._id,id:d._id,slug:d.slug,isLevelAvailable:d.isLevelAvailable,title:d.title,description:d.description,difficulty:d.difficulty,category:"game",isCompleted:!1,rating:{average:0,count:0},completions:d.completions,completedCount:d.completions.count,thumbnailUrl:"",rewardPoints:d.rewardPoints,xpPoints:d.rewardPoints,requiredLevel:d.requiredLevel};return e.jsx(Nr,{game:l},l._id)})}):e.jsx(wr,{query:t})});vr.displayName="GamesList";const nc=[{id:"newest",label:"Najnowsze",icon:F},{id:"popular",label:"Popularne",icon:Xs},{id:"difficulty",label:"Trudność",icon:M},{id:"xp",label:"Punkty XP",icon:q}],kr=i.memo(({activeSortOption:s,onSortChange:t})=>e.jsxs("div",{className:"flex items-center gap-4 lg:ml-auto",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:"Sortuj:"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:nc.map(a=>{const r=a.icon;return e.jsxs(x.button,{onClick:()=>t(a.id),whileHover:{scale:1.02},whileTap:{scale:.98},className:`
                flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium
                transition-all duration-200
                ${s===a.id?"text-js bg-js/10 border border-js/20":"text-gray-400 hover:text-js/80 border border-transparent"}
              `,children:[e.jsx(r,{className:"w-4 h-4"}),a.label]},a.id)})})]}));kr.displayName="GamesSorting";const Sr=i.memo(({value:s,onChange:t})=>{const a=i.useCallback(r=>{t(r.target.value)},[t]);return e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},className:"relative",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:s,onChange:a,placeholder:"Szukaj gry...",className:`\r
            w-full pl-10 pr-4 py-1.5 \r
            bg-dark border border-js/10\r
            rounded-lg text-sm text-gray-200\r
            focus:outline-none focus:border-js/30\r
            transition-colors duration-200\r
          `}),e.jsx(Ge,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-js/50"})]}),e.jsx(x.div,{initial:!1,animate:{width:s?"100%":"0%",opacity:s?1:0},className:"absolute bottom-0 left-0 h-0.5 bg-js/20 rounded-full"})]})});Sr.displayName="GamesSearch";const oc=[{value:"all",label:"Wszystkie"},{value:"easy",label:"Łatwe",color:"text-emerald-400"},{value:"medium",label:"Średnie",color:"text-indigo-400"},{value:"hard",label:"Trudne",color:"text-rose-400"}],zr=i.memo(({selectedDifficulty:s,onDifficultyChange:t})=>e.jsxs(x.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center gap-4 flex-wrap",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:"Poziom:"}),e.jsx("div",{className:"flex gap-3 flex-wrap",children:oc.map(a=>e.jsxs(x.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(a.value),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm transition-all relative
              ${s===a.value?`text-${a.color||"gray-200"}`:"text-gray-400 hover:text-gray-300"}`,children:[s===a.value&&e.jsx(x.div,{layoutId:"difficulty-background",className:`absolute inset-0 bg-gray-800/50 border rounded-lg -z-10 border-${a.color||"gray-400"}`,transition:{type:"spring",bounce:.2,duration:.6}}),e.jsx(W,{mode:"wait",children:e.jsx(x.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{duration:.2},children:s===a.value?e.jsx(hn,{className:`w-3 h-3 ${a.color||"text-gray-400"}`}):e.jsx(jn,{className:"w-3 h-3"})},s===a.value?"circle":"circle-outline")}),a.label]},a.value))})]}));zr.displayName="GamesDifficulty";const Cr=i.memo(()=>{const[s,t]=i.useState("newest"),[a,r]=i.useState(""),[n,o]=i.useState("all");return e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"w-full m-0 min-h-screen bg-dark/50 backdrop-blur-sm",children:[e.jsxs(te,{children:[e.jsx("title",{children:"Gry | CodeLinesJS"}),e.jsx("meta",{name:"description",content:"Games CodeLinesJS - dołącz do nas i rozwijaj swoje umiejętności w przyjaznym środowisku."})]}),e.jsxs("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx(br,{}),e.jsxs("div",{className:"mt-8 bg-dark-800/50 border border-js/10 rounded-xl p-4 sm:p-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"w-full sm:w-72",children:e.jsx(Sr,{value:a,onChange:r})}),e.jsx(kr,{activeSortOption:s,onSortChange:t})]}),e.jsx("div",{className:"mt-4",children:e.jsx(zr,{selectedDifficulty:n,onDifficultyChange:o})})]}),e.jsx("div",{className:"mt-6",children:e.jsx(vr,{sortBy:s,searchQuery:a,selectedDifficulty:n})})]})]})]})});Cr.displayName="GamesSection";const Ad=Object.freeze(Object.defineProperty({__proto__:null,GamesSection:Cr},Symbol.toStringTag,{value:"Module"})),lc=i.memo(({title:s})=>e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-2xl font-bold text-js",children:s})})),cc=i.createContext(null),dc=({children:s})=>{const[t,a]=i.useState(null),[r,n]=i.useState(!1),[o,c]=i.useState(null),d=i.useCallback(l=>k(void 0,null,function*(){n(!0),c(null);const{token:u}=_();try{const m=yield fetch(`${$}/games`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`}});if(!m.ok)throw new Error("Nie udało się pobrać zawartości gry");const h=(yield m.json()).data.games.find(j=>j.slug===l);if(!h)throw new Error("Nie znaleziono gry");a({title:h.title,description:h.description,difficulty:h.difficulty,rating:h.rating,completions:h.completions,rewardPoints:h.rewardPoints,gameData:h.gameData,estimatedTime:h.estimatedTime,isCompleted:h.isCompleted})}catch(m){c(m instanceof Error?m.message:"Wystąpił nieznany błąd")}finally{n(!1)}}),[]);return e.jsx(cc.Provider,{value:{gameContent:t,isLoading:r,error:o,fetchGameContent:d},children:s})};ms.setConfig({FORBID_ATTR:["style","onerror","onload","fscommand","onabort","onafterprint","onanimationend","onanimationiteration","onanimationstart","onblur","oncanplay","oncanplaythrough","onchange","onclick","oncontextmenu","oncopy","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onfocusin","onfocusout","onfullscreenchange","onfullscreenerror","ongotpointercapture","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onlostpointercapture","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpaste","onpause","onplay","onplaying","onpointercancel","onpointerdown","onpointerenter","onpointerleave","onpointermove","onpointerout","onpointerover","onpointerup","onprogress","onratechange","onreset","onresize","onscroll","onsearch","onseeked","onseeking","onselect","onstalled","onsubmit","onsuspend","ontimeupdate","ontoggle","onvolumechange","onwaiting","onwheel"],ADD_TAGS:["meta"],ALLOW_DATA_ATTR:!1,FORBID_TAGS:["script","object","iframe","embed","base"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,SANITIZE_DOM:!0,WHOLE_DOCUMENT:!1,USE_PROFILES:{html:!0,mathMl:!1,svg:!1}});const Us={"scope-explorer":i.lazy(()=>ee(()=>Promise.resolve().then(()=>Oc),void 0)),"js-typo-hunter":i.lazy(()=>ee(()=>Promise.resolve().then(()=>Uc),void 0)),"async-quest":i.lazy(()=>ee(()=>Promise.resolve().then(()=>Kc),void 0)),"regex-raider":i.lazy(()=>ee(()=>Promise.resolve().then(()=>Yc),void 0)),"js-quiz":i.lazy(()=>ee(()=>Promise.resolve().then(()=>rd),void 0)),"method-quiz":i.lazy(()=>ee(()=>Promise.resolve().then(()=>hd),void 0))},Tr=i.memo(()=>{const{slug:s}=Ss(),t=typeof s=="string"?ms.sanitize(s):"";if(!t||!Us[t])return e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("div",{className:"text-gray-400",children:"Gra nie została znaleziona"})});const a=Us[t];return e.jsxs(dc,{children:[e.jsxs(te,{children:[e.jsxs("title",{children:[ms.sanitize(t)," | CodeLinesJS"]}),e.jsx("meta",{name:"description",content:"Gra CodeLinesJS - dołącz do nas i rozwijaj swoje umiejętności w przyjaznym środowisku."})]}),e.jsx("div",{className:"w-full h-full",children:e.jsx(i.Suspense,{fallback:e.jsx("div",{children:"Ładowanie gry..."}),children:e.jsx(a,{})})})]})});Tr.displayName="GameplayArea";const Lr=i.memo(({game:s})=>{const t=je(),a=()=>{t("/dashboard/play")};return e.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen bg-dark-800 flex items-center justify-center",children:e.jsxs("div",{className:"max-w-7xl w-full mx-auto px-4 py-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs(x.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:a,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-js/10 text-js hover:bg-js/20 transition-colors",children:[e.jsx(de,{className:"w-4 h-4"}),e.jsx("span",{children:"Powrót do menu"})]})}),e.jsx(lc,{title:s.title}),e.jsx("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-12 gap-6",children:e.jsx("div",{className:"lg:col-span-12",children:e.jsx(Tr,{})})})]})})});Lr.displayName="GameplaySection";const Pr=i.memo(()=>{const{slug:s}=Ss(),{data:t}=oe();if(!(t!=null&&t.games))return null;const a=t.games.find(r=>r.slug===s);return a?e.jsx(Lr,{game:a}):e.jsx(ot,{to:"/dashboard/play",replace:!0})});Pr.displayName="GameplayRouter";const $d=Object.freeze(Object.defineProperty({__proto__:null,GameplayRouter:Pr},Symbol.toStringTag,{value:"Module"})),mc=({code:s,onChange:t,onMount:a,isEditorReady:r})=>e.jsxs("div",{className:"h-[calc(100%-4rem)] rounded overflow-hidden relative",children:[!r&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-dark/50",children:e.jsx(ne,{className:"w-8 h-8 text-js animate-spin"})}),e.jsx(ct,{theme:"vs-dark",language:"javascript",height:"100%",defaultLanguage:"javascript",value:s,onChange:t,onMount:a})]}),Er=i.memo(({output:s,onClear:t,isExecuting:a})=>e.jsxs("div",{className:"h-[calc(100%-4rem)] bg-[#1e1e1e] rounded-lg overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-dark/30 border-b border-js/10",children:[e.jsx("span",{className:"text-sm text-gray-400",children:a?"Wykonywanie...":"Gotowe"}),e.jsx("button",{"data-testid":"clear-console-btn",onClick:t,className:"p-1.5 text-gray-400 hover:text-js transition-colors",title:"Wyczyść konsolę",children:e.jsx(zs,{className:"w-4 h-4"})})]}),e.jsx("div",{"data-testid":"console-output",className:"flex-1 p-4 font-mono text-sm overflow-auto",children:s.map((r,n)=>e.jsx(x.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-gray-300 mb-1",children:r},n))})]}));Er.displayName="ConsoleOutput";const xc=({output:s,isExecuting:t,onClear:a,onRun:r})=>e.jsxs("div",{className:"bg-dark/50 rounded-lg p-4 border border-js/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-js",children:"Konsola"}),e.jsx("button",{"data-testid":"run-code-btn",onClick:r,disabled:t,className:"px-4 py-2 bg-js text-dark font-medium rounded hover:bg-js/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Wykonywanie...":"Uruchom"})]}),e.jsx(Er,{output:s,onClear:a,isExecuting:t})]}),uc=3e3,pc=()=>{const[s,t]=i.useState([]),[a,r]=i.useState(!1),n=i.useCallback(()=>{t([])},[]),o=i.useCallback(c=>{r(!0);const d=[],l=console.log;return new Promise((u,m)=>{const p=setTimeout(()=>{m(new Error("Przekroczono limit czasu wykonania"))},uc);try{console.log=(...h)=>{d.push(h.map(j=>typeof j=="object"?JSON.stringify(j,null,2):String(j)).join(" "))},k(void 0,null,function*(){try{new Function("console",`
              "use strict";
              ${c}
            `)(console),t(d),clearTimeout(p),u()}catch(h){t([`Błąd: ${h instanceof Error?h.message:"Nieznany błąd"}`]),m(h)}})}finally{console.log=l,r(!1)}})},[]);return{output:s,isExecuting:a,executeCode:o,clearConsole:n}},ls="code_history",hc=10,jc=()=>{const[s,t]=i.useState(()=>{const n=localStorage.getItem(ls);return n?JSON.parse(n):[]}),a=i.useCallback(n=>{t(o=>{const c=[{code:n,timestamp:Date.now()},...o.filter(d=>d.code!==n)].slice(0,hc);return localStorage.setItem(ls,JSON.stringify(c)),c})},[]),r=i.useCallback(()=>{localStorage.removeItem(ls),t([])},[]);return{history:s,addToHistory:a,clearHistory:r}},yc=s=>{const t=i.useRef(null),[a,r]=i.useState(s),[n,o]=i.useState(!1),c=l=>{t.current=l,o(!0)},d=i.useCallback(l=>{l&&r(l)},[]);return i.useEffect(()=>{Gn.init().then(l=>{l.languages.typescript.javascriptDefaults.setDiagnosticsOptions({noSemanticValidation:!1,noSyntaxValidation:!1})})},[]),{code:a,isEditorReady:n,handleEditorDidMount:c,handleEditorChange:d}},gc=`// Witaj w edytorze CodeLinesJS!
// Napisz swój kod JavaScript tutaj

function przywitajSie(imie) {
  return \`Cześć, \${imie}!\`;
}

console.log(przywitajSie("Programisto"));`,bc=()=>({saveToFile:i.useCallback(t=>{const a=new Blob([t],{type:"text/javascript"}),r=URL.createObjectURL(a),n=document.createElement("a");n.href=r,n.download=`code_${new Date().toISOString().slice(0,10)}.js`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)},[])}),Ar=i.memo(({history:s,onSelect:t,onClear:a})=>e.jsxs("div",{"data-testid":"history-panel",className:"absolute top-full right-0 mt-2 w-64 bg-dark/95 rounded-lg border border-js/10 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-js/10",children:[e.jsxs("div",{className:"flex items-center gap-2 text-js",children:[e.jsx(dt,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Historia"})]}),s.length>0&&e.jsx("button",{"data-testid":"clear-history-btn",onClick:a,className:"p-1.5 text-gray-400 hover:text-js transition-colors",title:"Wyczyść historię",children:e.jsx(zs,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"max-h-64 overflow-y-auto",children:s.length===0?e.jsx("div",{className:"p-3 text-sm text-gray-400",children:"Brak historii"}):s.map((r,n)=>e.jsxs(x.button,{"data-testid":`history-item-${n}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:n*.05},onClick:()=>t(r.code),className:"w-full p-3 text-left hover:bg-js/10 transition-colors border-b border-js/5 last:border-0",children:[e.jsx("div",{className:"text-sm text-gray-300 truncate",children:r.code.split(`
`)[0]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:new Date(r.timestamp).toLocaleString()})]},r.timestamp))})]}));Ar.displayName="CodeHistory";const $r=i.memo(()=>{const{output:s,isExecuting:t,executeCode:a,clearConsole:r}=pc(),{history:n,addToHistory:o,clearHistory:c}=jc(),{code:d,isEditorReady:l,handleEditorDidMount:u,handleEditorChange:m}=yc(gc),{saveToFile:p}=bc(),[h,j]=i.useState(!1),w=()=>{j(!1)},y=i.useCallback(()=>k(void 0,null,function*(){yield a(d),o(d)}),[d,a,o]);return e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},className:"h-full p-6",children:[e.jsxs(ie,{children:[e.jsx("title",{children:"Edytor Kodu | CodeLinesJS"}),e.jsx("meta",{name:"description",content:"Edytor kodu JavaScript - dołącz do nas i rozwijaj swoje umiejętności w przyjaznym środowisku."})]}),e.jsxs("div",{className:"relative flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold font-space text-js",children:"Edytor Kodu JavaScript"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{"data-testid":"save-code-btn",onClick:()=>p(d),disabled:!l,className:"px-4 py-2 text-sm text-js border border-js/20 rounded hover:bg-js/10 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(yn,{className:"w-4 h-4 mr-2 inline-block"}),"Zapisz do Pliku"]}),e.jsx("button",{"data-testid":"history-btn",onClick:()=>j(b=>!b),className:"p-2 text-gray-400 hover:text-js transition-colors",title:"Historia kodu",children:e.jsx(dt,{className:"w-5 h-5"})}),h&&e.jsx(Ar,{history:n,onSelect:w,onClear:c})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-[calc(100vh-12rem)]",children:[e.jsx(mc,{code:d,onChange:m,onMount:()=>u(null),isEditorReady:l}),e.jsx(xc,{output:s,isExecuting:t,onClear:r,onRun:y})]})]})});$r.displayName="CodeEditor";const Rd=Object.freeze(Object.defineProperty({__proto__:null,CodeEditor:$r},Symbol.toStringTag,{value:"Module"})),Rr=i.memo(()=>e.jsx("div",{className:"absolute inset-0",children:e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute top-0 right-0 w-full h-full bg-[#1a1a1a] opacity-90"}),e.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-[#f7df1e] rounded-full blur-[150px] opacity-20"}),e.jsx("div",{className:"absolute -bottom-40 -right-40 w-96 h-96 bg-[#f7df1e] rounded-full blur-[150px] opacity-20"}),e.jsx("div",{className:"absolute top-1/4 left-1/4 w-32 h-32 bg-[#f7df1e] rounded-full blur-[100px] opacity-10"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-32 h-32 bg-[#f7df1e] rounded-full blur-[100px] opacity-10"})]})}));Rr.displayName="PageBackground";const Dr=i.memo(({title:s="Zgłoś błąd lub sugestię",description:t="Znalazłeś błąd w aplikacji lub masz pomysł na nową funkcję? Daj nam znać! Twoje opinie pomagają nam ulepszać CodeLinesJS."})=>e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center max-w-2xl mx-auto",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-js mb-4",children:s}),e.jsx("p",{className:"text-gray-400 text-lg",children:t})]}));Dr.displayName="PageHeader";const fc=s=>k(void 0,null,function*(){const t=yield fetch(`${$}reports`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)});if(!t.ok)throw new Error("Nie udało się wysłać zgłoszenia");return t.json()}),wc=()=>{const[s,t]=i.useState(!1),[a,r]=i.useState(!1),[n,o]=i.useState(null),[c,d]=i.useState({title:"",description:"",category:"bug",email:""}),[l,u]=i.useState({}),m=()=>{const y={};return c.title.trim()?c.title.length<5&&(y.title="Tytuł musi mieć co najmniej 5 znaków"):y.title="Tytuł jest wymagany",c.description.trim()?c.description.length<20&&(y.description="Opis musi mieć co najmniej 20 znaków"):y.description="Opis jest wymagany",c.category||(y.category="Kategoria jest wymagana"),c.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.email)||(y.email="Podaj prawidłowy adres email"):y.email="Email jest wymagany",u(y),Object.keys(y).length===0},p=y=>{const{name:b,value:v}=y.target;d(C=>z(S({},C),{[b]:v}))},h=()=>{d({title:"",description:"",category:"bug",email:""}),u({})};return{formData:c,errors:l,isSubmitting:s,submitSuccess:a,submitError:n,handleChange:p,handleSubmit:y=>k(void 0,null,function*(){if(y.preventDefault(),!!m()){t(!0),o(null);try{yield fc(c),r(!0),h()}catch(b){o(b instanceof Error?b.message:"Wystąpił nieznany błąd")}finally{t(!1)}}}),resetSuccess:()=>{r(!1)}}},Se=i.memo(({id:s,name:t,label:a,type:r="text",value:n,onChange:o,error:c,placeholder:d,options:l,rows:u=5})=>{const m=`w-full bg-dark/50 border ${c?"border-red-500":"border-js/20"} rounded-lg p-3 text-white focus:border-js focus:outline-none`;return e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:s,className:"block text-gray-300 mb-1",children:a}),r==="textarea"?e.jsx("textarea",{id:s,name:t,value:n,onChange:o,rows:u,className:m,placeholder:d}):r==="select"?e.jsx("select",{id:s,name:t,value:n,onChange:o,className:m,children:l==null?void 0:l.map(p=>e.jsx("option",{value:p.value,children:p.label},p.value))}):e.jsx("input",{type:r,id:s,name:t,value:n,onChange:o,className:m,placeholder:d}),c&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:c})]})});Se.displayName="FormField";const Fr=i.memo(({isSubmitting:s,label:t="Wyślij zgłoszenie",loadingLabel:a="Wysyłanie..."})=>e.jsx(x.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:s,className:"w-full bg-js text-dark font-medium py-3 rounded-lg flex items-center justify-center gap-2 hover:bg-js/90 transition-colors disabled:opacity-70 disabled:cursor-not-allowed",children:s?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"animate-spin h-5 w-5 border-2 border-dark border-t-transparent rounded-full"}),e.jsx("span",{children:a})]}):e.jsxs(e.Fragment,{children:[e.jsx(gn,{}),e.jsx("span",{children:t})]})}));Fr.displayName="SubmitButton";const Mr=i.memo(({onReset:s,title:t="Dziękujemy za zgłoszenie!",message:a="Twoje zgłoszenie zostało przyjęte. Odpowiemy najszybciej jak to możliwe.",buttonLabel:r="Zgłoś kolejny błąd"})=>e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-green-500/20 border border-green-500/30 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-green-400 font-medium mb-2",children:t}),e.jsx("p",{className:"text-gray-400",children:a}),e.jsx("button",{onClick:s,className:"mt-4 bg-js text-dark font-medium px-4 py-2 rounded-lg hover:bg-js/90 transition-colors",children:r})]}));Mr.displayName="SuccessMessage";const Or=i.memo(({message:s})=>e.jsx("div",{className:"mb-4 bg-red-500/20 border border-red-500/30 rounded-lg p-3",children:e.jsx("p",{className:"text-red-400",children:s})}));Or.displayName="ErrorMessage";const _r=i.memo(({title:s="Zgłoś błąd"})=>e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-3 rounded-lg bg-js/10",children:e.jsx(Zs,{className:"w-6 h-6 text-js"})}),e.jsx("h2",{className:"text-2xl font-bold text-js",children:s})]}));_r.displayName="FormHeader";const Nc=[{value:"bug",label:"Błąd w aplikacji"},{value:"feature",label:"Propozycja funkcji"},{value:"performance",label:"Problem z wydajnością"},{value:"security",label:"Problem z bezpieczeństwem"},{value:"other",label:"Inne"}],Br=i.memo(()=>{const{formData:s,errors:t,isSubmitting:a,submitSuccess:r,submitError:n,handleChange:o,handleSubmit:c,resetSuccess:d}=wc();return e.jsxs("div",{className:"w-full max-w-3xl mx-auto bg-dark-800/50 border border-js/10 rounded-xl p-6 md:p-8",children:[e.jsx(_r,{}),r?e.jsx(Mr,{onReset:d}):e.jsxs("form",{onSubmit:c,children:[e.jsx(Se,{id:"title",name:"title",label:"Tytuł",value:s.title,onChange:o,error:t.title,placeholder:"Krótki opis problemu"}),e.jsx(Se,{id:"category",name:"category",label:"Kategoria",type:"select",value:s.category,onChange:o,error:t.category,options:Nc}),e.jsx(Se,{id:"description",name:"description",label:"Szczegółowy opis",type:"textarea",value:s.description,onChange:o,error:t.description,placeholder:"Opisz dokładnie napotkany problem, podaj kroki do jego odtworzenia"}),e.jsx(Se,{id:"email",name:"email",label:"Email kontaktowy",type:"email",value:s.email,onChange:o,error:t.email,placeholder:"Twój adres email"}),n&&e.jsx(Or,{message:n}),e.jsx(Fr,{isSubmitting:a})]})]})});Br.displayName="ReportForm";const Ir=i.memo(({email:s="kontakt@codelinesjs.pl"})=>e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center max-w-2xl mx-auto",children:[e.jsx("h3",{className:"text-xl font-bold text-js mb-3",children:"Inne sposoby kontaktu"}),e.jsxs("p",{className:"text-gray-400",children:["Możesz również skontaktować się z nami bezpośrednio przez email:"," ",e.jsx("a",{href:`mailto:${s}`,className:"text-js hover:underline",children:s})]})]}));Ir.displayName="ContactSection";const vc=()=>i.useMemo(()=>({container:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},item:{hidden:{opacity:0,y:20},show:{opacity:1,y:0}}}),[]),Hr=i.memo(()=>{const s=vc();return e.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-b from-dark via-dark-medium to-dark py-16 md:py-24 relative overflow-hidden",children:[e.jsx(Rr,{}),e.jsxs(ie,{children:[e.jsx("title",{children:"Zgłoś Błąd | CodeLinesJS"}),e.jsx("meta",{name:"description",content:"Zgłoś błąd w CodeLinesJS - dołącz do nas i rozwijaj swoje umiejętności w przyjaznym środowisku."})]}),e.jsx("div",{className:"container mx-auto px-4 relative z-10",children:e.jsxs(x.div,{variants:s.container,initial:"hidden",animate:"show",className:"flex flex-col items-center gap-12",children:[e.jsx(x.div,{variants:s.item,children:e.jsx(Dr,{})}),e.jsx(x.div,{variants:s.item,className:"w-full",children:e.jsx(Br,{})}),e.jsx(x.div,{variants:s.item,children:e.jsx(Ir,{})})]})})]})});Hr.displayName="ReportBugPage";const Dd=Object.freeze(Object.defineProperty({__proto__:null,ReportBugPage:Hr},Symbol.toStringTag,{value:"Module"})),kc=()=>k(void 0,null,function*(){try{const s=yield fetch(`${$}users/active`,{credentials:"include"});if(!s.ok)throw new Error("Błąd podczas pobierania aktywnych użytkowników");return yield s.json()}catch(s){throw s}}),Sc=()=>{var m,p;const{isAuthenticated:s,isAuthChecking:t}=_(),{data:a,isLoading:r,error:n,refetch:o}=V({queryKey:["activeUsers"],queryFn:()=>kc(),retry:2,refetchInterval:3e4,staleTime:1e3*60,enabled:s&&!t}),c=((m=a==null?void 0:a.data)==null?void 0:m.users)||[],d=c.slice(0,8),l=c.length>8?c.length-8:0,u=((p=a==null?void 0:a.data)==null?void 0:p.totalActive)||0;return{users:c,visibleUsers:d,extraUsers:l,totalActive:u,isLoading:r,error:n,refetch:o}},Gr=i.memo(()=>{const{visibleUsers:s,extraUsers:t,isLoading:a,error:r}=Sc();return a?e.jsxs("div",{className:"bg-dark/30 backdrop-blur-sm rounded-xl border border-js/10 p-4 mb-6",children:[e.jsx("h3",{className:"text-js text-sm font-medium mb-3",children:"Aktywni użytkownicy"}),e.jsx("div",{className:"flex items-center gap-2",children:[...Array(3)].map((n,o)=>e.jsx("div",{className:"w-10 h-10 rounded-full bg-dark-700 animate-pulse"},o))})]}):r?null:e.jsxs(x.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-dark/30 backdrop-blur-sm rounded-xl border border-js/10 p-4 mb-6",children:[e.jsx("h3",{className:"text-js text-sm font-medium mb-3",children:"Aktywni użytkownicy"}),e.jsxs("div",{className:"flex items-center gap-2",children:[s.map(n=>e.jsx(x.div,{className:"relative group",whileHover:{scale:1.1},transition:{type:"spring",stiffness:400,damping:17},children:e.jsxs("div",{className:"w-10 h-10 rounded-full relative",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-js flex items-center justify-center",children:e.jsx("span",{className:"text-dark font-bold text-xl",children:n.username.charAt(0).toUpperCase()})}),e.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-dark",children:e.jsx("div",{className:"absolute inset-0 bg-green-500 rounded-full animate-ping opacity-75"})})]})},n._id)),t>0&&e.jsxs(x.div,{whileHover:{scale:1.1},className:`w-10 h-10 rounded-full bg-js/10 flex items-center justify-center\r
                     text-js text-sm font-medium border-2 border-dark/50`,children:["+",t]})]})]})});Gr.displayName="ActiveUsers";const Wr=i.memo(()=>e.jsx(Je,{children:e.jsx("div",{className:"space-y-6",children:e.jsx(Gr,{})})}));Wr.displayName="CommunityFeed";const zc=Object.freeze(Object.defineProperty({__proto__:null,default:Wr},Symbol.toStringTag,{value:"Module"})),Ur=i.memo(({username:s,size:t="md",className:a=""})=>{const r=s&&typeof s=="string"?s.charAt(0).toUpperCase():"?",n={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"},o={sm:"text-sm",md:"text-base",lg:"text-xl"};return e.jsx("div",{className:`
      rounded-full bg-js flex items-center justify-center text-black font-bold
      ${n[t]} ${o[t]} ${a}
    `,children:r})});Ur.displayName="UserAvatar";const Qr=i.memo(({user:s,index:t,animationDelay:a=.1})=>{const r=s.position,n=r<=3?"text-yellow-500":"text-gray-400",c=s.isCurrentUser?"bg-js/10 border-js/30":"bg-dark-card/50 border-js/5 hover:border-js/10";return e.jsx("div",{className:`backdrop-blur-sm rounded-lg border p-4 transition-all flex items-center justify-between ${c}`,style:{animation:`fadeIn 0.5s ease-out ${a*(t+1)}s both`},children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:`font-bold text-xl min-w-8 ${n}`,children:[r<=3&&e.jsx(bn,{className:"inline mr-1"}),r]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ur,{username:s.username,avatar:s.avatar,size:"md",className:r<=3?"ring-2 ring-yellow-500/30":""}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-lg text-white",children:[s.username,s.isCurrentUser&&e.jsx("span",{className:"ml-2 text-xs font-medium bg-js text-black px-2 py-0.5 rounded font-bold",children:"Ty"})]}),e.jsxs("div",{className:"text-gray-400 text-sm",children:["Poziom: ",e.jsx("span",{className:"text-js",children:s.stats.level})," • Punkty: ",e.jsx("span",{className:"text-js",children:s.stats.points})]})]})]})]})})});Qr.displayName="RankingItem";const Jr=i.memo(({users:s,isLoading:t=!1,pagination:a})=>t?e.jsx(I,{}):s!=null&&s.length?e.jsxs("div",{children:[e.jsx("div",{className:"space-y-4",children:s.map((r,n)=>e.jsx(Qr,{user:r,index:n},`${r.username}-${r.position}`))}),a&&e.jsxs("div",{className:"flex justify-between items-center mt-6 pt-4 border-t border-js/10",children:[e.jsxs("button",{onClick:a.prevPage,disabled:!a.hasPrevPage||a.isLoadingPage,className:`flex items-center space-x-2 px-3 py-2 rounded-md transition
              ${a.hasPrevPage&&!a.isLoadingPage?"text-js hover:bg-js/10":"text-gray-500 cursor-not-allowed"}`,"aria-label":"Poprzednia strona",children:[e.jsx(wn,{className:"w-5 h-5"}),e.jsx("span",{children:"Poprzednia"})]}),e.jsx("div",{className:"text-gray-400 flex items-center",children:a.isLoadingPage?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-js",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{className:"text-js",children:"Ładowanie..."})]}):`Strona ${a.page} z ${a.totalPages||1}`}),e.jsxs("button",{onClick:a.nextPage,disabled:!a.hasNextPage||a.isLoadingPage,className:`flex items-center space-x-2 px-3 py-2 rounded-md transition
              ${a.hasNextPage&&!a.isLoadingPage?"text-js hover:bg-js/10":"text-gray-500 cursor-not-allowed"}`,"aria-label":"Następna strona",children:[e.jsx("span",{children:"Następna"}),e.jsx(Nn,{className:"w-5 h-5"})]})]})]}):e.jsxs("div",{className:"text-center text-gray-400 py-8",children:[e.jsx(fn,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("div",{children:"Brak danych rankingowych do wyświetlenia"})]}));Jr.displayName="RankingList";const Vr=i.memo(({icon:s,label:t,value:a,className:r=""})=>e.jsxs(x.div,{className:`bg-dark/20 rounded-lg p-4 border border-js/5 ${r}`,whileHover:{scale:1.02},transition:{duration:.2},children:[e.jsx(s,{className:"w-6 h-6 text-js mb-2"}),e.jsx("p",{className:"text-gray-400 text-sm",children:t}),e.jsx("p",{className:"text-2xl font-bold text-js",children:a})]}));Vr.displayName="StatCard";const Zr=i.memo(({currentUserStats:s,isLoading:t=!1})=>{if(t)return e.jsx("div",{className:"bg-dark/30 backdrop-blur-sm rounded-xl border border-js/10 p-6 shadow-lg",children:e.jsx(I,{})});if(!s)return e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-dark/30 backdrop-blur-sm rounded-xl border border-js/10 p-6 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-js mb-6",children:"Twoje Statystyki"}),e.jsx("p",{className:"text-gray-400",children:"Nie udało się załadować twoich statystyk. Zaloguj się, aby zobaczyć swoje miejsce w rankingu."})]});const a=[{icon:q,label:"Twoja pozycja",value:`#${s.rank}`},{icon:M,label:"Poziom",value:typeof s.level=="number"?s.level.toLocaleString():s.level},{icon:vn,label:"Punkty",value:typeof s.points=="number"?s.points.toLocaleString():s.points}];return e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-dark/30 backdrop-blur-sm rounded-xl border border-js/10 p-6 shadow-lg",children:[e.jsxs("h2",{className:"text-xl font-bold text-js mb-6",children:["Twoje Statystyki ",s.username&&`(${s.username})`]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:a.map(r=>e.jsx(Vr,{icon:r.icon,label:r.label,value:r.value},r.label))})]})});Zr.displayName="RankingStats";const Cc=(s=1,t=10)=>{const[a,r]=i.useState(s),n=t,{data:o,isLoading:c,error:d}=V({queryKey:["ranking",a,n],queryFn:()=>k(void 0,null,function*(){const b=yield X.get(`ranking?page=${a}&limit=${n}`,{requiresAuth:!0});if(b.error)throw new Error(b.error);return b})}),l=o==null?void 0:o.data,u=l==null?void 0:l.ranking,m=(l==null?void 0:l.totalUsers)||0,p=l==null?void 0:l.meta,h=(p==null?void 0:p.totalPages)||Math.ceil(m/n),j=()=>{a<h&&r(b=>b+1)},w=()=>{a>1&&r(b=>b-1)},y=b=>{b>=1&&b<=h&&r(b)};return{ranking:u,totalUsers:m,userStats:l==null?void 0:l.userStats,isLoading:c,error:d,page:a,limit:n,nextPage:j,prevPage:w,goToPage:y,totalPages:h,pagination:p?{page:p.page,limit:p.limit,totalItems:p.totalResults,totalPages:p.totalPages}:null}},Tc=()=>{const{ranking:s,userStats:t,isLoading:a,error:r,page:n,totalPages:o,nextPage:c,prevPage:d,goToPage:l}=Cc(),u=i.useMemo(()=>s||[],[s]),m=i.useMemo(()=>{var h,j;return t?{username:t.username,rank:t.rank,level:((h=t.stats)==null?void 0:h.level)||"-",points:((j=t.stats)==null?void 0:j.points)||"-",avatar:t.avatar}:null},[t]),p=i.useMemo(()=>({page:n,totalPages:o,hasNextPage:n<o,hasPrevPage:n>1,nextPage:c,prevPage:d,goToPage:l,isLoadingPage:a&&!!u.length}),[n,o,c,d,l,a,u.length]);return{users:u,currentUserStats:m,isLoading:a,error:r,pagination:p}},Kr=i.memo(()=>{const{users:s,currentUserStats:t,isLoading:a,error:r,pagination:n}=Tc();return a&&!n.page?e.jsx(ds,{text:"Ładowanie rankingu..."}):r?e.jsxs("div",{className:"text-center p-8",children:[e.jsx("div",{className:"text-red-500 text-2xl mb-2",children:"Błąd ładowania"}),e.jsx("p",{className:"text-gray-400",children:r instanceof Error?r.message:"Nie udało się załadować danych rankingu. Spróbuj ponownie później."})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs("div",{className:"bg-dark/30 backdrop-blur-sm rounded-xl border border-js/10 p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-js",children:"Ranking"}),n.isLoadingPage&&e.jsxs("div",{className:"text-xs text-gray-400 flex items-center",children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-js",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Aktualizowanie..."]})]}),e.jsx(Jr,{users:s,isLoading:a,pagination:n})]})}),e.jsx("div",{className:"space-y-6",children:e.jsx(Zr,{currentUserStats:t,isLoading:a})})]})});Kr.displayName="CommunityRanking";const Lc=Object.freeze(Object.defineProperty({__proto__:null,default:Kr},Symbol.toStringTag,{value:"Module"})),Ie=i.memo(({category:s,stats:t})=>{const a=()=>{switch(s){case"scope":return A;case"closure":return Pe;case"hoisting":return Ts}},r=()=>{switch(s){case"scope":return"Zakres zmiennych";case"closure":return"Domknięcia";case"hoisting":return"Hoisting"}},n=a(),o=t.correct/t.total*100;return e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-dark-800/50 rounded-lg",children:[e.jsx("div",{className:"p-2 rounded-lg bg-js/10",children:e.jsx(n,{className:"w-4 h-4 text-js"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm text-gray-400",children:r()}),e.jsxs("span",{className:"text-xs text-gray-500",children:[t.correct,"/",t.total]})]}),e.jsx("div",{className:"h-1 bg-dark-900 rounded-full overflow-hidden",children:e.jsx(x.div,{initial:{width:0},animate:{width:`${o}%`},className:"h-full bg-js",transition:{duration:.3}})})]})]})});Ie.displayName="CategoryProgress";const qr=i.memo(({stats:s,isGameOver:t,finalTime:a})=>{const r=o=>{const c=Math.floor(o/60),d=o%60;return`${c}:${d.toString().padStart(2,"0")}`},n=t?a:s.timeElapsed;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs(x.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(A,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Poziom"}),e.jsxs("div",{className:"text-lg font-bold text-js",children:[s.currentLevel,"/",s.totalLevels]})]})]}),e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(M,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Punkty"}),e.jsx("div",{className:"text-lg font-bold text-js",children:s.score}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Poprawne: ",s.correctAnswers,"/",s.totalLevels]})]})]}),e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(F,{className:"w-5 h-5 text-js"}),e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Czas"}),e.jsx("div",{className:"text-lg font-bold text-js flex flex-wrap w-full",children:e.jsxs("span",{className:"block w-full break-words",children:[r(n),"/",r(s.maxTime)]})})]})]})]}),e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-2",children:[e.jsx(Ie,{category:"scope",stats:s.categoryStats.scope}),e.jsx(Ie,{category:"closure",stats:s.categoryStats.closure}),e.jsx(Ie,{category:"hoisting",stats:s.categoryStats.hoisting})]})]})});qr.displayName="ScopeExplorerStats";const ge=i.memo(({gameContent:s,onStart:t})=>e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-2xl mx-auto p-6 bg-dark-800/50 border border-js/10 rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold text-js mb-4 text-center",children:s.title}),e.jsx("div",{className:"mb-6 text-gray-400 text-center",children:s.description}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg text-center",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Poziom trudności"}),e.jsx("div",{className:"text-lg font-bold text-js capitalize",children:s.difficulty})]}),e.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg text-center",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Punkty do zdobycia"}),e.jsxs("div",{className:"text-lg font-bold text-js flex items-center justify-center gap-1",children:[e.jsx(M,{className:"w-4 h-4"}),s.rewardPoints]})]}),e.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg text-center",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Szacowany czas"}),e.jsxs("div",{className:"text-lg font-bold text-js",children:[s.estimatedTime," min"]})]})]}),e.jsxs("button",{onClick:t,className:"w-full px-6 py-4 rounded-lg bg-js text-dark font-medium hover:bg-js/90 transition-colors flex items-center justify-center gap-2",children:[e.jsx(ws,{className:"w-4 h-4"}),e.jsx("span",{children:"Rozpocznij grę"})]})]}));ge.displayName="GameIntro";const Pc=()=>{const{data:s,isLoading:t,error:a}=oe();return{gameContent:i.useMemo(()=>s==null?void 0:s.games.find(n=>n.slug==="scope-explorer"),[s==null?void 0:s.games]),isLoading:t,error:a}},be=({maxTime:s,onTimeEnd:t,isPaused:a})=>{const[r,n]=i.useState(0),[o,c]=i.useState(!1),d=i.useCallback(()=>{c(!0)},[]),l=i.useCallback(()=>{c(!1)},[]),u=i.useCallback(()=>{n(0),c(!1)},[]);return i.useEffect(()=>{let m;return o&&!a&&(m=window.setInterval(()=>{n(p=>{const h=p+1;return h>=s?(l(),t(),s):h})},1e3)),()=>{m&&window.clearInterval(m)}},[o,a,s,t,l]),{timeElapsed:r,resetTimer:u,startTimer:d,stopTimer:l,isRunning:o}},Ec=({gameContent:s,isPaused:t})=>{var T;const[a,r]=i.useState(!1),[n,o]=i.useState(!1),[c,d]=i.useState(0),[l,u]=i.useState({currentLevel:1,totalLevels:0,score:0,timeElapsed:0,maxTime:300,correctAnswers:0,categoryStats:{scope:{total:0,correct:0,points:0},closure:{total:0,correct:0,points:0},hoisting:{total:0,correct:0,points:0}}}),{timeElapsed:m,resetTimer:p,startTimer:h,stopTimer:j}=be({maxTime:s!=null&&s.estimatedTime?s.estimatedTime*60:300,onTimeEnd:()=>{o(!0),d(m),j()},isPaused:t});i.useEffect(()=>{u(f=>z(S({},f),{timeElapsed:m}))},[m]),i.useEffect(()=>{if(!(s!=null&&s.gameData))return;const f={scope:{total:0,correct:0,points:0},closure:{total:0,correct:0,points:0},hoisting:{total:0,correct:0,points:0}};s.gameData.forEach(N=>{const g=N.category;f[g].total++,f[g].points+=N.points||0}),u(N=>z(S({},N),{totalLevels:s.gameData.length,maxTime:s.estimatedTime?s.estimatedTime*60:300,categoryStats:f}))},[s]);const w=i.useCallback((f,N)=>{u(g=>z(S({},g),{score:g.score+f,correctAnswers:g.correctAnswers+1,categoryStats:z(S({},g.categoryStats),{[N]:z(S({},g.categoryStats[N]),{correct:g.categoryStats[N].correct+1})})}))},[]),y=i.useCallback(()=>{var N;const f=l.currentLevel+1;if(f>(((N=s==null?void 0:s.gameData)==null?void 0:N.length)||0)){o(!0),d(m),j();return}u(g=>z(S({},g),{currentLevel:f}))},[l.currentLevel,m,(T=s==null?void 0:s.gameData)==null?void 0:T.length,j]),b=i.useCallback(()=>{if(!(s!=null&&s.gameData))return;const f={scope:{total:0,correct:0,points:0},closure:{total:0,correct:0,points:0},hoisting:{total:0,correct:0,points:0}};s.gameData.forEach(N=>{const g=N.category;f[g].total++,f[g].points+=N.points||0}),u({currentLevel:1,totalLevels:s.gameData.length,score:0,timeElapsed:0,maxTime:s.estimatedTime?s.estimatedTime*60:300,correctAnswers:0,categoryStats:f}),o(!1),d(0),p(),h()},[p,h,s]),v=i.useCallback(()=>{r(!0),h()},[h]),C=i.useCallback(()=>{o(!0),d(m),j()},[m,j]);return{isGameStarted:a,isGameOver:n,finalTime:c,gameStats:l,currentChallenge:s!=null&&s.gameData?s.gameData[l.currentLevel-1]:void 0,handleScoreUpdate:w,handleLevelComplete:y,handleRestart:b,handleStartGame:v,handleGameOver:C}},Xr=i.memo(({isLoading:s,error:t,children:a})=>s?e.jsx("div",{className:"w-full h-64 flex items-center justify-center",children:e.jsxs(x.div,{className:"text-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[e.jsx(x.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"text-js text-4xl mx-auto mb-4",children:e.jsx(ne,{})}),e.jsx("div",{className:"text-xl font-medium text-gray-100 mb-2",children:"Ładowanie gry..."})]})}):t?e.jsx("div",{className:"w-full h-64 flex items-center justify-center",children:e.jsxs(x.div,{className:"text-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[e.jsx("div",{className:"text-red-500 text-4xl mx-auto mb-4",children:e.jsx(K,{})}),e.jsx("div",{className:"text-xl font-medium text-gray-100 mb-2",children:"Wystąpił błąd"}),e.jsx("div",{className:"text-gray-400",children:t.message})]})}):e.jsx(e.Fragment,{children:a}));Xr.displayName="LoadingErrorContainer";const Ac=s=>{switch(s){case"scope":return A;case"closure":return Pe;case"hoisting":return Ts}},$c=s=>{switch(s){case"scope":return"Zakres zmiennych";case"closure":return"Domknięcia";case"hoisting":return"Hoisting"}},Rc=s=>{switch(s){case"easy":return"text-green-400 bg-green-500/10";case"medium":return"text-yellow-400 bg-yellow-500/10";case"hard":return"text-red-400 bg-red-500/10"}},Dc=s=>{switch(s){case"easy":return"Łatwy";case"medium":return"Średni";case"hard":return"Trudny"}},Yr=({onEscape:s,onEnter:t,onNumber1:a,onNumber2:r,onNumber3:n,onNumber4:o,disabled:c=!1})=>{const d=i.useCallback(l=>{if(!c)switch(l.key){case"Escape":s==null||s();break;case"Enter":t==null||t();break;case"1":a==null||a();break;case"2":r==null||r();break;case"3":n==null||n();break;case"4":o==null||o();break}},[s,t,a,r,n,o,c]);i.useEffect(()=>(window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)),[d])},ei=i.memo(({currentLevel:s,totalLevels:t})=>{const a=(s-1)/t*100;return e.jsx("div",{className:"w-full bg-dark-800/50 h-1 rounded-full overflow-hidden",children:e.jsx(x.div,{initial:{width:0},animate:{width:`${a}%`},className:"h-full bg-js",transition:{duration:.3}})})});ei.displayName="ScopeExplorerProgress";const Fc=Sn,si=i.memo(({currentChallenge:s,onScoreUpdate:t,onLevelComplete:a,currentLevel:r,totalLevels:n,onGameOver:o})=>{const[c,d]=i.useState(null),[l,u]=i.useState(!1),[m,p]=i.useState(null),[h,j]=i.useState(!1),w=i.useCallback(v=>{d(v);const C=v===s.correct;p(C),u(!0),C?(t(s.points||10,s.category),setTimeout(()=>{a(),d(null),u(!1),p(null),j(!1)},1500)):setTimeout(()=>{o()},2e3)},[s,t,a,o]),y=i.useCallback(v=>{!l&&v<s.options.length&&w(s.options[v])},[l,s.options,w]);Yr({onNumber1:()=>y(0),onNumber2:()=>y(1),onNumber3:()=>y(2),disabled:l});const b=Ac(s.category);return e.jsxs(x.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},className:"w-full space-y-6",children:[e.jsx(ei,{currentLevel:r,totalLevels:n}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-js/10",children:e.jsx(b,{className:"w-4 h-4 text-js"})}),e.jsx("div",{className:"text-sm text-gray-400",children:$c(s.category)})]}),e.jsx("div",{className:`px-3 py-1 rounded-lg text-sm ${Rc(s.difficulty)}`,children:Dc(s.difficulty)})]}),e.jsx("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg overflow-hidden",children:e.jsx(Fc,{language:"javascript",style:kn,customStyle:{padding:"1.5rem",borderRadius:"0.5rem",fontSize:"1.1rem",background:"transparent"},children:s.code})}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:s.options.map((v,C)=>e.jsxs(x.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>w(v),disabled:l,className:`
              w-full break-words
              relative p-4 rounded-lg font-mono text-lg transition-colors
              ${c===v?m?"bg-green-500/20 border-green-500/30 text-green-400":"bg-red-500/20 border-red-500/30 text-red-400":"bg-dark-800/50 border border-js/10 text-gray-300 hover:border-js/30"}
            `,children:[e.jsx("span",{className:"absolute top-2 left-2 text-xs text-gray-500",children:C+1}),v]},v))}),e.jsx("div",{className:"text-sm text-gray-500 text-center",children:"Użyj klawiszy numerycznych (1-3) aby wybrać odpowiedź"}),l&&e.jsx(x.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-4 rounded-lg ${m?"bg-green-500/20 border border-green-500/30":"bg-red-500/20 border border-red-500/30"}`,children:e.jsxs("p",{className:`text-sm ${m?"text-green-400":"text-red-400"}`,children:[m?"Świetnie! ":"Spróbuj jeszcze raz. ",s.explanation]})}),h&&!m&&e.jsx(x.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-js/10 border border-js/20 rounded-lg",children:e.jsxs("p",{className:"text-sm text-js",children:[e.jsx("span",{className:"font-medium",children:"Podpowiedź:"})," Zwróć uwagę na zakres zmiennych i ich dostępność w różnych kontekstach."]})})]},r)});si.displayName="ScopeExplorerGame";const Mc=s=>k(void 0,null,function*(){try{const t=yield fetch(`${$}progress/points`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({points:s})});if(!t.ok)throw new Error("Nie udało się zaktualizować punktów");return yield t.json()}catch(t){throw console.error("Błąd podczas aktualizacji punktów:",t),t}}),fe=()=>{const s=ye(),t=ce({mutationFn:a=>k(void 0,null,function*(){return Mc(a)}),onSuccess:()=>{s.invalidateQueries({queryKey:["userProgress"]})}});return{updatePoints:t.mutate,isUpdating:t.isPending,error:t.error}},ti=i.memo(({score:s,timeElapsed:t,challenges:a,correctAnswers:r,categoryStats:n,onRestart:o})=>{const{updatePoints:c}=fe();i.useEffect(()=>{c(s)},[s,c]);const d=u=>{const m=Math.floor(u/60),p=u%60;return`${m}:${p.toString().padStart(2,"0")}`},l=u=>{switch(u){case"scope":return A;case"closure":return Pe;case"hoisting":return Ts;default:return A}};return e.jsxs(x.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"p-6 bg-dark-800/50 border border-js/10 rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold text-js mb-6 text-center",children:r===a.length?"Gratulacje!":"Koniec gry!"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[e.jsx(M,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Wynik końcowy"}),e.jsxs("div",{className:"text-lg font-bold text-js",children:[s," punktów"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Poprawne odpowiedzi: ",r,"/",a.length]})]})]}),e.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[e.jsx(F,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Czas ukończenia"}),e.jsx("div",{className:"text-lg font-bold text-js",children:d(t)})]})]})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-js",children:"Statystyki kategorii:"}),Object.entries(n).map(([u,m])=>{const p=l(u);return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-900/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-js/10",children:e.jsx(p,{className:"w-4 h-4 text-js"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-js",children:u==="scope"?"Zakres zmiennych":u==="closure"?"Domknięcia":"Hoisting"}),e.jsxs("div",{className:"text-xs text-gray-400",children:["Ukończone zadania: ",m.correct,"/",m.total]})]})]}),e.jsxs("div",{className:"text-sm font-medium text-js",children:[m.points," pkt"]})]},u)})]}),e.jsx("button",{onClick:o,className:"w-full px-6 py-3 rounded-lg bg-js text-dark font-medium hover:bg-js/90 transition-colors",children:"Zagraj ponownie"})]})});ti.displayName="ScopeExplorerSummary";const ai=()=>{const s=i.useMemo(()=>({initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}}),[]),t=i.useMemo(()=>({initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.3}}),[]),a=i.useMemo(()=>({initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3}}),[]);return{containerAnimation:s,gameAnimation:t,summaryAnimation:a}},ri=i.memo(({isGameOver:s,gameStats:t,currentChallenge:a,finalTime:r,challenges:n,onScoreUpdate:o,onLevelComplete:c,onGameOver:d,onRestart:l})=>{const{gameAnimation:u,summaryAnimation:m}=ai();return!a&&!s?null:e.jsx(W,{mode:"wait",children:e.jsx("div",{className:"flex-1 overflow-y-auto py-6",children:s?e.jsx(x.div,{initial:m.initial,animate:m.animate,exit:m.exit,transition:m.transition,children:e.jsx(ti,{score:t.score,timeElapsed:r,challenges:n||[],correctAnswers:t.correctAnswers,categoryStats:t.categoryStats,onRestart:l})},"game-over"):e.jsx(x.div,{initial:u.initial,animate:u.animate,exit:u.exit,transition:u.transition,className:"w-full",children:e.jsx(si,{currentChallenge:a,onScoreUpdate:o,onLevelComplete:c,currentLevel:t.currentLevel,totalLevels:t.totalLevels,onGameOver:d})},`level-${t.currentLevel}`)})})});ri.displayName="GameContent";const ii=({title:s,description:t,gameName:a="JSTypoHunter"}={})=>{const r=i.useMemo(()=>s?`${s} | CodeLinesJS`:`${a} - Gra programistyczna | CodeLinesJS`,[s,a]),n=i.useMemo(()=>t||`Zagraj w ${a} - interaktywną grę programistyczną, która pomoże Ci rozwinąć umiejętności kodowania.`,[t,a]);return{pageTitle:r,pageDescription:n}},ni=i.memo(({isPaused:s=!1})=>{const{gameContent:t,isLoading:a,error:r}=Pc(),{containerAnimation:n}=ai(),{pageTitle:o,pageDescription:c}=ii(),{isGameStarted:d,isGameOver:l,finalTime:u,gameStats:m,currentChallenge:p,handleScoreUpdate:h,handleLevelComplete:j,handleRestart:w,handleStartGame:y,handleGameOver:b}=Ec({gameContent:t,isPaused:s});return e.jsx(Xr,{isLoading:a,error:r,children:t&&e.jsx(e.Fragment,{children:d?e.jsxs(x.div,z(S({},n),{className:"w-full h-full flex flex-col",children:[e.jsxs(te,{children:[e.jsx("title",{children:o}),e.jsx("meta",{name:"description",content:c})]}),e.jsx(qr,{stats:m,isGameOver:l,finalTime:u}),e.jsx(ri,{isGameOver:l,gameStats:m,currentChallenge:p,finalTime:u,challenges:t.gameData,onScoreUpdate:h,onLevelComplete:j,onGameOver:b,onRestart:w})]})):e.jsx(ge,{gameContent:t,onStart:y})})})});ni.displayName="ScopeExplorer";const Oc=Object.freeze(Object.defineProperty({__proto__:null,default:ni},Symbol.toStringTag,{value:"Module"})),oi=i.memo(({stats:s})=>{const t=a=>{const r=Math.floor(a/60),n=a%60;return`${r}:${n.toString().padStart(2,"0")}`};return e.jsxs(x.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(A,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Poziom"}),e.jsxs("div",{className:"text-lg font-bold text-js",children:[s.currentLevel,"/",s.totalLevels]})]})]}),e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(M,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Punkty"}),e.jsx("div",{className:"text-lg font-bold text-js",children:s.score})]})]}),e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 gap-3 flex items-center",children:[e.jsx(F,{className:"w-5 h-5 text-js"}),e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Czas"}),e.jsx("div",{className:"text-lg font-bold text-js flex flex-wrap w-full",children:e.jsxs("span",{className:"block w-full break-words",children:[t(s.timeElapsed),"/",t(s.maxTime)]})})]})]})]})});oi.displayName="JSTypoHunterStats";const _c=()=>{const{data:s,isLoading:t,error:a}=oe();return{gameContent:i.useMemo(()=>s==null?void 0:s.games.find(n=>n.slug==="js-typo-hunter"),[s]),isLoading:t,error:a}},Bc=s=>{switch(s){case"easy":return 10;case"medium":return 20;case"hard":return 30;default:return 10}},Ic=({gameContent:s,isPaused:t})=>{var f;const[a,r]=i.useState(!1),[n,o]=i.useState({currentLevel:1,totalLevels:0,score:0,timeElapsed:0,maxTime:300,correctAnswers:0}),[c,d]=i.useState(!1),[l,u]=i.useState(0),{timeElapsed:m,resetTimer:p,startTimer:h,stopTimer:j}=be({maxTime:s!=null&&s.estimatedTime?s.estimatedTime*60:300,onTimeEnd:()=>{d(!0),u(m),j()},isPaused:t}),w=i.useCallback(N=>{var U;const g=(U=s==null?void 0:s.gameData)==null?void 0:U[n.currentLevel-1],L=Bc((g==null?void 0:g.difficulty)||"easy"),E=N+L;o(H=>z(S({},H),{score:H.score+E,correctAnswers:H.correctAnswers+1}))},[n.currentLevel,s]),y=i.useCallback(()=>{d(!0),u(m),j()},[m,j]),b=i.useCallback(()=>{setTimeout(()=>{var g;const N=n.currentLevel+1;N>(((g=s==null?void 0:s.gameData)==null?void 0:g.length)||0)?(d(!0),u(m),j()):o(L=>z(S({},L),{currentLevel:N}))},1e3)},[n.currentLevel,s,m,j]),v=i.useCallback(()=>{var N;s&&(o({currentLevel:1,totalLevels:((N=s==null?void 0:s.gameData)==null?void 0:N.length)||0,score:0,timeElapsed:0,maxTime:s!=null&&s.estimatedTime?s.estimatedTime*60:300,correctAnswers:0}),d(!1),u(0),p(),h())},[p,h,s]),C=i.useCallback(()=>{r(!0),h()},[h]);i.useEffect(()=>{o(N=>z(S({},N),{timeElapsed:m}))},[m]),i.useEffect(()=>{s&&o(N=>{var g;return z(S({},N),{totalLevels:((g=s.gameData)==null?void 0:g.length)||0,maxTime:s!=null&&s.estimatedTime?s.estimatedTime*60:300})})},[s]);const T=(f=s==null?void 0:s.gameData)==null?void 0:f[n.currentLevel-1];return{isGameStarted:a,isGameOver:c,gameStats:n,finalTime:l,currentChallenge:T,handleScoreUpdate:w,handleIncorrectAnswer:y,handleLevelComplete:b,handleRestart:v,handleStartGame:C}},Hc=({title:s,description:t,gameName:a="JSTypoHunter"}={})=>{const r=i.useMemo(()=>s||`${a} | CodeLinesJS`,[s,a]),n=i.useMemo(()=>t||`${a} CodeLinesJS - dołącz do nas i rozwijaj swoje umiejętności w przyjaznym środowisku.`,[t,a]);return{pageTitle:r,pageDescription:n}},li=i.memo(({isLoading:s,error:t,children:a})=>s?e.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-64 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ne,{className:"animate-spin text-4xl text-js mx-auto mb-4"}),e.jsx("div",{className:"text-xl font-medium text-gray-100",children:"Ładowanie gry..."})]})}):t?e.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-64 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(K,{className:"text-4xl text-red-500 mx-auto mb-4"}),e.jsx("div",{className:"text-xl font-medium text-gray-100 mb-2",children:"Wystąpił błąd"}),e.jsx("div",{className:"text-red-400",children:t.message})]})}):a?e.jsx(e.Fragment,{children:a}):e.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-64 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(K,{className:"text-4xl text-yellow-500 mx-auto mb-4"}),e.jsx("div",{className:"text-xl font-medium text-gray-100",children:"Gra niedostępna"})]})}));li.displayName="LoadingError";const ci=i.memo(({type:s,message:t})=>s?e.jsx(W,{children:e.jsxs(x.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:`
          absolute top-4 left-1/2 -translate-x-1/2 
          px-4 py-2 rounded-lg flex items-center gap-2
          ${s==="success"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}
        `,children:[s==="success"?e.jsx(G,{className:"w-4 h-4"}):e.jsx(Ue,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:t})]})}):null);ci.displayName="JSTypoHunterFeedback";const di=i.memo(({hint:s,isVisible:t})=>t?e.jsxs(x.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"mt-4 p-3 bg-js/10 border border-js/20 rounded-lg flex items-start gap-3",children:[e.jsx(ue,{className:"w-5 h-5 text-js flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-js mb-1",children:"Podpowiedź:"}),e.jsx("div",{className:"text-sm text-gray-400",children:s})]})]}):null);di.displayName="JSTypoHunterHint";const Gc=s=>{switch(s){case"syntax":return A;case"naming":return zn;case"logic":return ue}},Wc=s=>{switch(s){case"easy":return"text-green-400 bg-green-500/10";case"medium":return"text-yellow-400 bg-yellow-500/10";case"hard":return"text-red-400 bg-red-500/10"}},mi=i.memo(({currentChallenge:s,onScoreUpdate:t,onLevelComplete:a,onIncorrectAnswer:r})=>{const[n,o]=i.useState(s.code),[c,d]=i.useState({type:null,message:""}),[l,u]=i.useState(0),m=3,p=y=>{y!==void 0&&o(y)},h=(y,b)=>{const v=y.trim().replace(/\s+/g," "),C=b.trim().replace(/\s+/g," ");return v.includes(C)?!0:((N,g)=>{if(N===g)return 1;let L=0;const E=N.length>g.length?N:g,U=N.length>g.length?g:N;for(let H=0;H<U.length;H++)U[H]===E[H]&&L++;return L/E.length})(v,C)>.8},j=i.useCallback(()=>{const y=n.split(`
`);let b=!1;for(const v of y)if(h(v,s.correct)){b=!0;break}if(b){d({type:"success",message:"Świetnie! Poprawna odpowiedź!"});const v=Math.max(10-l*2,1);t(v),setTimeout(()=>{a(),o(s.code),d({type:null,message:""}),u(0)},1500)}else u(v=>v+1),l+1>=m?(d({type:"error",message:"Niestety, przekroczyłeś liczbę prób. Koniec gry!"}),setTimeout(()=>{r()},1500)):(d({type:"error",message:`Niestety, to nie jest prawidłowa odpowiedź. Pozostałe próby: ${m-l-1}`}),setTimeout(()=>{d({type:null,message:""})},1500))},[n,s,l,t,a,r]),w=Gc(s.category);return e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative",children:[e.jsx(ci,{type:c.type,message:c.message}),e.jsxs("div",{className:"mb-4 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-js/10",children:e.jsx(w,{className:"w-4 h-4 text-js"})}),e.jsx("div",{className:"text-sm text-gray-400",children:s.category==="syntax"?"Błąd składni":s.category==="naming"?"Błąd nazewnictwa":"Błąd logiki"})]}),e.jsx("div",{className:`px-3 py-1 rounded-lg text-sm ${Wc(s.difficulty)}`,children:s.difficulty==="easy"?"Łatwy":s.difficulty==="medium"?"Średni":"Trudny"})]}),e.jsx("p",{className:"text-gray-400 text-sm",children:s.explanation||"Znajdź i popraw błąd w kodzie."}),e.jsxs("p",{className:"mt-1 text-gray-500 text-sm",children:["Pozostałe próby: ",m-l]})]}),e.jsx("div",{className:"rounded-lg",children:e.jsx(ct,{className:"w-full h-full flex flex-wrap",theme:"vs-dark",height:"400px",defaultLanguage:"javascript",value:n,onChange:p,options:{selectOnLineNumbers:!0,automaticLayout:!0,theme:"vs-dark",wordWrap:"on"}})}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx("button",{onClick:j,className:"px-4 py-2 rounded-lg bg-js text-dark font-medium hover:bg-js/90 transition-colors",children:"Sprawdź"})}),e.jsx(di,{hint:s.hint||"",isVisible:l>0})]})});mi.displayName="JSTypoHunterGame";const xi=i.memo(({score:s,timeElapsed:t,correctAnswers:a,totalLevels:r,onRestart:n})=>{const{updatePoints:o}=fe();i.useEffect(()=>{o(s)},[s,o]);const c=d=>{const l=Math.floor(d/60),u=d%60;return`${l}:${u.toString().padStart(2,"0")}`};return e.jsxs(x.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"p-6 bg-dark-800/50 border border-js/10 rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold text-js mb-6 text-center",children:a===r?"Gratulacje!":"Koniec gry!"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[e.jsx(M,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Wynik końcowy"}),e.jsxs("div",{className:"text-lg font-bold text-js",children:[s," punktów"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Poprawne odpowiedzi: ",a,"/",r]})]})]}),e.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[e.jsx(F,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Czas ukończenia"}),e.jsx("div",{className:"text-lg font-bold text-js flex flex-wrap",children:c(t)})]})]})]}),e.jsx("button",{onClick:n,className:"w-full px-6 py-3 rounded-lg bg-js text-dark font-medium hover:bg-js/90 transition-colors",children:"Zagraj ponownie"})]})});xi.displayName="JSTypoHunterSummary";const ui=i.memo(({isGameOver:s,gameStats:t,finalTime:a,currentChallenge:r,totalLevels:n,onScoreUpdate:o,onLevelComplete:c,onIncorrectAnswer:d,onRestart:l})=>e.jsx(W,{mode:"wait",children:s?e.jsx(xi,{score:t.score,timeElapsed:a,correctAnswers:t.correctAnswers,totalLevels:n,onRestart:l},"game-over"):e.jsx(x.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},children:e.jsx(mi,{currentChallenge:r,onScoreUpdate:o,onLevelComplete:c,onIncorrectAnswer:d})},`level-${t.currentLevel}`)}));ui.displayName="GameContent";const pi=i.memo(({isPaused:s=!1})=>{var b;const{gameContent:t,isLoading:a,error:r}=_c(),{pageTitle:n,pageDescription:o}=Hc(),{isGameStarted:c,isGameOver:d,gameStats:l,finalTime:u,currentChallenge:m,handleScoreUpdate:p,handleIncorrectAnswer:h,handleLevelComplete:j,handleRestart:w,handleStartGame:y}=Ic({gameContent:t,isPaused:s});return e.jsx(li,{isLoading:a,error:r,children:t&&e.jsx(e.Fragment,{children:c?e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full space-y-6",children:[e.jsxs(te,{children:[e.jsx("title",{children:n}),e.jsx("meta",{name:"description",content:o})]}),e.jsx(oi,{stats:l}),e.jsx(ui,{isGameOver:d,gameStats:l,finalTime:u,currentChallenge:m,totalLevels:((b=t==null?void 0:t.gameData)==null?void 0:b.length)||0,onScoreUpdate:p,onLevelComplete:j,onIncorrectAnswer:h,onRestart:w})]}):e.jsx(ge,{gameContent:t,onStart:y})})})});pi.displayName="JSTypoHunter";const Uc=Object.freeze(Object.defineProperty({__proto__:null,default:pi},Symbol.toStringTag,{value:"Module"})),hi=()=>{const{data:s,isLoading:t,error:a}=oe();return{gameContent:i.useMemo(()=>{if(!(!s||!s.games||!Array.isArray(s.games)))return s.games.find(n=>n.slug==="async-quest")},[s]),isLoading:t,error:a}},Qc=({gameContent:s,isPaused:t})=>{var N;const[a,r]=i.useState(!1),n={promises:{total:0,correct:0,points:0},"async-await":{total:0,correct:0,points:0},callbacks:{total:0,correct:0,points:0}},[o,c]=i.useState({currentLevel:1,totalLevels:0,score:0,timeElapsed:0,maxTime:s!=null&&s.estimatedTime?s.estimatedTime*60:300,correctAnswers:0,categoryStats:n}),[d,l]=i.useState(!1),[u,m]=i.useState(0),{timeElapsed:p,resetTimer:h,startTimer:j,stopTimer:w}=be({maxTime:s!=null&&s.estimatedTime?s.estimatedTime*60:300,onTimeEnd:()=>{l(!0),m(p),w()},isPaused:t});i.useEffect(()=>{s&&c(g=>{var L;return z(S({},g),{totalLevels:((L=s.gameData)==null?void 0:L.length)||0})})},[s]),i.useEffect(()=>{!d&&!t&&c(g=>z(S({},g),{timeElapsed:p}))},[p,d,t]),i.useEffect(()=>{!d&&!t&&j()},[d,t,j]);const y=i.useCallback((g,L)=>{c(E=>z(S({},E),{score:E.score+g,correctAnswers:E.correctAnswers+1,categoryStats:z(S({},E.categoryStats),{[L]:z(S({},E.categoryStats[L]),{total:E.categoryStats[L].total+1,correct:E.categoryStats[L].correct+1,points:E.categoryStats[L].points+g})})}))},[]),b=i.useCallback(()=>{const g=o.currentLevel+1;g>o.totalLevels?(l(!0),m(p),w()):c(L=>z(S({},L),{currentLevel:g}))},[o.currentLevel,o.totalLevels,p,w]),v=i.useCallback(()=>{l(!0),m(p),w()},[p,w]),C=i.useCallback(()=>{var L,E;if(!s)return;const g={promises:{total:0,correct:0,points:0},"async-await":{total:0,correct:0,points:0},callbacks:{total:0,correct:0,points:0}};(L=s.gameData)==null||L.forEach(U=>{U.category&&g[U.category].total++}),c({currentLevel:1,totalLevels:((E=s.gameData)==null?void 0:E.length)||0,score:0,timeElapsed:0,maxTime:s.estimatedTime?s.estimatedTime*60:300,correctAnswers:0,categoryStats:g}),l(!1),h(),j()},[s,h,j]),T=i.useCallback(()=>{r(!0),j()},[j]),f=(N=s==null?void 0:s.gameData)==null?void 0:N[o.currentLevel-1];return{isGameStarted:a,isGameOver:d,gameStats:o,finalTime:u,currentChallenge:f,handleScoreUpdate:y,handleLevelComplete:b,handleGameOver:v,handleRestart:C,handleStartGame:T}},Jc=({title:s,description:t,gameName:a="Async Quest"}={})=>{const r=i.useMemo(()=>s||`${a} | CodeLinesJS`,[s,a]),n=i.useMemo(()=>t||`${a} CodeLinesJS - dołącz do nas i rozwijaj swoje umiejętności w przyjaznym środowisku.`,[t,a]);return{pageTitle:r,pageDescription:n}},ji=i.memo(({isLoading:s,error:t,children:a})=>s?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center",children:[e.jsx(x.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"text-4xl text-purple-300 mb-4",children:e.jsx(ne,{})}),e.jsx("p",{className:"text-xl font-medium text-purple-200",children:"Ładowanie gry..."})]}):t?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-6",children:[e.jsx(x.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-4xl text-red-400 mb-4",children:e.jsx(K,{})}),e.jsx("h2",{className:"text-xl font-bold text-red-300 mb-2",children:"Wystąpił błąd"}),e.jsx("p",{className:"text-md text-red-200",children:t.message})]}):a?e.jsx(e.Fragment,{children:a}):e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx("p",{className:"text-lg text-purple-300",children:"Gra niedostępna"})}));ji.displayName="LoadingError";const yi=i.memo(({currentLevel:s,totalLevels:t})=>{const a=(s-1)/t*100;return e.jsx("div",{className:"w-full bg-dark-800/50 h-1 rounded-full overflow-hidden",children:e.jsx(x.div,{initial:{width:0},animate:{width:`${a}%`},className:"h-full bg-js",transition:{duration:.3}})})});yi.displayName="AsyncQuestProgress";const Vc=()=>{const[s,t]=i.useState(!1),[a,r]=i.useState([]);return{executeCode:i.useCallback(o=>k(void 0,null,function*(){t(!0),r([]);try{const u={console:{log:(...p)=>{r(h=>[...h,p.map(j=>String(j)).join(" ")])},error:(...p)=>{r(h=>[...h,`Error: ${p.map(j=>String(j)).join(" ")}`])}},fetch:()=>Promise.resolve({json:()=>Promise.resolve({data:"mock data"})}),setTimeout:(p,h)=>setTimeout(p,Math.min(h,1e3)),Promise},m=`
        with (context) {
          ${o}
        }
      `;return yield new Function("context",m)(u),{success:!0,output:a}}catch(c){return console.error("Błąd podczas wykonywania kodu:",c),{success:!1,output:a,error:c.message}}finally{t(!1)}}),[]),isRunning:s,output:a,clearOutput:()=>r([])}},Zc=(s,t)=>{const a=l=>l.replace(/\s+/g," ").trim(),r=a(s),n=a(t);if(r===n)return!0;const o=l=>l.includes("async")&&l.includes("function"),c=l=>l.includes(".then(")&&l.includes(".catch("),d=l=>l.includes("try")&&l.includes("catch");return!(o(t)&&!o(s)||c(t)&&!c(s)||d(t)&&!d(s))},gi=i.memo(({type:s,message:t,code:a,explanation:r})=>e.jsx(x.div,{initial:{opacity:0,y:s==="hint"?-10:10},animate:{opacity:1,y:0},className:`p-4 rounded-lg ${s==="hint"?"bg-js/10 border border-js/20":"bg-red-500/20 border border-red-500/30"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[s==="hint"?e.jsx(ue,{className:"w-5 h-5 text-js flex-shrink-0 mt-0.5"}):e.jsx(K,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:`text-sm font-medium ${s==="hint"?"text-js":"text-red-400"}`,children:s==="hint"?"Podpowiedź:":"Błąd:"}),e.jsx("div",{className:"text-sm text-gray-400",children:t}),a&&e.jsx("div",{className:"mt-2 p-2 bg-dark-900 rounded-lg font-mono text-sm text-gray-300",children:a}),r&&e.jsxs("div",{className:"mt-2 text-sm text-gray-400",children:[e.jsx("span",{className:"font-medium text-js",children:"Wyjaśnienie: "}),r]})]})]})}));gi.displayName="AsyncQuestHint";const Qs=(s,t)=>{if(t==="async-await"){if(!s.includes("async"))return{message:"Funkcja powinna być oznaczona jako asynchroniczna.",explanation:"Użyj słowa kluczowego async przed deklaracją funkcji.",example:"async function getData() { ... }"};if(!s.includes("await"))return{message:"Brak słowa kluczowego await przy wywołaniu asynchronicznym.",explanation:"Użyj await aby poczekać na wynik operacji asynchronicznej.",example:"const data = await fetchData();"}}if(t==="promises"){if(!s.includes(".catch"))return{message:"Brak obsługi błędów w łańcuchu Promise.",explanation:"Dodaj .catch() aby obsłużyć potencjalne błędy.",example:"fetch(url).then(...).catch(error => { ... })"};if(!s.includes(".then"))return{message:"Brak obsługi wyniku Promise.",explanation:"Użyj .then() aby obsłużyć wynik pomyślnego wykonania.",example:"promise.then(result => { ... })"}}return t==="callbacks"&&!s.includes("new Promise")?{message:"Przekształć callback w Promise.",explanation:"Użyj konstruktora Promise aby opakować callback.",example:"new Promise((resolve, reject) => { ... })"}:{message:"Sprawdź poprawność składni kodu.",explanation:"Upewnij się, że kod jest zgodny z wymaganiami zadania."}},bi=i.memo(({currentChallenge:s,onScoreUpdate:t,onLevelComplete:a,currentLevel:r,totalLevels:n,onGameOver:o})=>{const[c,d]=i.useState(s.code),[l,u]=i.useState(!1),[m,p]=i.useState(null),[h,j]=i.useState(null),[w,y]=i.useState(!1),b=i.useRef(null),v=i.useRef(null),C=i.useRef(null),{executeCode:T,isRunning:f,clearOutput:N}=Vc();i.useEffect(()=>{v.current&&v.current.scrollIntoView({behavior:"smooth",block:"center"})},[]);const g=Y=>{b.current=Y,y(!0),setTimeout(()=>{Y.focus()},100)},L=i.useCallback(Y=>{Y!==void 0&&(d(Y),p(null),j(null),N())},[N]),E=i.useCallback(()=>{C.current&&C.current.scrollIntoView({behavior:"smooth",block:"center"})},[]),U=i.useCallback(()=>k(void 0,null,function*(){if(c){u(!1),N(),j(null);try{const Y=yield Zc(c,s.correct),we=yield T(c);if(Y&&we.success)p(!0),u(!0),t(s.points,s.category),setTimeout(()=>{E()},100),setTimeout(()=>{a()},1500);else{p(!1),u(!0);const Ye=Qs(c,s.category);j(Ye),setTimeout(()=>{E()},100),setTimeout(()=>{o()},2e3)}}catch(Y){p(!1),u(!0);const we=Qs(c,s.category);j(we),setTimeout(()=>{E()},100),setTimeout(()=>{o()},2e3)}}}),[c,s,T,t,a,o,N,E]),H={minimap:{enabled:!1},fontSize:14,lineHeight:24,fontFamily:"JetBrains Mono, monospace",fontLigatures:!0,wordWrap:"on",automaticLayout:!0,padding:{top:16,bottom:16},scrollBeyondLastLine:!1,folding:!0,lineNumbers:"on",renderLineHighlight:"all",suggestOnTriggerCharacters:!0,parameterHints:{enabled:!0},tabSize:2,theme:"vs-dark"};return e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-6xl mx-auto p-4 space-y-6",children:[e.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-js",children:s.title}),e.jsx(yi,{currentLevel:r,totalLevels:n})]}),e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-js mb-3",children:"Opis zadania"}),e.jsx("p",{className:"text-gray-300 text-lg leading-relaxed mb-6",children:s.description}),e.jsxs("div",{className:"p-4 bg-dark-700/50 border border-js/20 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-js mb-2",children:"Zadanie"}),e.jsx("p",{className:"text-gray-300 text-base",children:s.task})]})]})]}),e.jsxs("div",{ref:v,className:"bg-dark-800/50 rounded-xl p-6",children:[e.jsx("div",{className:"h-[500px] relative rounded-lg overflow-hidden border border-js/10",children:e.jsx(Cn,{height:"100%",defaultLanguage:"javascript",value:c,onChange:L,onMount:g,options:z(S({},H),{fontSize:16,lineHeight:26}),className:"w-full"})}),e.jsx("button",{onClick:U,disabled:f||!w,className:`mt-4 w-full px-6 py-3 rounded-lg font-medium transition-colors ${f||!w?"bg-gray-500 cursor-not-allowed":"bg-js text-dark hover:bg-js/90"}`,children:f?"Wykonywanie...":"Uruchom kod"})]}),l&&e.jsx(x.div,{ref:C,initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-dark-800/50 rounded-xl p-6",children:e.jsx(gi,{type:m?"hint":"error",message:m?"Świetnie! Rozwiązanie jest poprawne.":s.error,explanation:m||h==null?void 0:h.explanation,code:m||h==null?void 0:h.example})})]})});bi.displayName="AsyncQuestGame";const me=i.memo(({category:s,stats:t})=>{const a=()=>{switch(s){case"promises":return A;case"async-await":return Ln;case"callbacks":return Tn}},r=()=>{switch(s){case"promises":return"Promises";case"async-await":return"Async/Await";case"callbacks":return"Callbacks"}},n=a(),o=t.correct/t.total*100;return e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-dark-800/50 rounded-lg",children:[e.jsx("div",{className:"p-2 rounded-lg bg-js/10",children:e.jsx(n,{className:"w-4 h-4 text-js"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm text-gray-400",children:r()}),e.jsxs("span",{className:"text-xs text-gray-500",children:[t.correct,"/",t.total]})]}),e.jsx("div",{className:"h-1 bg-dark-900 rounded-full overflow-hidden",children:e.jsx(x.div,{initial:{width:0},animate:{width:`${o}%`},className:"h-full bg-js",transition:{duration:.3}})})]})]})});me.displayName="CategoryProgress";const fi=i.memo(({score:s,timeElapsed:t,challenges:a,correctAnswers:r,categoryStats:n,onRestart:o})=>{const{updatePoints:c}=fe();i.useEffect(()=>{c(s)},[s,c]);const d=l=>{const u=Math.floor(l/60),m=l%60;return`${u}:${m.toString().padStart(2,"0")}`};return e.jsxs(x.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"p-6 bg-dark-800/50 border border-js/10 rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold text-js mb-6 text-center",children:r===a.length?"Gratulacje!":"Koniec gry!"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[e.jsx(M,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Wynik końcowy"}),e.jsxs("div",{className:"text-lg font-bold text-js",children:[s," punktów"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Poprawne odpowiedzi: ",r,"/",a.length]})]})]}),e.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[e.jsx(F,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Czas ukończenia"}),e.jsx("div",{className:"text-lg font-bold text-js",children:d(t)})]})]})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-js",children:"Statystyki kategorii:"}),e.jsx(me,{category:"promises",stats:n.promises}),e.jsx(me,{category:"async-await",stats:n["async-await"]}),e.jsx(me,{category:"callbacks",stats:n.callbacks})]}),e.jsx("button",{onClick:o,className:"w-full px-6 py-3 rounded-lg bg-js text-dark font-medium hover:bg-js/90 transition-colors",children:"Zagraj ponownie"})]})});fi.displayName="AsyncQuestSummary";const wi=i.memo(({isGameOver:s,gameStats:t,finalTime:a,currentChallenge:r,gameContent:n,onScoreUpdate:o,onLevelComplete:c,onGameOver:d,onRestart:l})=>e.jsx(W,{mode:"wait",children:e.jsx("div",{className:"flex-1 overflow-y-auto py-6",children:s?e.jsx(x.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},children:e.jsx(fi,{score:t.score,timeElapsed:a,challenges:(n==null?void 0:n.gameData)||[],correctAnswers:t.correctAnswers,categoryStats:t.categoryStats,onRestart:l})},"game-over"):e.jsx(x.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.3},className:"w-full",children:e.jsx(bi,{currentChallenge:r,onScoreUpdate:o,onLevelComplete:c,currentLevel:t.currentLevel,totalLevels:t.totalLevels,onGameOver:d})},`level-${t.currentLevel}`)})}));wi.displayName="GameContent";const Ni=i.memo(({stats:s,isGameOver:t,finalTime:a})=>{const r=o=>{const c=Math.floor(o/60),d=o%60;return`${c}:${d.toString().padStart(2,"0")}`},n=t?a:s.timeElapsed;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs(x.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(A,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Poziom"}),e.jsxs("div",{className:"text-lg font-bold text-js",children:[s.currentLevel,"/",s.totalLevels]})]})]}),e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(M,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Punkty"}),e.jsx("div",{className:"text-lg font-bold text-js",children:s.score}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Poprawne: ",s.correctAnswers,"/",s.totalLevels]})]})]}),e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(F,{className:"w-5 h-5 text-js"}),e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Czas"}),e.jsx("div",{className:"text-lg font-bold text-js flex flex-wrap w-full",children:e.jsxs("span",{className:"block w-full break-words",children:[r(n),"/",r(s.maxTime)]})})]})]})]}),e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-2",children:[e.jsx(me,{category:"promises",stats:s.categoryStats.promises}),e.jsx(me,{category:"async-await",stats:s.categoryStats["async-await"]}),e.jsx(me,{category:"callbacks",stats:s.categoryStats.callbacks})]})]})});Ni.displayName="AsyncQuestStats";const vi=i.memo(({isGameStarted:s,isGameOver:t,gameStats:a,onGameStart:r})=>{const{gameContent:n}=hi();return s?e.jsx(Ni,{stats:a,isGameOver:t,finalTime:a.timeElapsed}):n?e.jsx(ge,{gameContent:n,onStart:r}):e.jsxs("div",{className:"w-full p-6 text-center",children:[e.jsx("p",{className:"text-lg text-purple-200",children:"Brak danych gry"}),e.jsx("button",{className:"mt-4 px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-md transition-colors",onClick:r,children:"Rozpocznij mimo to"})]})});vi.displayName="GameHeader";const ki=i.memo(()=>{const{gameContent:s,isLoading:t,error:a}=hi(),{isGameStarted:r,isGameOver:n,gameStats:o,finalTime:c,currentChallenge:d,handleScoreUpdate:l,handleLevelComplete:u,handleGameOver:m,handleRestart:p,handleStartGame:h}=Qc({gameContent:s,isPaused:!1}),{pageTitle:j,pageDescription:w}=Jc();return e.jsxs("div",{className:"flex flex-col h-full text-white rounded-lg shadow-xl overflow-hidden",children:[e.jsxs(te,{children:[e.jsx("title",{children:j}),e.jsx("meta",{name:"description",content:w})]}),e.jsx(ji,{isLoading:t,error:a,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx(vi,{isGameStarted:r,isGameOver:n,gameStats:o,onGameStart:h}),r&&e.jsx(wi,{isGameOver:n,gameStats:o,finalTime:c,currentChallenge:d,gameContent:s,onScoreUpdate:l,onLevelComplete:u,onGameOver:m,onRestart:p})]})})]})});ki.displayName="AsyncQuest";const Kc=Object.freeze(Object.defineProperty({__proto__:null,default:ki},Symbol.toStringTag,{value:"Module"})),Si=i.memo(({stats:s,isGameOver:t,finalTime:a})=>{const r=o=>{const c=Math.floor(o/60),d=o%60;return`${c}:${d.toString().padStart(2,"0")}`},n=t?a:s.timeElapsed;return e.jsxs(x.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(A,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Poziom"}),e.jsxs("div",{className:"text-lg font-bold text-js",children:[s.currentLevel,"/",s.totalLevels]})]})]}),e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(M,{className:"w-5 h-5 text-js"}),e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Punkty"}),e.jsx("div",{className:"text-lg font-bold text-js",children:s.score}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Poprawne: ",s.correctAnswers,"/",s.totalLevels]})]})]}),e.jsxs("div",{className:"bg-dark-800/50 border border-js/10 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(F,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Czas"}),e.jsx("div",{className:"text-lg font-bold text-js flex flex-wrap w-full",children:e.jsxs("span",{className:"block w-full break-words",children:[r(n),"/",r(s.maxTime)]})})]})]})]})});Si.displayName="RegexRaiderStats";const qc=()=>{const{data:s,isLoading:t,error:a}=oe();return{gameContent:i.useMemo(()=>s==null?void 0:s.games.find(n=>n.slug==="regex-raider"),[s==null?void 0:s.games]),isLoading:t,error:a}},Xc=({gameContent:s,isPaused:t})=>{const[a,r]=i.useState(!1),[n,o]=i.useState(!1),[c,d]=i.useState(0),[l,u]=i.useState({currentLevel:1,totalLevels:0,score:0,timeElapsed:0,maxTime:300,correctAnswers:0}),{timeElapsed:m,resetTimer:p,startTimer:h,stopTimer:j}=be({maxTime:l.maxTime,onTimeEnd:()=>{o(!0),d(m),j()},isPaused:t});i.useEffect(()=>{s!=null&&s.gameData&&u(T=>z(S({},T),{totalLevels:s.gameData.length}))},[s]),i.useEffect(()=>{n||u(T=>z(S({},T),{timeElapsed:m}))},[m,n]);const w=i.useCallback(T=>{u(f=>z(S({},f),{score:f.score+T,correctAnswers:f.correctAnswers+1}))},[]),y=i.useCallback(()=>{u(T=>{const f=T.currentLevel+1;return f>T.totalLevels&&(o(!0),d(m),j()),z(S({},T),{currentLevel:f})})},[m,j]),b=i.useCallback(()=>{u(T=>({currentLevel:1,totalLevels:T.totalLevels,score:0,timeElapsed:0,maxTime:300,correctAnswers:0})),o(!1),p(),h()},[p,h]),v=i.useCallback(()=>{o(!0),d(m),j()},[m,j]),C=i.useCallback(()=>{r(!0),h()},[h]);return{isGameStarted:a,isGameOver:n,finalTime:c,gameStats:l,currentChallenge:s!=null&&s.gameData?s.gameData[l.currentLevel-1]:void 0,handleScoreUpdate:w,handleLevelComplete:y,handleRestart:b,handleStartGame:C,handleGameOver:v}},zi=()=>{const s=i.useMemo(()=>({initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}}),[]),t=i.useMemo(()=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3}}),[]),a=i.useMemo(()=>({initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3}}),[]);return{containerAnimation:s,gameAnimation:t,summaryAnimation:a}},Ci=i.memo(({isLoading:s,error:t,children:a})=>s?e.jsx("div",{className:"w-full h-64 flex items-center justify-center",children:e.jsxs(x.div,{className:"text-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[e.jsx(x.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"text-js text-4xl mx-auto mb-4",children:e.jsx(ne,{})}),e.jsx("div",{className:"text-xl font-medium text-gray-100 mb-2",children:"Ładowanie gry..."})]})}):t?e.jsx("div",{className:"w-full h-64 flex items-center justify-center",children:e.jsxs(x.div,{className:"text-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[e.jsx("div",{className:"text-red-500 text-4xl mx-auto mb-4",children:e.jsx(K,{})}),e.jsx("div",{className:"text-xl font-medium text-gray-100 mb-2",children:"Wystąpił błąd"}),e.jsx("div",{className:"text-gray-400",children:t.message})]})}):e.jsx(e.Fragment,{children:a}));Ci.displayName="LoadingErrorContainer";const Ti=i.memo(({pattern:s,explanation:t,example:a})=>e.jsx(x.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-dark-800/50 border border-js/10 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-js/10",children:e.jsx(ue,{className:"w-4 h-4 text-js"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm text-gray-400",children:t}),s&&e.jsx("div",{className:"font-mono text-sm bg-dark-900/50 p-2 rounded text-js",children:s}),a&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Przykład: ",e.jsx("span",{className:"text-gray-400",children:a})]})]})]})}));Ti.displayName="RegexRaiderHint";const Li=i.memo(({onScoreUpdate:s,onLevelComplete:t,currentLevel:a,onGameOver:r})=>{const{data:n}=oe(),o=n==null?void 0:n.games.find(y=>y.slug==="regex-raider"),[c,d]=i.useState(""),[l,u]=i.useState([]),[m,p]=i.useState(null);if(!o)return null;const h=o.gameData[a-1],j=i.useCallback(y=>{const b=y.target.value;d(b),p(null);try{const v=new RegExp(b,"g"),C=h.text.match(v)||[];u(C)}catch(v){u([])}},[h]),w=i.useCallback(()=>{try{const y=h.text.match(new RegExp(c,"g"))||[],b=h.text.match(new RegExp(h.correctRegex,"g"))||[],v=y.length===b.length&&y.every(C=>b.includes(C));p(v),v?(s(10),setTimeout(()=>{t(),d(""),u([]),p(null)},1500)):setTimeout(()=>{r()},1500)}catch(y){p(!1),setTimeout(()=>{r()},1500)}},[c,h,s,t,r]);return e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-dark-800/50 border border-js/10 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Zadanie:"}),e.jsx("div",{className:"text-lg text-js mb-4",children:h.task}),e.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Tekst:"}),e.jsx("div",{className:"font-mono bg-dark-900/50 p-4 rounded-lg text-gray-300",children:h.text})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("input",{type:"text",value:c,onChange:j,placeholder:"Wpisz wyrażenie regularne...",style:{backgroundColor:"#1a1a1a"},className:"bg-dark-900 flex-1 border border-js/10 rounded-lg px-4 py-2 text-js font-mono placeholder-yellow-500"}),e.jsx("button",{onClick:w,className:"px-6 py-2 bg-js text-dark font-medium rounded-lg hover:bg-js/90 transition-colors",children:"Sprawdź"})]}),l.length>0&&e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 bg-dark-900/50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Znalezione dopasowania:"}),e.jsx("div",{className:"space-y-1",children:l.map((y,b)=>e.jsx("div",{className:"font-mono text-js",children:y},b))})]}),m!==null&&e.jsx(x.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-4 rounded-lg ${m?"bg-green-500/20 border border-green-500/30":"bg-red-500/20 border border-red-500/30"}`,children:e.jsx("p",{className:`text-sm ${m?"text-green-400":"text-red-400"}`,children:m?"Świetnie! Wyrażenie regularne jest poprawne!":"Wyrażenie nie znajduje wszystkich wymaganych dopasowań."})}),m===!1&&e.jsx(Ti,{pattern:h.correctRegex,explanation:"Niepoprawne wyrażenie regularne. Gra zostanie zakończona...",example:`Poprawne wyrażenie: ${h.correctRegex}`})]})]})});Li.displayName="RegexRaiderGame";const Pi=i.memo(({score:s,timeElapsed:t,correctAnswers:a,totalLevels:r,onRestart:n})=>{const{updatePoints:o}=fe();i.useEffect(()=>{o(s)},[s,o]);const c=d=>{const l=Math.floor(d/60),u=d%60;return`${l}:${u.toString().padStart(2,"0")}`};return e.jsxs(x.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"p-6 bg-dark-800/50 border border-js/10 rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold text-js mb-6 text-center",children:"Koniec gry!"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[e.jsx(M,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Wynik końcowy"}),e.jsxs("div",{className:"text-lg font-bold text-js",children:[s," punktów"]})]})]}),e.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[e.jsx(q,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Rozwiązane zadania"}),e.jsxs("div",{className:"text-lg font-bold text-js",children:[a,"/",r]})]})]}),e.jsxs("div",{className:"p-4 bg-dark-900/50 rounded-lg flex items-center gap-3",children:[e.jsx(F,{className:"w-5 h-5 text-js"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Czas gry"}),e.jsx("div",{className:"text-lg font-bold text-js",children:c(t)})]})]})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:n,className:"px-6 py-3 bg-js text-dark font-medium rounded-lg hover:bg-js/90 transition-colors",children:"Zagraj ponownie"})})]})});Pi.displayName="RegexRaiderSummary";const Ei=i.memo(({isGameOver:s,gameStats:t,finalTime:a,onScoreUpdate:r,onLevelComplete:n,onGameOver:o,onRestart:c})=>{const{gameAnimation:d,summaryAnimation:l}=zi();return e.jsx(W,{mode:"wait",children:s?e.jsx(x.div,{initial:l.initial,animate:l.animate,exit:l.exit,transition:l.transition,children:e.jsx(Pi,{score:t.score,timeElapsed:a,correctAnswers:t.correctAnswers,totalLevels:t.totalLevels,onRestart:c})},"game-over"):e.jsx(x.div,{initial:d.initial,animate:d.animate,exit:d.exit,transition:d.transition,className:"w-full",children:e.jsx(Li,{onScoreUpdate:r,onLevelComplete:n,currentLevel:t.currentLevel,onGameOver:o})},`level-${t.currentLevel}`)})});Ei.displayName="GameContent";const Ai=i.memo(({isPaused:s=!1})=>{const{gameContent:t,isLoading:a,error:r}=qc(),{containerAnimation:n}=zi(),{pageTitle:o,pageDescription:c}=ii(),{isGameStarted:d,isGameOver:l,finalTime:u,gameStats:m,handleScoreUpdate:p,handleLevelComplete:h,handleRestart:j,handleStartGame:w,handleGameOver:y}=Xc({gameContent:t,isPaused:s});return e.jsx(Ci,{isLoading:a,error:r,children:t&&e.jsx(e.Fragment,{children:d?e.jsxs(x.div,z(S({},n),{className:"w-full space-y-6",children:[e.jsxs(te,{children:[e.jsx("title",{children:o}),e.jsx("meta",{name:"description",content:c})]}),e.jsx(Si,{stats:m,isGameOver:l,finalTime:u}),e.jsx(Ei,{isGameOver:l,gameStats:m,finalTime:u,onScoreUpdate:p,onLevelComplete:h,onGameOver:y,onRestart:j})]})):e.jsx(ge,{gameContent:t,onStart:w})})})});Ai.displayName="RegexRaider";const Yc=Object.freeze(Object.defineProperty({__proto__:null,default:Ai},Symbol.toStringTag,{value:"Module"})),$i=()=>{const{data:s,isLoading:t,error:a}=oe();return{gameContent:i.useMemo(()=>{if(!(!s||!s.games||!Array.isArray(s.games)))return s.games.find(n=>n.slug==="js-quiz")},[s]),isLoading:t,error:a}},ed=({gameContent:s,isPaused:t})=>{var T;const[a,r]=i.useState(!1),[n,o]=i.useState(!1),[c,d]=i.useState(0),[l,u]=i.useState({currentLevel:1,totalLevels:0,score:0,timeElapsed:0,maxTime:300,correctAnswers:0,categoryStats:{basics:{total:0,correct:0,points:0},advanced:{total:0,correct:0,points:0},frameworks:{total:0,correct:0,points:0}}}),{timeElapsed:m,resetTimer:p,startTimer:h,stopTimer:j}=be({maxTime:s!=null&&s.estimatedTime?s.estimatedTime*60:300,onTimeEnd:()=>{o(!0),d(m),j()},isPaused:t});i.useEffect(()=>{u(f=>z(S({},f),{timeElapsed:m}))},[m]),i.useEffect(()=>{if(!(s!=null&&s.gameData))return;const f={basics:{total:0,correct:0,points:0},advanced:{total:0,correct:0,points:0},frameworks:{total:0,correct:0,points:0}};s.gameData.forEach(N=>{const g=N.category;g&&f[g]&&(f[g].total++,f[g].points+=N.points||0)}),u(N=>z(S({},N),{totalLevels:s.gameData.length,maxTime:s.estimatedTime?s.estimatedTime*60:300,categoryStats:f}))},[s]);const w=i.useCallback((f,N)=>{u(g=>z(S({},g),{score:g.score+f,correctAnswers:g.correctAnswers+1,categoryStats:z(S({},g.categoryStats),{[N]:g.categoryStats[N]?z(S({},g.categoryStats[N]),{correct:g.categoryStats[N].correct+1}):{total:0,correct:1,points:f}})}))},[]),y=i.useCallback(()=>{var N;const f=l.currentLevel+1;if(f>(((N=s==null?void 0:s.gameData)==null?void 0:N.length)||0)){o(!0),d(m),j();return}u(g=>z(S({},g),{currentLevel:f}))},[l.currentLevel,m,(T=s==null?void 0:s.gameData)==null?void 0:T.length,j]),b=i.useCallback(()=>{if(!(s!=null&&s.gameData))return;const f={basics:{total:0,correct:0,points:0},advanced:{total:0,correct:0,points:0},frameworks:{total:0,correct:0,points:0}};s.gameData.forEach(N=>{const g=N.category;g&&f[g]&&(f[g].total++,f[g].points+=N.points||0)}),u({currentLevel:1,totalLevels:s.gameData.length,score:0,timeElapsed:0,maxTime:s.estimatedTime?s.estimatedTime*60:300,correctAnswers:0,categoryStats:f}),o(!1),d(0),p(),h()},[p,h,s]),v=i.useCallback(()=>{r(!0),h()},[h]),C=i.useCallback(()=>{o(!0),d(m),j()},[m,j]);return{isGameStarted:a,isGameOver:n,finalTime:c,gameStats:l,currentChallenge:s!=null&&s.gameData?s.gameData[l.currentLevel-1]:void 0,handleScoreUpdate:w,handleLevelComplete:y,handleRestart:b,handleStartGame:v,handleGameOver:C}},sd=({title:s,description:t,gameName:a="JS Quiz"}={})=>{const r=i.useMemo(()=>s||`${a} - Quiz JavaScript | CodeLinesJS`,[s,a]),n=i.useMemo(()=>t||`Sprawdź swoją wiedzę z JavaScript w quizie ${a}. Odpowiadaj na pytania i zdobywaj punkty za poprawne odpowiedzi.`,[t,a]);return{pageTitle:r,pageDescription:n}},Ri=i.memo(({isLoading:s,error:t,children:a})=>s?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center",children:[e.jsx(x.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"text-4xl text-js mb-4",children:e.jsx(ne,{})}),e.jsx("p",{className:"text-xl font-medium text-js/80",children:"Ładowanie gry..."})]}):t?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-6",children:[e.jsx(x.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-4xl text-red-400 mb-4",children:e.jsx(K,{})}),e.jsx("h2",{className:"text-xl font-bold text-red-300 mb-2",children:"Wystąpił błąd"}),e.jsx("p",{className:"text-md text-red-200",children:t.message})]}):a?e.jsx(e.Fragment,{children:a}):e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx("p",{className:"text-lg text-js/80",children:"Gra niedostępna"})}));Ri.displayName="LoadingErrorContainer";const Di=s=>{switch(s){case"basics":return A;case"advanced":return En;case"frameworks":return Pn;default:return A}},Fi=s=>{switch(s){case"basics":return"Podstawy JavaScript";case"advanced":return"Zaawansowany JS";case"frameworks":return"Frameworki JS"}},td=s=>{switch(s){case"easy":return"bg-green-500/20 text-green-400";case"medium":return"bg-yellow-500/20 text-yellow-400";case"hard":return"bg-red-500/20 text-red-400"}},ad=s=>{switch(s){case"easy":return"Łatwy";case"medium":return"Średni";case"hard":return"Trudny"}},Mi=i.memo(({currentLevel:s,totalLevels:t})=>{const a=s/t*100;return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex justify-between mb-1 text-sm text-gray-400",children:[e.jsxs("span",{children:["Pytanie ",s," z ",t]}),e.jsxs("span",{children:[Math.round(a),"%"]})]}),e.jsx("div",{className:"w-full h-2 bg-gray-700 rounded-full overflow-hidden",children:e.jsx(x.div,{className:"h-full bg-js",initial:{width:0},animate:{width:`${a}%`},transition:{duration:.5}})})]})});Mi.displayName="JSQuizProgress";const As=()=>{const s=i.useMemo(()=>({initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5}}),[]),t=i.useMemo(()=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4}}),[]),a=i.useMemo(()=>({initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.4}}),[]),r=i.useMemo(()=>({initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},transition:{duration:.3}}),[]);return{containerAnimation:s,gameAnimation:t,summaryAnimation:a,optionAnimation:r}},Oi=i.memo(({currentChallenge:s,onScoreUpdate:t,onLevelComplete:a,currentLevel:r,totalLevels:n,onGameOver:o})=>{const[c,d]=i.useState(null),[l,u]=i.useState(!1),[m,p]=i.useState(null),{optionAnimation:h}=As(),j=i.useCallback(b=>{d(b);const v=b===s.correct;p(v),u(!0),v?(t(s.points||10,s.category),setTimeout(()=>{a(),d(null),u(!1),p(null)},1500)):setTimeout(()=>{o()},2e3)},[s,t,a,o]),w=i.useCallback(b=>{!l&&b<s.options.length&&j(s.options[b])},[l,s.options,j]);Yr({onNumber1:()=>w(0),onNumber2:()=>w(1),onNumber3:()=>w(2),onNumber4:()=>w(3),disabled:l});const y=Di(s.category)||A;return e.jsxs(x.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},className:"w-full space-y-6",children:[e.jsx(Mi,{currentLevel:r,totalLevels:n}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-js/10",children:e.jsx(y,{className:"w-4 h-4 text-js"})}),e.jsx("div",{className:"text-sm text-gray-400",children:Fi(s.category)})]}),e.jsx("div",{className:`px-3 py-1 rounded-lg text-sm ${td(s.difficulty)}`,children:ad(s.difficulty)})]}),e.jsx("div",{className:"p-6 bg-dark-800/50 border border-js/10 rounded-lg mb-6",children:e.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:s.question})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.options.map((b,v)=>e.jsxs(x.button,z(S({whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>j(b),disabled:l,className:`
              w-full
              relative p-4 rounded-lg font-medium text-left transition-colors
              ${c===b?m?"bg-green-500/20 border-green-500/30 text-green-400":"bg-red-500/20 border-red-500/30 text-red-400":"bg-dark-800/50 border border-js/10 text-gray-300 hover:border-js/30"}
            `},h),{transition:z(S({},h.transition),{delay:v*.1}),children:[e.jsx("span",{className:"absolute top-2 left-2 text-xs text-gray-500",children:v+1}),b]}),b))}),e.jsx("div",{className:"text-sm text-gray-500 text-center",children:"Użyj klawiszy numerycznych (1-4) aby wybrać odpowiedź"}),l&&e.jsx(x.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-4 rounded-lg ${m?"bg-green-500/20 border border-green-500/30":"bg-red-500/20 border border-red-500/30"}`,children:e.jsxs("p",{className:`text-sm ${m?"text-green-400":"text-red-400"}`,children:[m?"Świetnie! ":"Spróbuj jeszcze raz. ",s.explanation]})})]},r)});Oi.displayName="JSQuizGame";const _i=i.memo(({score:s,timeElapsed:t,challenges:a,correctAnswers:r,categoryStats:n,onRestart:o})=>{const{updatePoints:c}=fe();i.useEffect(()=>{c(s)},[s,c]);const d=m=>{const p=Math.floor(m/60),h=m%60;return`${p}:${h<10?"0":""}${h}`},l=(m,p)=>p>0?Math.round(m/p*100):0,u=()=>n?Object.entries(n).filter(([m,p])=>p&&typeof p=="object").map(([m,p])=>{const h=Di(m),j=l(p.correct||0,p.total||0);return e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-dark-800/50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(h,{className:"text-js"}),e.jsx("h3",{className:"text-lg font-medium",children:Fi(m)})]}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mb-1",children:[e.jsxs("span",{children:["Poprawne: ",p.correct||0,"/",p.total||0]}),e.jsxs("span",{children:[j,"%"]})]}),e.jsx("div",{className:"w-full h-2 bg-gray-700 rounded-full overflow-hidden",children:e.jsx(x.div,{className:"h-full bg-js",initial:{width:0},animate:{width:`${j}%`},transition:{duration:.5,delay:.5}})})]},m)}):null;return e.jsxs("div",{className:"w-full max-w-3xl mx-auto p-6",children:[e.jsxs(x.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-10",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Koniec Quizu!"}),e.jsxs("p",{className:"text-gray-400",children:["Ukończyłeś quiz z wynikiem ",s," punktów, odpowiadając poprawnie na ",r," z"," ",(a==null?void 0:a.length)||0," pytań."]})]}),e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"grid grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-dark-800/50 p-4 rounded-lg flex flex-col items-center justify-center",children:[e.jsx(q,{className:"text-3xl text-js mb-2"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Punkty"}),e.jsx("div",{className:"text-2xl font-bold",children:s})]}),e.jsxs("div",{className:"bg-dark-800/50 p-4 rounded-lg flex flex-col items-center justify-center",children:[e.jsx(G,{className:"text-3xl text-green-400 mb-2"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Poprawne odpowiedzi"}),e.jsxs("div",{className:"text-2xl font-bold",children:[r,"/",(a==null?void 0:a.length)||0]})]}),e.jsxs("div",{className:"bg-dark-800/50 p-4 rounded-lg flex flex-col items-center justify-center",children:[e.jsx(F,{className:"text-3xl text-js mb-2"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Całkowity czas"}),e.jsx("div",{className:"text-2xl font-bold",children:d(t)})]})]}),e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mb-8",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Wyniki według kategorii"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:u()})]}),e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"text-center",children:e.jsxs("button",{onClick:o,className:"bg-js/80 hover:bg-js text-dark px-6 py-3 rounded-lg font-medium flex items-center justify-center gap-2 mx-auto transition-colors",children:[e.jsx(Ns,{className:"text-dark"}),"Zagraj jeszcze raz"]})})]})});_i.displayName="JSQuizSummary";const Bi=i.memo(({isGameOver:s,gameStats:t,currentChallenge:a,finalTime:r,gameContent:n,onScoreUpdate:o,onLevelComplete:c,onGameOver:d,onRestart:l})=>{const{gameAnimation:u,summaryAnimation:m}=As();return!a&&!s?e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsx("p",{className:"text-js",children:"Ładowanie pytania..."})}):e.jsx(W,{mode:"wait",children:e.jsx("div",{className:"flex-1 overflow-y-auto py-6",children:s?e.jsx(x.div,{initial:m.initial,animate:m.animate,exit:m.exit,transition:m.transition,children:e.jsx(_i,{score:t.score,timeElapsed:r,challenges:(n==null?void 0:n.gameData)||[],correctAnswers:t.correctAnswers,categoryStats:t.categoryStats,onRestart:l})},"game-over"):e.jsx(x.div,{initial:u.initial,animate:u.animate,exit:u.exit,transition:u.transition,className:"w-full",children:a&&e.jsx(Oi,{currentChallenge:a,onScoreUpdate:o,onLevelComplete:c,currentLevel:t.currentLevel,totalLevels:t.totalLevels,onGameOver:d})},`level-${t.currentLevel}`)})})});Bi.displayName="GameContent";const Ii=i.memo(({stats:s,isGameOver:t,finalTime:a})=>{const r=o=>{const c=Math.floor(o/60),d=o%60;return`${c}:${d<10?"0":""}${d}`},n=t?a:s.timeElapsed;return e.jsx("div",{className:"w-full p-4 bg-dark-800/50 rounded-lg mb-4",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs(x.div,{className:"flex items-center gap-2 text-js",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsx(q,{className:"text-lg"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400",children:"Punkty"}),e.jsx("div",{className:"font-semibold",children:s.score})]})]}),e.jsxs(x.div,{className:"flex items-center gap-2 text-green-400",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.2},children:[e.jsx(G,{className:"text-lg"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400",children:"Poprawne"}),e.jsxs("div",{className:"font-semibold",children:[s.correctAnswers," / ",s.totalLevels]})]})]}),e.jsxs(x.div,{className:"flex items-center gap-2 text-js",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.3},children:[e.jsx(F,{className:"text-lg"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400",children:"Czas"}),e.jsx("div",{className:"font-semibold",children:r(n)})]})]})]})})});Ii.displayName="JSQuizStats";const ps=i.memo(({isGameStarted:s,isGameOver:t,gameStats:a,onGameStart:r})=>{const{gameContent:n}=$i();return s?e.jsx(Ii,{stats:a,isGameOver:t,finalTime:a.timeElapsed}):n?e.jsx(ge,{gameContent:n,onStart:r}):e.jsxs("div",{className:"w-full p-6 text-center",children:[e.jsx("p",{className:"text-lg text-js/80",children:"Brak danych gry"}),e.jsx("button",{className:"mt-4 px-6 py-2 bg-js/80 hover:bg-js text-white rounded-md transition-colors",onClick:r,children:"Rozpocznij mimo to"})]})});ps.displayName="GameHeader";const Hi=i.memo(({isPaused:s=!1})=>{const{gameContent:t,isLoading:a,error:r}=$i(),{containerAnimation:n}=As(),{pageTitle:o,pageDescription:c}=sd(),{isGameStarted:d,isGameOver:l,finalTime:u,gameStats:m,currentChallenge:p,handleScoreUpdate:h,handleLevelComplete:j,handleRestart:w,handleStartGame:y,handleGameOver:b}=ed({gameContent:t,isPaused:s});return e.jsx(Ri,{isLoading:a,error:r,children:t&&e.jsx(e.Fragment,{children:d?e.jsxs(x.div,z(S({},n),{className:"w-full h-full flex flex-col",children:[e.jsxs(te,{children:[e.jsx("title",{children:o}),e.jsx("meta",{name:"description",content:c})]}),e.jsx(ps,{isGameStarted:d,isGameOver:l,gameStats:m,onGameStart:y}),e.jsx(Bi,{isGameOver:l,gameStats:m,currentChallenge:p,finalTime:u,gameContent:t,onScoreUpdate:h,onLevelComplete:j,onGameOver:b,onRestart:w})]})):e.jsx(ps,{isGameStarted:d,isGameOver:l,gameStats:m,onGameStart:y})})})});Hi.displayName="JSQuiz";const rd=Object.freeze(Object.defineProperty({__proto__:null,default:Hi},Symbol.toStringTag,{value:"Module"})),id=()=>{const{data:s,isLoading:t,error:a}=oe();return{gameContent:i.useMemo(()=>{if(!(!s||!s.games||!Array.isArray(s.games)))return s.games.find(n=>n.slug==="method-quiz")},[s]),isLoading:t,error:a}},Gi=i.memo(({isLoading:s,error:t,children:a})=>s?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center",children:[e.jsx(x.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"text-4xl text-js mb-4",children:e.jsx(ne,{})}),e.jsx("p",{className:"text-xl font-medium text-js/80",children:"Ładowanie Method Quiz..."})]}):t?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-6",children:[e.jsx(x.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-4xl text-red-400 mb-4",children:e.jsx(K,{})}),e.jsx("h2",{className:"text-xl font-bold text-red-300 mb-2",children:"Wystąpił błąd"}),e.jsx("p",{className:"text-md text-red-200",children:t.message})]}):a?e.jsx(e.Fragment,{children:a}):e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx("p",{className:"text-lg text-js/80",children:"Method Quiz niedostępny"})}));Gi.displayName="LoadingErrorContainer";const $s=()=>i.useMemo(()=>({containerAnimation:{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,ease:"easeOut"}},gameAnimation:{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3}},summaryAnimation:{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.4}},optionAnimation:{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2}}}),[]),nd=()=>i.useMemo(()=>({pageTitle:"Method Quiz | CodeLinesJS",pageDescription:"Sprawdź swoją znajomość metod JavaScript! Uzupełnij brakujące metody w kodzie i zobacz jak dobrze znasz Array, String, Object i DOM methods."}),[]),od=({gameContent:s,isPaused:t})=>{var T;const[a,r]=i.useState(!1),[n,o]=i.useState(!1),[c,d]=i.useState(0),[l,u]=i.useState({currentLevel:1,totalLevels:0,score:0,timeElapsed:0,maxTime:300,correctAnswers:0,categoryStats:{"array-methods":{total:0,correct:0,points:0},"string-methods":{total:0,correct:0,points:0},"object-methods":{total:0,correct:0,points:0},"dom-methods":{total:0,correct:0,points:0}}}),{timeElapsed:m,resetTimer:p,startTimer:h,stopTimer:j}=be({maxTime:s!=null&&s.estimatedTime?s.estimatedTime*60:300,onTimeEnd:()=>{o(!0),d(m),j()},isPaused:t});i.useEffect(()=>{u(f=>z(S({},f),{timeElapsed:m}))},[m]),i.useEffect(()=>{if(!(s!=null&&s.gameData))return;const f={"array-methods":{total:0,correct:0,points:0},"string-methods":{total:0,correct:0,points:0},"object-methods":{total:0,correct:0,points:0},"dom-methods":{total:0,correct:0,points:0}};s.gameData.forEach(N=>{const g=N.category;g&&f[g]&&(f[g].total++,f[g].points+=N.points||0)}),u(N=>z(S({},N),{totalLevels:s.gameData.length,maxTime:s.estimatedTime?s.estimatedTime*60:300,categoryStats:f}))},[s]);const w=i.useCallback((f,N)=>{u(g=>z(S({},g),{score:g.score+f,correctAnswers:g.correctAnswers+1,categoryStats:z(S({},g.categoryStats),{[N]:g.categoryStats[N]?z(S({},g.categoryStats[N]),{correct:g.categoryStats[N].correct+1}):{total:0,correct:1,points:f}})}))},[]),y=i.useCallback(()=>{var N;const f=l.currentLevel+1;if(f>(((N=s==null?void 0:s.gameData)==null?void 0:N.length)||0)){o(!0),d(m),j();return}u(g=>z(S({},g),{currentLevel:f}))},[l.currentLevel,m,(T=s==null?void 0:s.gameData)==null?void 0:T.length,j]),b=i.useCallback(()=>{if(!(s!=null&&s.gameData))return;const f={"array-methods":{total:0,correct:0,points:0},"string-methods":{total:0,correct:0,points:0},"object-methods":{total:0,correct:0,points:0},"dom-methods":{total:0,correct:0,points:0}};s.gameData.forEach(N=>{const g=N.category;g&&f[g]&&(f[g].total++,f[g].points+=N.points||0)}),u({currentLevel:1,totalLevels:s.gameData.length,score:0,timeElapsed:0,maxTime:s.estimatedTime?s.estimatedTime*60:300,correctAnswers:0,categoryStats:f}),o(!1),d(0),p(),h()},[p,h,s]),v=i.useCallback(()=>{r(!0),h()},[h]),C=i.useCallback(()=>{o(!0),d(m),j()},[m,j]);return{isGameStarted:a,isGameOver:n,finalTime:c,gameStats:l,currentChallenge:s!=null&&s.gameData?s.gameData[l.currentLevel-1]:void 0,handleScoreUpdate:w,handleLevelComplete:y,handleRestart:b,handleStartGame:v,handleGameOver:C}},ld=({currentLevel:s,totalLevels:t})=>e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"text-sm text-gray-400",children:["Pytanie ",s," z ",t]}),e.jsx("div",{className:"w-48 bg-dark-700 rounded-full h-2",children:e.jsx("div",{className:"bg-js h-2 rounded-full transition-all duration-300",style:{width:`${s/t*100}%`}})})]}),cd=s=>{switch(s){case"array-methods":return cs;case"string-methods":return mt;case"object-methods":return Pe;case"dom-methods":return Cs;default:return A}},dd=s=>{switch(s){case"array-methods":return"Array Methods";case"string-methods":return"String Methods";case"object-methods":return"Object Methods";case"dom-methods":return"DOM Methods";default:return"Methods"}},md=s=>{switch(s){case"easy":return"bg-green-500/20 text-green-400";case"medium":return"bg-yellow-500/20 text-yellow-400";case"hard":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-400"}},xd=s=>{switch(s){case"easy":return"Łatwy";case"medium":return"Średni";case"hard":return"Trudny";default:return s}},Wi=i.memo(({currentChallenge:s,onScoreUpdate:t,onLevelComplete:a,currentLevel:r,totalLevels:n,onGameOver:o})=>{const[c,d]=i.useState(null),[l,u]=i.useState(!1),[m,p]=i.useState(null),{optionAnimation:h}=$s(),j=i.useCallback(y=>{d(y);const b=y===s.correct;p(b),u(!0),b?(t(s.points||10,s.category),setTimeout(()=>{a(),d(null),u(!1),p(null)},2500)):setTimeout(()=>{o()},3e3)},[s,t,a,o]),w=cd(s.category);return e.jsxs(x.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},className:"w-full space-y-6",children:[e.jsx(ld,{currentLevel:r,totalLevels:n}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-js/10",children:e.jsx(w,{className:"w-4 h-4 text-js"})}),e.jsx("div",{className:"text-sm text-gray-400",children:dd(s.category)})]}),e.jsx("div",{className:`px-3 py-1 rounded-lg text-sm ${md(s.difficulty)}`,children:xd(s.difficulty)})]}),e.jsxs("div",{className:"p-6 bg-dark-900/80 border border-js/20 rounded-lg mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(A,{className:"text-js text-sm"}),e.jsx("span",{className:"text-sm text-gray-400",children:"Fragment kodu"})]}),e.jsx("pre",{className:"text-green-400 font-mono text-sm whitespace-pre-wrap overflow-x-auto",children:s.codeSnippet})]}),e.jsxs("div",{className:"p-4 bg-dark-800/50 border border-js/10 rounded-lg mb-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-white mb-2",children:["Jaka metoda powinna być w miejscu ",e.jsx("span",{className:"text-js font-mono",children:"___"}),"?"]}),s.hint&&e.jsxs("p",{className:"text-sm text-gray-400",children:["💡 Podpowiedź: ",s.hint]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.options.map((y,b)=>e.jsxs(x.button,z(S({whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>j(y),disabled:l,className:`
              w-full
              relative p-4 rounded-lg font-medium text-left transition-colors font-mono
              ${c===y?m?"bg-green-500/20 border-green-500/30 text-green-400":"bg-red-500/20 border-red-500/30 text-red-400":"bg-dark-800/50 border border-js/10 text-gray-300 hover:border-js/30"}
            `},h),{transition:z(S({},h.transition),{delay:b*.1}),children:[e.jsx("span",{className:"absolute top-2 left-2 text-xs text-gray-500 font-sans",children:String.fromCharCode(65+b)}),e.jsxs("div",{className:"pl-6",children:[y,"()"]})]}),y))}),e.jsx("div",{className:"text-sm text-gray-500 text-center",children:"Wybierz poprawną metodę JavaScript (A-D)"}),l&&e.jsxs(x.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-4 rounded-lg space-y-3 ${m?"bg-green-500/20 border border-green-500/30":"bg-red-500/20 border border-red-500/30"}`,children:[e.jsxs("p",{className:`text-sm font-medium ${m?"text-green-400":"text-red-400"}`,children:[m?"🎉 Świetnie!":"❌ Niepoprawne.",s.explanation]}),s.expectedOutput&&e.jsxs("div",{className:"p-3 bg-dark-900/50 rounded border border-js/10",children:[e.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Oczekiwany wynik:"}),e.jsx("code",{className:"text-green-400 font-mono text-sm",children:s.expectedOutput})]}),m&&e.jsxs("p",{className:"text-sm text-green-300",children:["+",s.points||10," punktów"]})]})]},r)});Wi.displayName="MethodQuizGame";const ud=s=>{switch(s){case"array-methods":return cs;case"string-methods":return mt;case"object-methods":return Pe;case"dom-methods":return Cs;default:return cs}},pd=s=>{switch(s){case"array-methods":return"Array Methods";case"string-methods":return"String Methods";case"object-methods":return"Object Methods";case"dom-methods":return"DOM Methods";default:return"Methods"}},Ui=i.memo(({score:s,timeElapsed:t,challenges:a,correctAnswers:r,categoryStats:n,onRestart:o})=>{const{updatePoints:c}=fe();i.useEffect(()=>{c(s)},[s,c]);const d=m=>{const p=Math.floor(m/60),h=m%60;return`${p}:${h<10?"0":""}${h}`},l=(m,p)=>p>0?Math.round(m/p*100):0,u=()=>n?Object.entries(n).filter(([m,p])=>p&&typeof p=="object").map(([m,p])=>{const h=ud(m),j=l(p.correct||0,p.total||0);return e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-dark-800/50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(h,{className:"text-js"}),e.jsx("h3",{className:"text-lg font-medium",children:pd(m)})]}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mb-1",children:[e.jsxs("span",{children:["Poprawne: ",p.correct||0,"/",p.total||0]}),e.jsxs("span",{children:[j,"%"]})]}),e.jsx("div",{className:"w-full h-2 bg-gray-700 rounded-full overflow-hidden",children:e.jsx(x.div,{className:"h-full bg-js",initial:{width:0},animate:{width:`${j}%`},transition:{duration:.5,delay:.5}})})]},m)}):null;return e.jsxs("div",{className:"w-full max-w-3xl mx-auto p-6",children:[e.jsxs(x.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-10",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Koniec Method Quiz!"}),e.jsxs("p",{className:"text-gray-400",children:["Ukończyłeś quiz z wynikiem ",s," punktów, odpowiadając poprawnie na ",r," z"," ",(a==null?void 0:a.length)||0," pytań o metodach JavaScript."]})]}),e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"grid grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-dark-800/50 p-4 rounded-lg flex flex-col items-center justify-center",children:[e.jsx(q,{className:"text-3xl text-js mb-2"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Punkty"}),e.jsx("div",{className:"text-2xl font-bold",children:s})]}),e.jsxs("div",{className:"bg-dark-800/50 p-4 rounded-lg flex flex-col items-center justify-center",children:[e.jsx(G,{className:"text-3xl text-green-400 mb-2"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Poprawne odpowiedzi"}),e.jsxs("div",{className:"text-2xl font-bold",children:[r,"/",(a==null?void 0:a.length)||0]})]}),e.jsxs("div",{className:"bg-dark-800/50 p-4 rounded-lg flex flex-col items-center justify-center",children:[e.jsx(F,{className:"text-3xl text-js mb-2"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Całkowity czas"}),e.jsx("div",{className:"text-2xl font-bold",children:d(t)})]})]}),e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mb-8",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Wyniki według kategorii"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:u()})]}),e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"text-center",children:e.jsxs("button",{onClick:o,className:"bg-js/80 hover:bg-js text-dark px-6 py-3 rounded-lg font-medium flex items-center justify-center gap-2 mx-auto transition-colors",children:[e.jsx(Ns,{className:"text-dark"}),"Zagraj jeszcze raz"]})})]})});Ui.displayName="MethodQuizSummary";const Qi=i.memo(({isGameOver:s,gameStats:t,currentChallenge:a,finalTime:r,gameContent:n,onScoreUpdate:o,onLevelComplete:c,onGameOver:d,onRestart:l})=>{const{gameAnimation:u,summaryAnimation:m}=$s();return!a&&!s?e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsx("p",{className:"text-js",children:"Ładowanie pytania..."})}):e.jsx(W,{mode:"wait",children:e.jsx("div",{className:"flex-1 overflow-y-auto py-6",children:s?e.jsx(x.div,{initial:m.initial,animate:m.animate,exit:m.exit,transition:m.transition,children:e.jsx(Ui,{score:t.score,timeElapsed:r,challenges:(n==null?void 0:n.gameData)||[],correctAnswers:t.correctAnswers,categoryStats:t.categoryStats,onRestart:l})},"game-over"):e.jsx(x.div,{initial:u.initial,animate:u.animate,exit:u.exit,transition:u.transition,className:"w-full",children:a&&e.jsx(Wi,{currentChallenge:a,onScoreUpdate:o,onLevelComplete:c,currentLevel:t.currentLevel,totalLevels:t.totalLevels,onGameOver:d})},`level-${t.currentLevel}`)})})});Qi.displayName="GameContent";const Js=({isGameStarted:s,onGameStart:t,gameStats:a})=>s?e.jsxs("div",{className:"flex items-center justify-between p-4 bg-dark-800/50 border-b border-js/10",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Method Quiz"}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[e.jsxs("span",{children:["Poziom: ",a.currentLevel,"/",a.totalLevels]}),e.jsxs("span",{children:["Punkty: ",a.score]})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] p-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Method Quiz"}),e.jsx("p",{className:"text-gray-400 text-center mb-8 max-w-md",children:"Sprawdź swoją znajomość metod JavaScript! Uzupełnij brakujące metody w fragmentach kodu."}),e.jsx("button",{onClick:t,className:"bg-js hover:bg-js/80 text-dark px-8 py-3 rounded-lg font-medium text-lg transition-colors",children:"Rozpocznij Quiz"})]}),Ji=i.memo(({isPaused:s=!1})=>{const{gameContent:t,isLoading:a,error:r}=id(),{containerAnimation:n}=$s(),{pageTitle:o,pageDescription:c}=nd(),{isGameStarted:d,isGameOver:l,finalTime:u,gameStats:m,currentChallenge:p,handleScoreUpdate:h,handleLevelComplete:j,handleRestart:w,handleStartGame:y,handleGameOver:b}=od({gameContent:t,isPaused:s});return e.jsx(Gi,{isLoading:a,error:r,children:t&&e.jsx(e.Fragment,{children:d?e.jsxs(x.div,z(S({},n),{className:"w-full h-full flex flex-col",children:[e.jsxs(te,{children:[e.jsx("title",{children:o}),e.jsx("meta",{name:"description",content:c})]}),e.jsx(Js,{isGameStarted:d,isGameOver:l,gameStats:m,onGameStart:y}),e.jsx(Qi,{isGameOver:l,gameStats:m,currentChallenge:p,finalTime:u,gameContent:t,onScoreUpdate:h,onLevelComplete:j,onGameOver:b,onRestart:w})]})):e.jsx(Js,{isGameStarted:d,isGameOver:l,gameStats:m,onGameStart:y})})})});Ji.displayName="MethodQuiz";const hd=Object.freeze(Object.defineProperty({__proto__:null,default:Ji},Symbol.toStringTag,{value:"Module"}));export{Sd as C,zd as D,Ad as G,Ld as L,Dd as R,Td as S,ee as _,Cd as a,Pd as b,Ed as c,$d as d,Rd as e};
